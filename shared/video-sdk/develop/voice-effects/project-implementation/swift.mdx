
### Set audio scenario and audio profile

To achieve optimal vocal effects, <Vg k="COMPANY"/> recommends calling the following method before applying the vocal effect:

- setAudioScenario`: Set the audio scenario to the high-quality scenario `AgoraAudioScenarioGameStreaming`.
- `setAudioProfile`: Set the audio encoding properties to high-quality encoding:
  - Use mono transmission: Set to `AgoraAudioProfileMusicHighQuality`.
  - Use stereo transmission: Set to `AgoraAudioProfileMusicHighQualityStereo`.

```swift
// Set audioScenario in AgoraRtcEngineConfig to AgoraAudioScenarioGameStreaming
config.audioScenario = .gameStreaming
agoraKit = AgoraRtcEngineKit.sharedEngine(with: config, delegate: self)

// Call setAudioProfile to set the audio profile to AgoraAudioProfileMusicHighQuality or AgoraAudioProfileMusicHighQualityStereo
agoraKit.setAudioProfile(.musicHighQualityStereo)
```

### Enhance voice with voice beautifiers

Call `setAudioEffectPreset` to set music style, space shaping, electronic music and other effects.

* Enhance the character and charm of male voices with the 'Magnetic' vocal effect. Be cautious when applying this setting to female voices, as it may lead to distortion:

    ```swift
    // Set the vocal effect to magnetic. This enumeration only applies to beautifying male voices
    // When used to beautify female voices, it will cause distortion
    agoraKit.setVoiceBeautifierPreset(.chatBeautifierMagnetic)
    // Turn off the vocal effect
    agoraKit.setVoiceBeautifierPreset(.voiceBeautifierOff)
    ```

*  Optimize the singing voice for musical scenarios:

    ```swift
    // Beautify a male singing voice. Do not use to beautify a female voice
    agoraKit.setVoiceBeautifierPreset(.singingBeautifier)
    // Turn off the vocal effect
    agoraKit.setVoiceBeautifierPreset(.voiceBeautifierOff)
    
    // Beautify a female singing voice
    agoraKit.setVoiceBeautifierParameters(.singingBeautifier, 2, 3)
    // Turn off the vocal effect
    agoraKit.setVoiceBeautifierPreset(.voiceBeautifierOff)
    ```

*  Transform the vocal richness with the 'Vibrant' timbre transformation effect:
    
    ```swift
    // Set the timbre transformation effect
    // The default vocal effect is thick
    agoraKit.setVoiceBeautifierPreset(.timbreTransformationVigorous)
    // Turn off the vocal effect
    agoraKit.setVoiceBeautifierPreset(.voiceBeautifierOff)
    ```

### Sound effects

Call the `setAudioEffectPreset` method to set music style, space shaping, electronic music, and other effects.

*  Enhance vocal characteristics with 'Pop' style:

    ```swift
    // The default vocal effect is pop
    agoraKit.setAudioEffectPreset(.styleTransformationPopular)
    // Turn off the vocal effect
    agoraKit.setAudioEffectPreset(.audioEffectOff)
    ```

*  Simulate karaoke room acoustics with the 'KTV' effect:

    ```swift
    // The default vocal effect is the effect in KTV
    agoraKit.setAudioEffectPreset(.roomAcousticKTV)
    // Turn off the vocal effect
    agoraKit.setAudioEffectPreset(.audioEffectOff)
    ```

*  Apply electronic sound correction to a natural minor key with a pitch of C:

    ```swift
    // Set the electronic sound effect to the natural minor key with a pitch of C
    agoraKit.setAudioEffectPreset(.pitchCorrection)
    // Turn off the vocal effect
    agoraKit.setAudioEffectPreset(.audioEffectOff)
    ```

### Voice changer effects

To implement basic voice-changing effects, call the `setAudioEffectPreset` method. For advanced voice-changing effects, use the `setVoiceConversionPreset` method.

*  Default voice change effect for a more neutral voice:

    ```swift
    // The default voice change effect is a more neutral voice
    agoraKit.setVoiceConversionPreset(.voiceChangerNeutral)
    // Turn off the vocal effect
    agoraKit.setVoiceConversionPreset(.voiceConversionOff)
    ```

*  Use advanced voice-changing effect with the 'Hulk' effect:

    ```swift
    // The default vocal effect is Hulk
    agoraKit.setAudioEffectPreset(.voiceChangerEffectHulk)
    // Turn off the vocal effect
    agoraKit.setAudioEffectPreset(.audioEffectOff)
    ```

### Custom audio effects
    
Call `setLocalVoicePitch`, `setLocalVoiceEqualization`, and `setLocalVoiceReverb` to fine-tune vocal output parameters, including pitch, equalization, and reverberation effects. Transform a human voice into the distinctive sound of your choice by adjusting parameter values manually:

    ```swift
    agoraKit.setLocalVoicePitch(1)
    
    // Set the center frequency of the local vocal equalization band
    // The first parameter is the spectrum sub-band index, with values in [0, 9], representing 10 frequency bands (31, 62, 125, 250, 500, 1000, 2000, 4000, 8000, 16000 Hz)
    // The second parameter is the gain value of each frequency interval, with values in [-15, 15] dB (default is 0)
    agoraKit.setLocalVoiceEqualizationOf(.band31, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band62, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band125, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band250, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band500, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band1K, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band2K, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band4K, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band8K, withGain: 0)
    agoraKit.setLocalVoiceEqualizationOf(.band16K, withGain: 0)
    
    // Original vocal intensity (dry signal), values in [-20, 10] dB
    agoraKit.setLocalVoiceReverbOf(.dryLevel, withValue: -1)
    
    // Early reflection signal strength (wet signal), values in [-20, 10] dB
    agoraKit.setLocalVoiceReverbOf(.wetLevel, withValue: -7)
    
    // Room size required for the reverberation effect, values in [0, 100]. Generally, the larger the room, the stronger the reverberation effect.
    agoraKit.setLocalVoiceReverbOf(.roomSize, withValue: 57)
    
    // The initial delay length of wet signal, values in [0, 200] ms
    agoraKit.setLocalVoiceReverbOf(.wetDelay, withValue: 135)
    
    // Continuous intensity of the reverberation effect, values in [0, 100]. The larger the value, the stronger the reverberation effect
    agoraKit.setLocalVoiceReverbOf(.strength, withValue: 45)
    ```
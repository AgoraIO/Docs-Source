<PlatformWrapper platform="android">

### Integrate CallAPI

<Vg k="Agora" /> `CallAPI` is a use-case-based solution designed for one-to-one calls that open in seconds. The API provides efficient call connection and image transmission functions that help you quickly set up video calls and transmit images during calls.

This section guides you through integrating the `CallAPI` source code into your project and configuring the necessary project settings.

#### Prerequisites

Make sure you have:

- Installed [Git](https://git-scm.com/downloads)
- [Java Development Kit](https://www.oracle.com/java/technologies/javase-downloads.html)
- [Android Studio](https://developer.android.com/studio/) 4.1 or higher

#### Integration

Take the following steps to integrate `CallAPI` into your project:

1. **Set up permissions**

    If you don't have an Android project, [create a new project](https://developer.android.com/studio/projects/create-project). In your project, add the following permissions to the project's `AndroidManifest.xml` file:

    ```xml
    <!-- Required permissions -->
    <uses-permission android:name="android.permission.INTERNET"/>

    <!-- Optional permissions -->
    <uses-permission android:name="android.permission.CAMERA"/>
    <uses-permission android:name="android.permission.RECORD_AUDIO"/>
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS"/>
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.BLUETOOTH"/>

    <!-- For devices running Android 12.0 and above with SDK versions below v4.1.0, the following permission is also required -->
    <uses-permission android:name="android.permission.BLUETOOTH_CONNECT"/>

    <!-- For devices running Android 12.0 and above, the following permissions are also required -->
    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>
    <uses-permission android:name="android.permission.BLUETOOTH_SCAN"/>
    ```

    To prevent the code from being obfuscated, open `/app/proguard-rules.pro` and add the following line:

    ```
    -keep class io.agora.**{*;}
    ```

1. **Add CallAPI**

    To add `CallAPI` to your project:

    1. Download or clone the [CallAPI source code repository](https://github.com/AgoraIO-Community/CallAPI/tree/main/Android/lib_callapi/src/main/java/io/agora/onetoone).

    1. Copy the files from the `onetoone` folder into your project folder.

        In the Android Studio toolbar, click **Sync Project With Gradle File** to integrate the `CallAPI` code.

1. **Check the SDK version** 

    If your project integrates <Vg k="COMPANY" /> <Vg k="VSDK" /> or <Vg k="MESS_SDK" />, ensure that the integrated SDK version is compatible with `CallAPI`:

    - <Vg k="VSDK" />: `4.1.1.26` or higher
    - <Vg k="MESS_SDK" />: `2.2.0` or higher
    
    If your current version is incompatible with `CallAPI`, modify the corresponding SDK version number under `dependencies` in the `/app/build.gradle` file.

    ```
    'io.agora:agora-rtm:2.2.0'
    'io.agora.rtc:agora-special-full:4.1.1.26'
    ```

</PlatformWrapper>
<PlatformWrapper platform="android">

You can configure the push title and content displayed in the notification bar in the following ways, with the configuration priority from low to high:

1. Configure the display properties of push notifications;
2. Use the default push template;
3. Use message extension fields;
4. Use a custom push template.

## Configure the display properties of push notifications

Call `updatePushNickname` and `updatePushDisplayStyle` to configure the nickname (`nickname`) and notification display style (`DisplayStyle`), which includes the push title and content in the notification bar.

```java
// Asynchronous processing is required.
ChatClient.getInstance().pushManager().updatePushNickname("nickname");
```

```java
PushManager.DisplayStyle displayStyle = PushManager.DisplayStyle.SimpleBanner;
// Asynchronous processing is required.
ChatClient.getInstance().pushManager().updatePushDisplayStyle(displayStyle);
```

Call `getPushConfigsFromServer` to get the display properties for push notifications, as shown in the following example:

```java
PushConfigs pushConfigs = ChatClient.getInstance().pushManager().getPushConfigsFromServer();
// Get the nickname displayed in the push notification.
String nickname = pushConfigs.getDisplayNickname();
// Get the display style of the push notification.
PushManager.DisplayStyle style = pushConfigs.getDisplayStyle();
```

To display the message content in the notification bar, set the notification display style (`DisplayStyle`). This parameter has the following two settings:

- (Default) `SimpleBanner`: Regardless of whether `nickname` is set, for any type of message pushed, the notification bar uses the default display setting, that is, the push title is "You have a new message" and the push content is "Please click to view".
-  `MessageSummary`: Displays the message content. The nickname you set only takes effect when `DisplayStyle` is `MessageSummary`, not `SimpleBanner`.

The following table uses a single chat text message as an example to introduce the settings of the display properties.

For group chats, "Push nickname of message sender" and "Chat user ID of message sender" in the table below are displayed as "Group ID".

| Parameter settings       | Push display | Image     |
| :--------- | :----- |:------------- |
| <ul><li>`DisplayStyle`: (default) `SimpleBanner` </li><li> `nickname`: Set or not set </li></ul>| <ul><li> Push title: "You have a new message" </li><li> Push content: "Please click to view" </li></ul> | ![push_displayattribute_1](/images/chat/push_displayattribute_1.png) |
| <ul><li> `DisplayStyle`: `MessageSummary` </li><li> `nickname`: Set specific value </li></ul> | <ul><li> Push title: "You have a new message" </li><li> Push content: "Push nickname of the message sender: message content" </li></ul> | ![push_displayattribute_2](/images/chat/push_displayattribute_2.png)      |
| <ul><li> `DisplayStyle`: `MessageSummary` </li><li> `nickname`: Not set </li></ul> | <ul><li> Push title: “You have a new message” </li><li> Push content: “Message sender's Chat user ID: message content” </li></ul>| ![push_displayattribute_3](/images/chat/push_displayattribute_3.png)          |

## Use the default push template

The default push template is mainly used when the default configuration provided by the server does not meet your needs. It allows you to set the global push title and push content. For example, the default settings provided by the server are push titles and content in  English. If you need to use push titles and content in another language, you can set the push template in the corresponding language.

To use the default template, create a default push template in <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link> or [call RESTful API](../../restful-api/offline-push-configuration). The template name is `default`. After setting, the default template is automatically used when pushing messages, and there is no need to enter the template name when creating messages.

Follow the steps below to create a default push template in <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link>:

1. Log in to <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link> and click **Project Management** in the left navigation bar.
1. On the **Project Management** page, click **Config** in the **Action** column for the project that has Chat enabled.
1. On the **Edit Project** page, in the **Features** area, click **Enable / Config** for Chat.
1. On the project configuration page, select **Features** > **Push Template**, click **Add Push Template**, and configure the fields in the pop-up dialog box, as shown in the following figure:

    ![push_add_template](/images/chat/push_add_template.png)

1. Set the **Template Name** to **default**, then set the **Title** and **Content** parameters, and click **OK**.

    | Parameter       | Type | Description | Required |
    | :--------- | :----- | :----- | :----- |
    |  **Template Name**    | String   | The push template name. The default template is **default**.        | Yes |
    |  **Title**      | Array | The push title. Can be set in the following ways: <ul><li>Enter a fixed push title. </li><li>Use built-in variables and enter `{$fromNickname}, {$msg}`. </li><li>Set custom variables through the value array. The field format is `{0} {1} {2} ... {n}`. </li></ul><br/>If the default template is used, the first two settings do not need to pass in this parameter when creating a message. The server automatically obtains it. The third setting method needs to be passed in through the extended field.   | Yes |
    |  **Content**    | Array | The push content. Can be set in the following ways: <ul><li>Enter fixed push content. </li><li>Use variables and enter `{$fromNickname}, {$msg}`. </li><li>Set custom variables through the value array. The field format is `{0} {1} {2} ... {n}`. </li></ul><br/>If the default template is used, the first two settings do not require parameters to be passed in when creating a message. The server automatically obtains them. The third setting method needs to be passed in through the extended field. | Yes |

## Use message extension fields

When creating a push message, you can set the `em_push_title` and `em_push_content` message extension fields to customize the push title and content, respectively.

```java
// This example takes text messages as an example. The setting methods for message types such as pictures and files are the same.
ChatMessage message = ChatMessage.createSendMessage(ChatMessage.Type.TXT);
// Set custom push display.
JSONObject extObject = new JSONObject();
try {
    extObject . put( " em_push_title " , " custom push title " ); // Custom push message title. This field is a built-in field and the field name cannot be modified.
    extObject . put( " em_push_content " , " custom push content " ); // Custom push message content. This field is a built-in field and the field name cannot be modified.
} catch (JSONException e) {
    e.printStackTrace();
}
// Set the push extension to the message. This field is a built-in push extension field.
message.setAttribute("em_apns_ext", extObject);
```

The data structure of the custom display field is as follows:

```java
{
    "em_apns_ext": {
        "em_push_title": "custom push title",
        "em_push_content": "custom push content"
    }
}
```

## Use a custom push template

The steps to use a custom push template are as follows:

1. If you use a custom push template, create it in <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link> or call [RESTful API](../../restful-api/offline-push-configuration?platform=react-native#create-a-push-template). For a description of the parameters in the **Add Push Template** dialog box, see the section about using the default template. When using a custom template, regardless of how the **Title** and **Content** parameters are set, they must be passed in through the extended fields when creating a message.

1. When creating a message, pass in the template name, push title, and push content by using the extended fields. The push title and content in the notification bar use the formats in the template, respectively.

    ```java
    // The following takes text messages as an example. The setting methods for other types of messages are the same.
    ChatMessage message = ChatMessage.createSendMessage(ChatMessage.Type.TXT);
    TextMessageBody txtBody = new TextMessageBody("message content");
    // Set the push notification recipient. For single chat, it is the recipient's user ID; for group chat, it is the group ID.
    message.setTo("receiver");
    // Use the push template.
    JSONObject pushObject = new JSONObject();
    JSONArray titleArgs = new JSONArray();
    JSONArray contentArgs = new JSONArray();
    try {
            // Set the push template name.
            pushObject.put("name", "test6");
            // Set the value array of the push title in the template. If the push title specified in the template is placeholder data, you can customize the title here; if the specified title is a fixed value, the title will be a fixed value when using this template.
            titleArgs.put("test1");
            //...
            pushObject.put("title_args", titleArgs);
            // Set the value array of the pushed content in the template. If the template content specified in the template is placeholder data, you can customize the content here; if the specified content is a fixed value, the content will be a fixed value when using the template.
            contentArgs.put("$fromNickname");
            contentArgs.put("$msg");
            //...
            pushObject.put("content_args", contentArgs);
    } catch (JSONException e) {
            e.printStackTrace();
    }
    // Add the push template to the message.
    message.setAttribute("em_push_template", pushObject);
    // Set the message status callback.
    message.setMessageStatusCallback(new CallBack() {...});
    // Send the message.
    ChatClient.getInstance().chatManager().sendMessage(message);
    ```

The JSON structure of the push template is as follows:

```json
    "em_push_template":{
            "name":"test6",
            "title_args":[
                "test1"
            ],
            "content_args":[
                "{$fromNickname}",
                "{$msg}"
            ]
    }
    ```

The message receiver can call the `setPushTemplate` method to pass in the push template name and select the template to use.

If the sender uses a push template when sending a message, the content displayed in the push notification bar is based on the sender's push template.


```java
    ChatClient.getInstance().pushManager().setPushTemplate("Template Name", new CallBack() {
        @Override
        public void onSuccess() {

        }

        @Override
        public void onError(int code, String error) {

        }
    });
    ```


</PlatformWrapper>
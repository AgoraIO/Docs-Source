<PlatformWrapper platform="ios, macos">

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

### Message packet size

<Vg k="MESS_SDK" /> imposes size limits on message payload packets sent in Message channels and Stream channels. The limit is 32 KB for Message channels and 1 KB for Stream channels. The message payload packet size includes the message payload itself plus the size of the `customType` field. If the message payload package size exceeds the limit, you receive an error message.

<Tabs groupId="language">
<TabItem value="swift" label="Swift" default>
<CodeBlock language="objc" showLineNumbers>    
{`// errorInfo
{
    errorInfo.errorCode = .channelMessageLengthExceedLimitation
    errorInfo.reason = "Publish too long message."
    errorInfo.operation = "publish"; // or "publishTopicMessage
}`}
</CodeBlock>
</TabItem>
<TabItem value="objc" label="Objective-C">
<CodeBlock language="objc" showLineNumbers>    
{`// errorInfo
{
    errorInfo.errorCode = AgoraRtmErrorChannelMessageLengthExceedLimitation;
    errorInfo.reason = @"Publish too long message.";
    errorInfo.Operation = @"publish"; // or "publishTopicMessage"
}`}
</CodeBlock>
</TabItem>
</Tabs>

To avoid sending failure due to message payload packet size exceeding the limit, check the packet size before sending.

### API reference

<Tabs groupId="language">
<TabItem value="swift" label="Swift" default>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=swift#channelcreatepropsag_platform">`createStreamChannel`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=swift#channeljoinpropsag_platform">`join`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=swift#topicpublishpropsag_platform">`publishTopicMessage`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=swift#channelleavepropsag_platform">`leave`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=swift#channelreleasepropsag_platform">`destroy`</Link>
</TabItem>
<TabItem value="objc" label="Objective-C">
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=objc#channelcreatepropsag_platform">`createStreamChannel`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=objc#channeljoinpropsag_platform">`joinWithOption`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=objc#topicpublishpropsag_platform">`publishTopicMessage`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=objc#channelleavepropsag_platform">`leave`</Link>
- <Link to="{{Global.API_REF_SIG_APPLE}}?platform=ios&tab=objc#channelreleasepropsag_platform">`destroy`</Link>
</TabItem>
</Tabs>

</PlatformWrapper>
<PlatformWrapper platform="android">
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

### Create a project

1. **Create a [new project](https://developer.android.com/studio/projects/create-project)** (Optional)

    1. Open Android Studio and select **File > New > New Project...**.
    1. Select **Phone and Tablet** > **Empty Activity** and click **Next**.
    1. Set the project name and storage path. 
    1. Select the language as **Java**, and click **Finish** to create the Android project.
    <br></br>
    <Admonition type="caution" title="Note">After you create a project, Android Studio automatically starts gradle sync. Ensure that the synchronization is successful before proceeding to the next step. </Admonition>

1. **Add network permissions**

    Open the `/app/src/main/AndroidManifest.xml` file and add the following permissions after `</application>`:

    ```xml
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    ```

1. **Prevent code obfuscation**

    Open the `/app/proguard-rules.pro` file and add the following line to prevent the <Vpd k="SDK"/> code from being obfuscated:

    ```java
    -keep class io.agora.**{*;}
    ```

### Integrate the SDK

Choose either of the following methods to integrate <Vpd k="SDK" /> into your project.

<Tabs>
<TabItem value="tab1" label="Using CDN" default>

1. Download the latest version of Java SDK.
1. Copy all files in the folder in the SDK package sdkto the project /app/libspath.
1. Add SDK reference. Find the file in the Project `/Gradle Scripts/build.gradle(Module: <projectname>.app)` window and add the following code:

    1. Add a `ndk` node in the default `Config` node, specifying the supported architectures.
        <CodeBlock language="groovy" showLineNumbers>
        {`Config {
            // ...

            ndk{
                abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'
            }
        }`}
        </CodeBlock>
    
        <Admonition>
        The more supported architectures, the larger the App will be. Agora recommends that you add the architectures that need to be supported based on the actual situation. Generally, only the `armeabi-v7a` and `arm64-v8a` architectures need to be retained when releasing Android Apps.
        </Admonition>

    1. Add a `sourceSets` node in the `android` node and specify the `libs` directory where it is located.

        <CodeBlock language="groovy" showLineNumbers>    
        {`android {
            // ...
            sourceSets {
                main {
                    jniLibs.srcDirs = ['libs']
                }
            }
        }`}
        </CodeBlock>

    1. All jar libraries under the node dependencies import path.libs

        <CodeBlock language="groovy" showLineNumbers>    
        {`dependencies {
            implementation fileTree(dir: 'libs', include: ['*.jar'])
            // ...
        }`}
        </CodeBlock>
        
</TabItem>

<TabItem value="tab2" label="Maven Central" default>
1. Add the following code to the `/Gradle Scripts/build.gradle(Project: <projectname>)` file and add the Maven Central dependency:

    <CodeBlock language="java" showLineNumbers>
    {`buildscript {
        repositories {
            // ...
            mavenCentral()
        }
        // ...
    }

    allprojects {
        repositories {
            // ...
            mavenCentral()
        }
    }`}
    </CodeBlock>

    <Admonition>
    If your Android project has [`dependencyResolutionManagement`](https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:centralized-repository-declaration) set up , there may be differences in how you add Maven Central dependencies.
    </Admonition>

2. Add the following code to the `/Gradle Scripts/build.gradle(Module: <projectname>.app)` file to integrate the SDK into your Android project:

    <CodeBlock language="groovy" showLineNumbers>
    {`dependencies {
        // ...
        // Replace x.y.z with the specific SDK version number, such as 2.1.4
        // For the latest version number refer to the release notes
        implementation 'io.agora:agora-rtm:x.y.z'
    }`}
    </CodeBlock>

</TabItem>
</Tabs>

<Admonition>
Tp integrate Signaling SDK version 2.2.0 or above and Video SDK version 4.3.0 or above at the same time, refer to the [FAQ](/help/integration-issues/rtm2_rtc_integration_issue) to handle integration issues.
</Admonition>

### Create a user interface

This section helps you create a simple user interface to explore the basic features of <Vpd k="NAME" />. Modify it according to your specific needs.

The demo interface consists of the following UI elements:

- Input boxes for User name, channel name, message
- Buttons to Login and Logout
- Subscribe and Unsubscribe
- A button to send a message

<details>
<summary>Sample code to create the user interface</summary>
<br/>
Open the `/app/res/layout/activity_main.xml` file and replace the contents with the following:

<CodeBlock language="xml" showLineNumbers>
{`<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFFFFF"
    tools:context=".MainActivity">

    <EditText
        android:id="@+id/uid"
        android:layout_width="150dp"
        android:layout_height="40dp"
        android:layout_marginStart="36dp"
        android:layout_marginTop="48dp"
        android:autofillHints=""
        android:hint="@string/uid"
        android:inputType="text"
        android:lines="1"
        android:padding="5dp"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <Button
        android:id="@+id/logout_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="11dp"
        android:layout_marginTop="48dp"
        android:layout_marginEnd="28dp"
        android:onClick="onClickLogout"
        android:text="@string/logout_button"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.0"
        app:layout_constraintStart_toEndOf="@+id/login_button"
        app:layout_constraintTop_toTopOf="parent" />

    <Button
        android:id="@+id/login_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="4dp"
        android:layout_marginTop="48dp"
        android:layout_marginEnd="132dp"
        android:onClick="onClickLogin"
        android:text="@string/login_button"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.0"
        app:layout_constraintStart_toEndOf="@+id/uid"
        app:layout_constraintTop_toTopOf="parent" />

    <EditText
        android:id="@+id/channel_name"
        android:layout_width="155dp"
        android:layout_height="41dp"
        android:layout_marginStart="36dp"
        android:layout_marginTop="124dp"
        android:layout_marginBottom="41dp"
        android:autofillHints=""
        android:ems="10"
        android:hint="@string/channel_name"
        android:inputType="text"
        app:layout_constraintTop_toBottomOf="@+id/uid"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <Button
        android:id="@+id/subscribe_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="4dp"
        android:layout_marginTop="28dp"
        android:layout_marginEnd="132dp"
        android:onClick="onClickSubscribe"
        android:text="@string/subscribe_button"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.0"
        app:layout_constraintStart_toEndOf="@+id/channel_name"
        app:layout_constraintTop_toBottomOf="@+id/login_button" />

    <Button
        android:id="@+id/unsubscribe_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="11dp"
        android:layout_marginTop="27dp"
        android:layout_marginEnd="28dp"
        android:onClick="onClickUnsubscribe"
        android:text="@string/unsubscribe_button"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.0"
        app:layout_constraintStart_toEndOf="@+id/subscribe_button"
        app:layout_constraintTop_toBottomOf="@+id/logout_button" />

    <EditText
        android:id="@+id/msg_box"
        android:layout_width="190dp"
        android:layout_height="57dp"
        android:layout_marginStart="37dp"
        android:layout_marginTop="195dp"
        android:layout_marginBottom="26dp"
        android:autofillHints=""
        android:ems="10"
        android:hint="@string/msg"
        android:inputType="textPersonName"
        android:singleLine="false"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/channel_name" />

    <Button
        android:id="@+id/send_channel_msg_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="40dp"
        android:layout_marginEnd="40dp"
        android:onClick="onClickSendChannelMsg"
        android:text="@string/send_channel_msg_button"
        app:layout_constraintStart_toEndOf="@+id/msg_box"
        app:layout_constraintHorizontal_bias="0.0"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/unsubscribe_button" />

    <TextView
        android:id="@+id/message_history"
        android:layout_width="412dp"
        android:layout_height="339dp"
        android:layout_marginTop="392dp"
        android:background="#AEA8A8"
        android:freezesText="false"
        android:isScrollContainer="false"
        android:scrollbars="vertical"
        android:textColor="#2196F3"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.491"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_bias="0.352" />

</androidx.constraintlayout.widget.ConstraintLayout>`}
</CodeBlock>

Open the `app/res/values/strings.xml` file and add following string resources:

<CodeBlock language="xml" showLineNumbers>
{`<resources>
    <string name="app_name">RtmQuickstart</string>
    <string name="login_button">Login</string>
    <string name="logout_button">Logout</string>
    <string name="subscribe_button">Sub</string>
    <string name="unsubscribe_button">Unsub</string>
    <string name="send_channel_msg_button">Publish MSG</string>
    <string name="uid">User ID</string>
    <string name="msg">Message content</string>
    <string name="channel_name">Channel name</string>
    <string name="app_id">your_appid</string>
    <string name="token">your_token</string>
</resources>`}
</CodeBlock>

</details>
</PlatformWrapper>
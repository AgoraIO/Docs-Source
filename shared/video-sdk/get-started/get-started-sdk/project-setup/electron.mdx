import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<PlatformWrapper platform = "electron">

1. Create a new directory for your Electron project in a local folder. Add the following files to the root of the project directory:

    - `package.json`: Manages project dependencies and scripts.
    - `index.html`: Defines the app's user interface.
    - `main.js`: The main process entry point.
    - `renderer.js`: The renderer process script, responsible for interacting with the Agora Electron SDK.

1. Create a user interface for your app based on your use-case. 

    <ProductWrapper notAllowed="voice-calling">A basic user interface consists of an element for local video and an element for remote video.</ProductWrapper> Refer to [Create a user interface](#create-a-user-interface) to get a bare bones sample layout.

### Install the SDK

<Tabs>
<TabItem value="new" label="npm integration" default>

Add the <Vpd k="SDK"/> to your project using `npm`:

1. Configure `package.json`

    * macOS

        ```json
        {
          "name": "electron-demo-app",
          "version": "0.1.0",
          "author": "your name",
          "description": "My Electron app",
          "main": "main.js",
          "scripts": {
            "start": "electron ."
          },
          "agora_electron": {
            "platform": "darwin",
            "prebuilt": true
          },
          "dependencies": {
            "agora-electron-sdk": "latest"
          },
          "devDependencies": {
            "electron": "latest"
          }
        }
        ```
    
    * Windows

        ```json
        {
          "name": "electron-demo-app",
          "version": "0.1.0",
          "author": "your name",
          "description": "My Electron app",
          "main": "main.js",
          "scripts": {
            "start": "electron ."
          },
          "agora_electron": {
            "platform": "win32",
            "prebuilt": true,
            "arch": "ia32"
          },
          "dependencies": { "agora-electron-sdk": "latest" },
          "devDependencies": {"electron": "latest" }
        }
        ```

        **Configuration parameters**

        - `agora-electron-sdk`: Version number of the Agora Electron SDK. Set to latest for the most recent version, or specify a version number. See [`agora-electron-sdk`](https://www.npmjs.com/package/agora-electron-sdk) on npm for available versions.
        - `electron`: Electron version number. Versions 5.0.0 and above are supported. For macOS devices with M1 chips, use version 11.0.0 or higher.
        - `platform` (Optional): Target platform. Set to `darwin` for macOS or `win32` for Windows.
        - `prebuilt` (Optional): Set to `true` by default to prevent compatibility issues between Electron, Node.js, and the SDK.
        - `arch` (Optional): Target architecture. Defaults to your system architecture.


    <Admonition title="Note" style="info">
    Different versions of Electron have different environment requirements. If you see errors due to a mismatched environment when running the project, refer to the official [Electron documentation](https://releases.electronjs.org/releases/stable) to choose the appropriate Electron and Node.js versions.
    </Admonition>

1. To install the dependencies, open a terminal in your project root directory and run the following commands::

    * macOS

        ```bash
        npm install
        ```

    * Windows
    
        ```bash
        npm install -D --arch=ia32 electron
        npm install
        ```
<Admonition type="info">
- On Windows, you must first install the 32-bit version of Electron by running `npm install -D --arch=ia32 electron`, and then run `npm install`. Otherwise, you may encounter the error: “Not a valid Win32 application.”

- If a `node_modules` folder exists in the project root directory, delete it before running `npm install` to avoid potential errors.
</Admonition>

</TabItem>

<TabItem value="manual" label="Manual Integration" default>

Compile the latest SDK from the [Electron SDK repository](https://github.com/AgoraIO-Extensions/Electron-SDK/tree/main/) and integrate it into your application.

</TabItem>

</Tabs>
</PlatformWrapper>
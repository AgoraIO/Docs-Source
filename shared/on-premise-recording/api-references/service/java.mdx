## AgoraService

This class implements the core functions of <Vpd k="SDK" />.

| API | Description |
|---|---|
| [`AgoraService`](#agoraservice) | Creates an instance of [`AgoraService`](#agoraservice-1) and initializes native components. |
| [`getNativeHandle`](#getnativehandle) | Gets the native handle associated with this [`AgoraService`](#agoraservice-1) instance. |
| [`release`](#release) | Releases the [`AgoraService`](#agoraservice-1) instance and its associated resources. |
| [`initialize`](#initialize) | Initializes the [`AgoraService`](#agoraservice-1) instance with the specified configuration. |
| [`createAgoraMediaComponentFactory`](#createagoramediacomponentfactory) | Creates and returns an [`AgoraMediaComponentFactory`](#agoramediacomponentfactory) for generating media components. |
| [`getAgoraParameter`](#getagoraparameter) | Creates and returns an `AgoraParameter` object for managing parameters. |
| [`getSdkVersion`](#getsdkversion) | Gets the SDK version. |
| [`setLogFile`](#setlogfile) | Sets the SDK log file path and maximum file size. |
| [`setLogLevel`](#setloglevel) | Sets the log output level of the SDK. |
| [`setGlobalLocalAccessPoint`](#setgloballocalaccesspoint) | Sets the global local access point address in local AP mode (also calls the local proxy). |

### `AgoraService`

Creates an instance of [`AgoraService`](#agoraservice-1) and initializes the native components.

```java
public AgoraService()
```
<Admonition type="info" info="info">
Only one `AgoraService` instance can be initialized at a time.
</Admonition>

### `getNativeHandle`

Returns the native handle associated with this [`AgoraService`](#agoraservice-1) instance.

```java
public long getNativeHandle()
```

#### Returns

Returns the native handle value used for native method calls on success.

### `release`

Releases the `AgoraService` instance and its associated resources.  
After calling this method, the instance becomes invalid and cannot be used again.

```java
public int release()
```

#### Returns

- `0`: Success.  
- `< 0`: Failure.

### `initialize`

Initializes the `AgoraService` object using the specified configuration.

```java
public int initialize(AgoraServiceConfiguration config)
```

#### Parameters

| Parameter | Type                        | Description |
|----------|-----------------------------|-------------|
| `config` | `AgoraServiceConfiguration` | Configuration object for initialization. See [`AgoraServiceConfiguration`](#agoraserviceconfiguration). |

#### Returns

- `0`: Success.  
- `< 0`: Failure.
  - `ERR_INVALID_ARGUMENT`: Returned on Android if the `context` in `AgoraServiceConfiguration` is missing.
  - `ERR_INIT_NET_ENGINE`: Returned when the network engine fails to initialize. On Windows, this may occur if local ports are blocked by a firewall. Try disabling and re-enabling the firewall.


### `createAgoraMediaComponentFactory`

Creates and returns a new [`AgoraMediaComponentFactory`](#agoramediacomponentfactory) instance for media component creation.

```java
public AgoraMediaComponentFactory createAgoraMediaComponentFactory()
```

#### Returns

Returns a valid `AgoraMediaComponentFactory` object on success.

### `getAgoraParameter`

```java
public AgoraParameter getAgoraParameter()
```

Creates and returns an `AgoraParameter` object used for parameter management.

#### Returns

- `AgoraParameter`: Success.  
- `null`: Failure.

### `getSdkVersion`

Returns the version number of the SDK.

```java
public static String getSdkVersion()
```

#### Returns

- A string representing the SDK version on success.  
- An empty string on failure.

### `setLogFile`


Sets the path and maximum size of the SDK log files.

The SDK writes logs to two files, each with a default size of 512 KB.  
For example, if `fileSize` is set to 1024 KB, the total size of the two log files will be 2 MB.  
When the total log size exceeds the limit, older logs are overwritten.

<Admonition type="info" info="info">
To ensure complete log output, call this method immediately after calling [`initialize`](#initialize).
</Admonition>

```java
public int setLogFile(String filePath, int fileSize)
```

#### Parameters

| Parameter   | Type     | Description |
|-------------|----------|-------------|
| `filePath`  | `String` | Path to the log file. Ensure the directory exists and is writable. |
| `fileSize`  | `int`    | Maximum size (in KB) of each log file. For example, `1024` means a total of 2 MB across two files. |

#### Returns

- `0`: Success.  
- `< 0`: Failure.

### `setLogLevel`

Sets the log level for SDK logging.  
The SDK outputs logs of the selected level and above.

Log levels (from lowest to highest) are:  
`OFF`, `CRITICAL`, `ERROR`, `WARNING`, `INFO`, and `DEBUG`.  
For example, if the log level is set to `WARNING`, only logs at `WARNING`, `ERROR`, and `CRITICAL` will be recorded.


```java
public int setLogLevel(Constants.LogLevel level)
```

#### Parameters

| Parameter | Type                 | Description |
|-----------|----------------------|-------------|
| `level`   | `Constants.LogLevel` | Logging level to set:  
- `LOG_LEVEL_NONE (0x0000)`: Disable all logging.  
- `LOG_LEVEL_INFO (0x0001)`: (Recommended) Outputs info-level logs.  
- `LOG_LEVEL_WARN (0x0002)`: Outputs warning-level logs.  
- `LOG_LEVEL_ERROR (0x0004)`: Outputs error-level logs.  
- `LOG_LEVEL_FATAL (0x0008)`: Outputs fatal-level logs. |

#### Returns

- `0`: Success.  
- `< 0`: Failure.

### `setGlobalLocalAccessPoint`

Sets the global local access point address in local access point (AP) mode and invokes the local proxy.

<Admonition type="info" info="info">
You must call this method **before** calling [`initialize`](#initialize).
</Admonition>

```java
public int setGlobalLocalAccessPoint(LocalAccessPointConfiguration config)
```

#### Parameters

| Parameter | Type                          | Description |
|-----------|-------------------------------|-------------|
| `config`  | `LocalAccessPointConfiguration` | Configuration details of the local access point. See [`LocalAccessPointConfiguration`](#localaccesspointconfiguration). |

#### Returns

- `0`: Success.  
- `< 0`: Failure.

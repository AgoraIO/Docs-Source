import * as data from '@site/data/variables';
import Prerequites from '@docs/shared/common/prerequities.mdx';
import ProjectSetup from '@docs/shared/video-sdk/develop/custom-video-and-audio/project-setup/index.mdx';
import ProjectImplement from '@docs/shared/video-sdk/develop/custom-video-and-audio/project-implementation/index.mdx';
import ProjectTest from '@docs/shared/video-sdk/develop/custom-video-and-audio/project-test/index.mdx';
import Reference from '@docs/shared/video-sdk/develop/custom-video-and-audio/reference/index.mdx';

<ProductWrapper notAllowed="voice-calling">
By default, <Vg k="VSDK" /> uses the basic audio and video modules on the device your <Vpl k="CLIENT" /> runs on. However, there are certain use-cases where you want to integrate a custom audio or video source into your <Vpl k="CLIENT" />, such as:

* Your <Vpl k="CLIENT" /> has its own audio or video module.
* You want to use a non-camera source, such as recorded screen data.
* You need to process the captured audio or video with a pre-processing library for audio or image enhancement.
* You need flexible device resource allocation to avoid conflicts with other services.

## Understand the tech

To set an external audio or video source, you configure the <Vg k="ENGINE" /> before joining a channel. To manage the capture and processing of audio and video frames, you use methods from outside the <Vg k="VSDK" /> that are specific to your custom source. <Vg k="VSDK" /> enables you to push processed audio and video data to the subscribers in a channel.

The figure below shows the workflow you need to implement to stream a custom video or audio source in your <Vpl k="CLIENT" />.

![Custom Video and Audio](https://agora-doc.s3.us-east-1.amazonaws.com/images/video-sdk/custom-source-video-audio.png)
</ProductWrapper>
<ProductWrapper product="voice-calling">
By default, <Vpd k="SDK" /> uses the standard audio module on the device your <Vpl k="CLIENT" /> runs on. However, there are certain use-cases where you want to integrate a custom audio source into your <Vpl k="CLIENT" />, such as:

* Your <Vpl k="CLIENT" /> has its own audio module.

* You want to use a non-microphone source, such as recorded audio data.

* You need to process the captured audio with a pre-processing library for audio enhancement.

* You need flexible device resource allocation to avoid conflicts with other services.

## Understand the tech

To set an external audio source, you configure the <Vg k="ENGINE" /> before joining a channel. To manage the capture and processing of audio frames, you use methods from outside the <Vpd k="SDK" /> that are specific to your custom source. <Vpd k="SDK" /> enables you to push processed audio data to subscribers in a channel.

The following figure shows the workflow you need to implement to stream a custom audio source in your <Vpl k="CLIENT" />.

![Process custom audio](https://agora-doc.s3.us-east-1.amazonaws.com/images/voice-sdk/custom-source-audio.svg)
</ProductWrapper>

## Prerequisites

<Prerequites />
<PlatformWrapper platform="windows">
- Set up [OpenCV](https://docs.opencv.org/4.x/d3/d52/tutorial_windows_install.html) for playing custom video source
    in your project.
</PlatformWrapper>


## Integrate custom audio or video

To stream from a custom source, you convert the data stream into a suitable format and push this data using <Vg k="VSDK" />.

<ProjectImplement />


## Test custom streams

To ensure that you have implemented streaming from a custom source into your <Vpl k="CLIENT" />:

<ProjectTest />

## Reference

This section contains content that completes the information on this page, or points you to documentation that explains other aspects to this product.

<Reference />

<ProductWrapper notAllowed="voice-calling">
* [Raw video and audio processing](stream-raw-audio-and-video)
</ProductWrapper>

<ProductWrapper product="voice-calling">
* [Raw audio processing](stream-raw-audio)
</ProductWrapper>
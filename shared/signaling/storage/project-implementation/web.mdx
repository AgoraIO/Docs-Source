<PlatformWrapper platform="web">

The <Vpd k="SDK" /> sample project implements the Signaling business logic in the `SignalingManagerMetaData` module. This module encapsulates the `SignalingManager` from the SDK quickstart project, and adds metadata functionality such as reading, writing, and updating metadata.

To implement use of metadata in your own project, take the following steps:

1. **Set local user metadata**

    To set metadata for the local user, clear any unwanted metadata from a previous login, and add fresh metadata that you want to share with other users. 

    ```javascript
    const setLocalUserMetadata = async function () {
        // Clear previous metadata
        try {
            await signalingManager.signalingEngine.clearLocalUserMetadata();
        } catch (status) {
            if (status) {
                const { code, message } = status;
                console.log(code, message);
            }
        }
        
        // Create a new metadata item
        const item1 = signalingManager.signalingEngine.createMetadataItem();
        item1.setKey("myStatus");
        item1.setValue("available");

        // Set local user metadata
        try {
            await signalingManager.signalingEngine.setLocalUserMetadata([item1]);
        } catch (status) {
            if (status) {
                const { code, message } = status;
                messageCallback(code + ": " +  message);
            }
        }
    };
    ```

1. **Update local user metadata**

    To update a key-value pair in the local user's metadata, call `createMetadataItem` and `updateLocalUserMetadata`. 

    ```javascript
    const updateLocalUserMetadata = async function (key, value) {
        const metadataItem  = signalingManager.signalingEngine.createMetadataItem();
        metadataItem.setKey(key);
        metadataItem.setValue(value);

        try {
            await signalingManager.signalingEngine.updateLocalUserMetadata([metadataItem]);
        } catch (status) {
            if (status) {
                const { code, message } = status;
                messageCallback("Error:" + code + ": " + message);
            }
        }
    };
    ```

1. **Receive notification when a user's metadata is updated**

    To get notified of changes in a user's metadata,, handle the `onUserMetadataUpdated` callback:

    ```javascript
    const handleMetadataEvents = async function () {
        signalingManager.signalingEngine.on("UserMetaDataUpdated", function (uid, rtmMetadata) {
            if (typeof rtmMetadata !== "undefined") {
                const eventArgs = { uid: uid, rtmMetadata: rtmMetadata }
                eventsCallback("UserMetaDataUpdated", eventArgs)
            }
        });   
    }
    ```

</PlatformWrapper>
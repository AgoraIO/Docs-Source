<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="966px" preserveAspectRatio="none" style="width:833px;height:966px;background:#00000000;" version="1.1" viewBox="0 0 833 966" width="833px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="964.9824" style="stroke:#0A9EFD;stroke-width:1.0;" width="831.5" x="0" y="0"/><rect fill="#F3F3F3" height="954.9824" style="stroke:#0A9EFD;stroke-width:0.5;" width="392.5" x="49" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140" x="175.25" y="18.5684">Implemented by you</text><rect fill="#F3F3F3" height="954.9824" style="stroke:#0A9EFD;stroke-width:0.5;" width="330" x="497.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="599.5" y="18.5684">Provided by Agora</text><rect fill="#FFFFFF" height="262.8828" style="stroke:#0A9EFD;stroke-width:2.0;" width="482.5" x="130" y="261.2402"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="106.7988" y2="876.4941"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="79" x2="79" y1="106.7988" y2="876.4941"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="161" x2="161" y1="106.7988" y2="876.4941"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="362.5" x2="362.5" y1="106.7988" y2="876.4941"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="551.5" x2="551.5" y1="106.7988" y2="876.4941"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="786.5" x2="786.5" y1="106.7988" y2="876.4941"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="32" x="5" y="103.8457">User</text><ellipse cx="24" cy="36.3105" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3.0;fill:none;"/><path d="M24,44.3105 L24,71.3105 M11,52.3105 L37,52.3105 M24,71.3105 L11,86.3105 M24,71.3105 L37,86.3105 " fill="none" style="stroke:#0A9EFD;stroke-width:3.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="32" x="5" y="889.0293">User</text><ellipse cx="24" cy="902.9824" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3.0;fill:none;"/><path d="M24,910.9824 L24,937.9824 M11,918.9824 L37,918.9824 M24,937.9824 L11,952.9824 M24,937.9824 L37,952.9824 " fill="none" style="stroke:#0A9EFD;stroke-width:3.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="53" y="103.8457">Admin</text><ellipse cx="79.5" cy="36.3105" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3.0;fill:none;"/><path d="M79.5,44.3105 L79.5,71.3105 M66.5,52.3105 L92.5,52.3105 M79.5,71.3105 L66.5,86.3105 M79.5,71.3105 L92.5,86.3105 " fill="none" style="stroke:#0A9EFD;stroke-width:3.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="53" y="889.0293">Admin</text><ellipse cx="79.5" cy="902.9824" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3.0;fill:none;"/><path d="M79.5,910.9824 L79.5,937.9824 M66.5,918.9824 L92.5,918.9824 M79.5,937.9824 L66.5,952.9824 M79.5,937.9824 L92.5,952.9824 " fill="none" style="stroke:#0A9EFD;stroke-width:3.0;"/><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="42" x="140" y="75.3105"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="147" y="95.8457">App</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="42" x="140" y="875.4941"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="147" y="896.0293">App</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="149" x="288.5" y="75.3105"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="135" x="295.5" y="95.8457">Enterprise Firewall</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="149" x="288.5" y="875.4941"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="135" x="295.5" y="896.0293">Enterprise Firewall</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="101" x="501.5" y="75.3105"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="508.5" y="95.8457">Cloud Proxy</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="101" x="501.5" y="875.4941"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="508.5" y="896.0293">Cloud Proxy</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="73" x="750.5" y="75.3105"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="757.5" y="95.8457">SD-RTN</text><rect fill="#FFFFFF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2.0;" width="73" x="750.5" y="875.4941"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="757.5" y="896.0293">SD-RTN</text><polygon fill="#0A9EFD" points="351,151.7754,361,155.7754,351,159.7754,355,155.7754" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="79.5" x2="357" y1="155.7754" y2="155.7754"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="235" x="103.75" y="134.334">Whitelist IP addresses and ports</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="223" x="112.25" y="150.8223">for Cloud Proxy in the firewall.</text><polygon fill="#0A9EFD" points="149,182.2637,159,186.2637,149,190.2637,153,186.2637" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="24" x2="155" y1="186.2637" y2="186.2637"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="44" y="181.3105">Open the app</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="161" x2="203" y1="233.2402" y2="233.2402"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="203" x2="203" y1="233.2402" y2="246.2402"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="162" x2="203" y1="246.2402" y2="246.2402"/><polygon fill="#0A9EFD" points="172,242.2402,162,246.2402,172,250.2402,168,246.2402" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="168" y="211.7988">Initialize the Agora Video</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="82" x="222" y="228.2871">SDK engine</text><path d="M130,261.2402 L311,261.2402 L311,269.7285 L301,279.7285 L130,279.7285 L130,261.2402 " fill="#EEEEEE" style="stroke:#0A9EFD;stroke-width:1.5;"/><rect fill="none" height="262.8828" style="stroke:#0A9EFD;stroke-width:2.0;" width="482.5" x="130" y="261.2402"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136" x="145" y="275.7754">Enable cloud proxy</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="161" x2="203" y1="318.7051" y2="318.7051"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="203" x2="203" y1="318.7051" y2="331.7051"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="162" x2="203" y1="331.7051" y2="331.7051"/><polygon fill="#0A9EFD" points="172,327.7051,162,331.7051,172,335.7051,168,331.7051" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="168" y="297.2637">Call the method to enable</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="183" x="170.5" y="313.752">a Cloud Proxy connection</text><polygon fill="#0A9EFD" points="351,374.6816,361,378.6816,351,382.6816,355,378.6816" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="161" x2="357" y1="378.6816" y2="378.6816"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129" x="195" y="357.2402">Request access to</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="221" y="373.7285">Cloud Proxy</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="363" x2="405" y1="425.6582" y2="425.6582"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="405" x2="405" y1="425.6582" y2="438.6582"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="364" x2="405" y1="438.6582" y2="438.6582"/><polygon fill="#0A9EFD" points="374,434.6582,364,438.6582,374,442.6582,370,438.6582" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="175" x="370" y="404.2168">Check whitelist to grant</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="46" x="437" y="420.7051">access</text><polygon fill="#0A9EFD" points="540,481.6348,550,485.6348,540,489.6348,544,485.6348" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="363" x2="546" y1="485.6348" y2="485.6348"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129" x="390.5" y="464.1934">Request access to</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="416.5" y="480.6816">Cloud Proxy</text><polygon fill="#0A9EFD" points="172,512.123,162,516.123,172,520.123,168,516.123" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="166" x2="551" y1="516.123" y2="516.123"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="131" x="291" y="511.1699">Proxy information</text><polygon fill="#0A9EFD" points="149,549.6113,159,553.6113,149,557.6113,153,553.6113" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="24" x2="155" y1="553.6113" y2="553.6113"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="41.5" y="548.6582">Join a channel</text><polygon fill="#0A9EFD" points="540,580.0996,550,584.0996,540,588.0996,544,584.0996" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="161" x2="546" y1="584.0996" y2="584.0996"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="305.5" y="579.1465">Join a channel</text><polygon fill="#0A9EFD" points="775,610.5879,785,614.5879,775,618.5879,779,614.5879" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="552" x2="781" y1="614.5879" y2="614.5879"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="184" x="577.5" y="609.6348">Request to join a channel</text><polygon fill="#0A9EFD" points="563,641.0762,553,645.0762,563,649.0762,559,645.0762" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="557" x2="786" y1="645.0762" y2="645.0762"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="625" y="640.123">Join success</text><polygon fill="#0A9EFD" points="172,671.5645,162,675.5645,172,679.5645,168,675.5645" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="166" x2="551" y1="675.5645" y2="675.5645"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="312" y="670.6113">Join success</text><polygon fill="#0A9EFD" points="540,702.0527,550,706.0527,540,710.0527,544,706.0527" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="161" x2="546" y1="706.0527" y2="706.0527"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="125" x="294" y="701.0996">Send data stream</text><polygon fill="#0A9EFD" points="563,732.541,553,736.541,563,740.541,559,736.541" style="stroke:#0A9EFD;stroke-width:1.0;"/><polygon fill="#0A9EFD" points="775,732.541,785,736.541,775,740.541,779,736.541" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="557" x2="781" y1="736.541" y2="736.541"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="211" x="564" y="731.5879">Send and receive data stream</text><polygon fill="#0A9EFD" points="172,763.0293,162,767.0293,172,771.0293,168,767.0293" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="166" x2="551" y1="767.0293" y2="767.0293"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="145" x="284" y="762.0762">Receive data stream</text><polygon fill="#0A9EFD" points="149,793.5176,159,797.5176,149,801.5176,153,797.5176" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="24" x2="155" y1="797.5176" y2="797.5176"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="36" y="792.5645">Leave a channel</text><polygon fill="#0A9EFD" points="540,824.0059,550,828.0059,540,832.0059,544,828.0059" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="161" x2="546" y1="828.0059" y2="828.0059"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128" x="292.5" y="823.0527">Leave the channel</text><polygon fill="#0A9EFD" points="775,854.4941,785,858.4941,775,862.4941,779,858.4941" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="552" x2="781" y1="858.4941" y2="858.4941"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="100" x="619.5" y="853.541">Channel leave</text><!--MD5=[6e98b5b39556bf38f323991c787ca062]
@startuml cloud-proxy
!include agora_skin.iuml

actor "User" as USR

box "Implemented by you"
actor "Admin" as ADMIN
participant "App" as APP
participant "Enterprise Firewall" as FIREWALL
end box

box "Provided by Agora"
participant "Cloud Proxy" as PROXY
participant "SD-RTN" as API
end box

ADMIN -> FIREWALL: Whitelist IP addresses and ports\n for Cloud Proxy in the firewall.

USR -> APP: Open the app
APP -> APP: Initialize the Agora Video\n SDK engine

group Enable cloud proxy
APP -> APP: Call the method to enable\na Cloud Proxy connection
APP -> FIREWALL: Request access to \n Cloud Proxy
FIREWALL-> FIREWALL : Check whitelist to grant\n access
FIREWALL -> PROXY: Request access to \n Cloud Proxy
PROXY -> APP: Proxy information 
end

USR -> APP: Join a channel

APP -> PROXY: Join a channel
PROXY -> API: Request to join a channel
API -> PROXY: Join success
PROXY -> APP: Join success
APP -> PROXY: Send data stream
PROXY <-> API: Send and receive data stream
PROXY -> APP: Receive data stream

USR -> APP: Leave a channel
APP -> PROXY: Leave the channel
PROXY -> API: Channel leave


@enduml

@startuml cloud-proxy

scale max 1000 width
skinparam linetype ortho
hide stereotype

skinparam backgroundColor transparent
skinparam Shadowing false
skinparam BoundaryBackgroundColor transparent
skinparam BoundaryBorderColor #0a9efdff
skinparam DiagramBorderColor #0a9efdff
skinparam defaultTextAlignment center
skinparam SequenceMessageAlign center
skinparam ReferenceBorderThickness 2

skinparam sequence {

    ActorBorderThickness 3
   	ActorBorderColor #0a9efdff
	ActorBackgroundColor transparent
	ActorFontColor #0a9efdff
	ActorFontName Roboto
    ActorFontStyle bold
    ActorFontSize 14

    AgentBackgroundColor #0a9efdff

   	ArrowFontColor #0a9efdff
   	ArrowFontSize 14
   	ArrowFontStyle bold
    ArrowColor #ee4c14
    ArrowThickness 2

    RectangleBorderThickness 3
    BoxBackgroundColor #f3f3f3
    BoxBorderColor #0a9efdff

   	BoxFontColor #0a9efdff
   	BoxFontName Roboto
   	BoxFontStyle bold
   	BoxFontSize 16

    BoundaryBackgroundColor #0a9efdff
    BoundaryBorderColor #0a9efdff
    BoundaryFontColor #0a9efdff
    BoundryFontName Roboto
    BoundaryStereotypeFontColor #0a9efdff

    ClassBorderColor #0a9efdff
    ComponentBorderColor #0a9efdff

    DividerBackgroundColor white
    DividerBorderColor #0a9efdff
    DividerBorderThickness 3
    DividerFontColor #0a9efdff
    DividerFontName Roboto
    DividerFontSize bold
    DividerFontStyle 14

    GroupBorderColor #0a9efdff
    GroupBorderThickness 2
    GroupFontName Roboto
    GroupFontSize 14
    GroupFontColor #0a9efdff
    GroupHeaderFontColor #0a9efdff
    GroupHeaderFontName Roboto
    GroupHeaderFontSize 14
    GroupHeaderFontStyle bold

   	LifeLineBorderColor #0a9efdff
   	LifeLineBackgroundColor #0a9efdff
   	LifeLineFontColor  #0a9efdff

   	ParticipantBorderColor #0a9efdff
   	ParticipantBackgroundColor white
   	ParticipantFontSize 14
   	ParticipantFontStyle bold
   	ParticipantFontName Roboto
   	ParticipantFontColor #0a9efdff
    ParticipantBorderThickness 2

    ReferenceBorderThickness 2



    TitleFontColor #0a9efdff
    TitleFontName Roboto
    TitleFontSize 18
    TitleBorderThickness 5

}
skinparam interface {
  BackgroundColor #FFFFFF
  BorderColor #0a9efdff
  BorderThickness 1
  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bolds

}


skinparam usecase {
  BackgroundColor #FFFFFF
  BorderColor #ee4c14
  BorderThickness 1
  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam note {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 1

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam activity {

  BackgroundColor #FFFFFF
  DiamondBackgroundColor #FFFFFF
  DiamondBorderColor #0a9efdff
  BorderColor #0a9efdff
  BorderThickness 4
  DiamondBackgroundColor #FFFFFF
  DiamondBorderColor #0a9efdff
  DiamondFontColor #0a9efdff
  activityDiamondFontName Roboto
  activityDiamondFontSize 14
  DiamondFontStyle bold
  StartColor #0a9efdff
  StopColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam card {
  BackgroundColor transparent
  BorderColor transparent
  BorderThickness 0
  FontColor transparent
}


skinparam rectangle {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam agent {

  BackgroundColor #FFFFFF
  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam folder {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam file {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam cloud {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam class {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 1

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold



}

skinparam component {

  BackgroundColor  #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 2

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold
}



skinparam database {

  BackgroundColor #f3f3f3

  BorderColor #0a9efdff
  BorderThickness 2

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}


skinparam frame {

  ArrowColor #0a9efdff

  BackgroundColor #f3f3f3
  BorderColor #0a9efdff
  BorderThickness 4

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold
}


skinparam node {

  ArrowColor #0a9efdff

  BorderThickness 2
  BackgroundColor #FFFFFF
  BorderColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam package {
  BorderThickness 2
  BackgroundColor #FFFFFF
  BorderColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}


skinparam partition {

  BackgroundColor #f3f3f3

  BorderColor #0a9efdff
  BorderThickness 2

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam ArrowFontColor #0a9efdff
skinparam ArrowFontSize 14
skinparam ArrowFontStyle bold
skinparam ArrowColor #0a9efdff
skinparam ArrowThickness 2
skinparam ArrowFontName Roboto

skinparam linetype ortho
hide stereotype








actor "User" as USR

box "Implemented by you"
actor "Admin" as ADMIN
participant "App" as APP
participant "Enterprise Firewall" as FIREWALL
end box

box "Provided by Agora"
participant "Cloud Proxy" as PROXY
participant "SD-RTN" as API
end box

ADMIN -> FIREWALL: Whitelist IP addresses and ports\n for Cloud Proxy in the firewall.

USR -> APP: Open the app
APP -> APP: Initialize the Agora Video\n SDK engine

group Enable cloud proxy
APP -> APP: Call the method to enable\na Cloud Proxy connection
APP -> FIREWALL: Request access to \n Cloud Proxy
FIREWALL-> FIREWALL : Check whitelist to grant\n access
FIREWALL -> PROXY: Request access to \n Cloud Proxy
PROXY -> APP: Proxy information 
end

USR -> APP: Join a channel

APP -> PROXY: Join a channel
PROXY -> API: Request to join a channel
API -> PROXY: Join success
PROXY -> APP: Join success
APP -> PROXY: Send data stream
PROXY <-> API: Send and receive data stream
PROXY -> APP: Receive data stream

USR -> APP: Leave a channel
APP -> PROXY: Leave the channel
PROXY -> API: Channel leave


@enduml

PlantUML version 1.2022.6(Tue Jun 21 19:34:49 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GG
--></g></svg>
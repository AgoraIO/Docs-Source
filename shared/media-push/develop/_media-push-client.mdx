import * as data from '@site/data/variables';
import Reference from '@docs/shared/media-push/develop/media-push-client/reference/index.mdx';
import ProjectImplement from '@docs/shared/media-push/develop/media-push-client/project-implementation/index.mdx';

## Introduction

The Agora SDK provides the functionality to convert the audio and video streams of hosts from Agora private protocols to standard protocols (RTMP and RTMPS) and then push those streams to CDN. The CDN audience can watch live streams by clicking the corresponding URLs. This function can enrich the distribution channels of live media streams and facilitate the promotion of live streaming.

<div class="alert note">The Media Push service is not free. Agora charges for the use of this service based on the transcoding configuration and streaming duration. See <a href="./billing_streaming?platform=RESTful">Pricing for Media Push</a>. If you additionally enable the LBHQ feature, discuss the charges with sales-us@agora.io.</div>

![1646028684726](https://web-cdn.agora.io/docs-files/1646028684726)

## Prerequisites

1. Log in to [Agora Console](https://console.agora.io/), and click the **Project Management** icon on the left navigation panel.

2. On the **Project Management** page, find the project for which you want to enable the Media Push service, and click the edit icon.

    <img src="https://web-cdn.agora.io/docs-files/1637660034129"/>

3. Under **Real-time engagement extensions**, find **Media Push**, and click **Enable**.

    <img src="https://web-cdn.agora.io/docs-files/1641798077250" />

4. Click the **Status** button to enable the Media Push Client-side SDK API service. Read the pop-up prompt carefully, and then click **Save**. <div class="alert note">The service cannot be disabled after enabling. </div>

5. The **Enable** button of **Media Push** changes to the **Config** button, which allows you to configure the Media Push service.

    <img src="https://web-cdn.agora.io/docs-files/1641798186456" />

## Implementation


<PlatformWrapper notAllowed="web">
<PlatformWrapper notAllowed="unity">
To reduce the difficulty of integrating Media Push, as of v3.6.0, Agora optimizes the API design of Media Push and improves the handling of network issues within Media Push clients and servers, as detailed in the release notes. This section describes how to use the SDK v3.6.0 or later to implement Media Push. If you need to implement Media Push using versions of the SDK earlier than v3.6.0, see [how to implement an earlier version](#older-v).

You can implement different types of Media Push depending on the live streaming scenario requires transcoded or non-transcoded streaming. Transcoding is essentially an encoding and decoding function used to mix multiple audio and video streams into one audio and video stream, which can guarantee the synchronization of multiple hosts' live streams seen by the audience. Therefore, generally speaking, in the case of multiple-hosts live streaming, you need to enable transcoding when pushing streams to CDN; in the case of single-host live streaming, only one media stream is pushed to the CDN, so you do not need to enable transcoding.
</PlatformWrapper>
</PlatformWrapper>


<PlatformWrapper notAllowed="windows">
<PlatformWrapper notAllowed="macos">
<PlatformWrapper notAllowed="android">
<PlatformWrapper notAllowed="ios">
Before proceeding, ensure that you implement basic interactive live streaming in your project. See [Start Live Interactive Streaming](start_live_unity) for details.
</PlatformWrapper>
</PlatformWrapper>
</PlatformWrapper>
</PlatformWrapper>

<ProjectImplement />


<PlatformWrapper notAllowed="web">
<PlatformWrapper notAllowed="unity">
### Considerations

- This service is not free. Agora charges for the use of this service based on the duration of the audio and video transcoding.
- Agora recommends that you control the number of hosts involved in transcoding according to the actual output video. In any event, the number of the hosts in the same channel cannot exceed 17.
- Agora supports pushing streams in the RTMP and RTMPS protocols to CDN.
- To avoid errors in the code logic, ensure that the CDN addresses used in the transcoded and non-transcoded streaming are different.
</PlatformWrapper>
</PlatformWrapper>


<PlatformWrapper notAllowed="web">
<PlatformWrapper notAllowed="unity">
## Reference

This section provides references commonly used when using Media Push function.

### Commonly used video profile

Agora recommends that you use the default values when setting the video resolution, frame rate, and bitrate of the output transcoded stream. You can also refer to the following table to set the values. If you set a bitrate beyond a reasonable range, the Agora server automatically adjusts the bitrate to stay within a reasonable range.

| Resolution       |Frame rate (fps) | Bitrate (Kbps) |
|------------|----------|-----------|
| 160 × 120  | 15       | 130       |
| 120 × 120  | 15       | 100       |
| 320 × 180  | 15       | 280       |
| 180 × 180  | 15       | 200       |
| 240 × 180  | 15       | 240       |
| 320 × 240  | 15       | 400       |
| 240 × 240  | 15       | 280       |
| 424 × 240  | 15       | 440       |
| 640 × 360  | 15       | 800       |
| 360 × 360  | 15       | 520       |
| 640 × 360  | 30       | 1200      |
| 360 × 360  | 30       | 800       |
| 480 × 360  | 15       | 640       |
| 480 × 360  | 30       | 980       |
| 640 × 480  | 15       | 1000      |
| 480 × 480  | 15       | 800       |
| 640 × 480  | 30       | 1500      |
| 480 × 480  | 30       | 1200      |
| 848 × 480  | 15       | 1220      |
| 848 × 480  | 30       | 1860      |
| 640 × 480  | 10       | 800       |
| 1280 × 720 | 15       | 2260      |
| 1280 × 720 | 30       | 3420      |
| 960 × 720  | 15       | 1820      |
| 960 × 720  | 30       | 2760      |

</PlatformWrapper>
</PlatformWrapper>

<PlatformWrapper notAllowed="windows">
<PlatformWrapper notAllowed="macos">
<PlatformWrapper notAllowed="android">
<PlatformWrapper notAllowed="ios">
## Considerations
</PlatformWrapper>
</PlatformWrapper>
</PlatformWrapper>
</PlatformWrapper>

<Reference />


<PlatformWrapper notAllowed="web">
<PlatformWrapper notAllowed="unity">
### Related docs

When using the Media Push function, you may also need to refer to the following docs:

- [Pricing for Media Push](./billing_streaming?platform=RESTful)
- [Exception Handling for Media Push](./cdn_streaming_error)
- [How to solve SEI-related issues?](./faq/sei)
- [What is the relationship between the old and new callbacks of Media Push?](./faq/cdnStreaming_callback_relationship)
- [Overview of the Media Push using RESTful API](./streaming_product?platform=RESTful)
</PlatformWrapper>
</PlatformWrapper>
---
title: "Ensure high availability"
sidebar_position: 2
type: docs
platform_selector: false
description: >
   Guidelines to ensure high availability of transcoding service.
---

import SwitchDomain from '@docs/shared/common/_switch-domain-name.mdx';

To ensure the high availability of cloud transcoding services and reduce the impact of network failures, <Vg k="COMPANY"/> offers solutions such as failover migration, multi-task redundancy, and domain name fallback.

### Failover migration

To minimize the impact of failures due to network issues, third-party infrastructure, or force majeure events, <Vg k="COMPANY"/> provides automatic high-availability task migration. Once a failure is detected, the service attempts to migrate the task within 90 seconds. During this process, there is a risk of transcoding interruptions.

For scenarios with a large number of viewers or where ultra-high availability is required, consider whether the temporary impact of a failover is acceptable for your use case. To improve reliability:

* Start multiple transcoding tasks using different `uid`s in the output channel.
* Periodically [check the transcoding task status](../rest-api/query) and use a backup `uid` to immediately initiate a new task if a failure is detected. This ensures uninterrupted delivery of critical streams.

<Admonition type="caution" title="Caution">
The RESTful APIs support only HTTP 1.1 and HTTP 2.0. When using HTTPS, ensure that the connection is encrypted using TLS 1.0, 1.1, or 1.2. Other protocol versions may cause connection failures.
</Admonition>

### Multi-task redundancy

For a higher level of reliability than failover alone, implement a multi-task redundancy strategy. 

<Admonition type="info">
Each cloud transcoding task is billed independently. For billing information, contact [technical support](mailto:support@agora.io).
</Admonition>

To implement multi-task redundancy:
 
1. Start a primary and a backup transcoding task simultaneously. Both tasks transcode the same source stream and push the output to the same or separate channels. Audience members subscribe to the `uid` used by the primary task.

2. On the client side, monitor the following callback events to detect interruptions and switch to the backup task if needed:

   * The <Link to="{{Global.API_REF_ANDROID_ROOT}}/class_irtcengineeventhandler.html#callback_irtcengineeventhandler_onuseroffline">`onUserOffline`</Link> callback when the transcoder (host) goes offline.
   * Stream state change callbacks: <Link to="{{Global.API_REF_ANDROID_ROOT}}/class_irtcengineeventhandler.html#callback_irtcengineeventhandler_onremoteaudiostatechanged">`onRemoteAudioStateChanged`</Link> and <Link to="{{Global.API_REF_ANDROID_ROOT}}/class_irtcengineeventhandler.html#callback_irtcengineeventhandler_onremotevideostatechanged">`onRemoteVideoStateChanged`</Link>.

<SwitchDomain/>


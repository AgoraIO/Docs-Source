<PlatformWrapper platform="android">
    ```kotlin
    fun startProbeTest() {
        if (agoraEngine == null) setupAgoraEngine()
        // Configure a LastmileProbeConfig instance.
        val config = LastmileProbeConfig()
        // Probe the uplink network quality.
        config.probeUplink = true
        // Probe the down link network quality.
        config.probeDownlink = true
        // The expected uplink bitrate (bps). The value range is [100000,5000000].
        config.expectedUplinkBitrate = 100000
        // The expected down link bitrate (bps). The value range is [100000,5000000].
        config.expectedDownlinkBitrate = 100000
        agoraEngine!!.startLastmileProbeTest(config)
        sendMessage("Running the last mile probe test ...")
        // Test results are reported through the onLastmileProbeResult callback
    }
    ```
</PlatformWrapper>
<PlatformWrapper platform="flutter">
    ```dart
    void startProbeTest() {
        // Configure the probe test
        LastmileProbeConfig config = const LastmileProbeConfig(
            probeUplink: true,
            probeDownlink: true,
            expectedUplinkBitrate: 100000,  // Range 100000-5000000 bps
            expectedDownlinkBitrate: 100000, // Range 100000-5000000 bps
        );
        agoraEngine!.startLastmileProbeTest(config);
        messageCallback("Running the last mile probe test ...");
        // Test results are reported through the onLastmileProbeResult callback
    }
    ```
</PlatformWrapper>
<PlatformWrapper platform={["ios","macos"]}>
    ```swift
    func startProbeTest() {
        // Configure a LastmileProbeConfig instance.
        let config = AgoraLastmileProbeConfig()
        // Probe the uplink network quality.
        config.probeUplink = true
        // Probe the downlink network quality.
        config.probeDownlink = true
        // The expected uplink bitrate (bps). The value range is [100000,5000000].
        config.expectedUplinkBitrate = 100000
        // The expected downlink bitrate (bps). The value range is [100000,5000000].
        config.expectedDownlinkBitrate = 100000

        print(agoraEngine.startLastmileProbeTest(config))
    }
    ```

    <PlatformWrapper platform="ios">
    - <Link to="{{Global.API_REF_IOS_ROOT_RTC_KIT}}/agoralastmileprobeconfig">AgoraLastmileProbeConfig</Link>
    - <Link to="{{Global.API_REF_IOS_ROOT_RTC_KIT}}/agorartcenginekit/startlastmileprobetest(_:)">startLastmileProbeTest(_:)</Link>
    </PlatformWrapper>
    <PlatformWrapper platform="macos">
    - <Link to="{{Global.API_REF_MACOS_ROOT_RTC_KIT}}/agoralastmileprobeconfig">AgoraLastmileProbeConfig</Link>
    - <Link to="{{Global.API_REF_MACOS_ROOT_RTC_KIT}}/agorartcenginekit/startlastmileprobetest(_:)">startLastmileProbeTest(_:)</Link>
    </PlatformWrapper>
</PlatformWrapper>
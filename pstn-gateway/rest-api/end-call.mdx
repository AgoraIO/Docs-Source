---
title: 'End call'
sidebar_position: 5
platform_selector: false
description: >
 Terminate active outbound calls using the call ID.
---

import RestAPILayout from '@site/src/components/rest-api/RestAPILayout';
import LeftColumn from '@site/src/components/rest-api/LeftColumn';
import RightColumn, { Section } from '@site/src/components/rest-api/RightColumn';
import ParameterList, { Parameter } from '@site/src/components/rest-api/ParameterList';
import PathParameter from '@site/src/components/rest-api/PathParameter';
import { Tabs, TabItem } from '@site/src/components/rest-api/Tabs';

<RestAPILayout>
 <LeftColumn
   title={frontMatter.title}
   method="POST"
   endpoint="https://sipcm.agora.io/v1/api/pstn"
 >

Terminate an active outbound call using the call ID returned by the outbound PSTN API.

## Request

### Request body

<div class="api-mime-type">APPLICATION/JSON</div>

<ParameterList title="BODY" required={true}>
 <Parameter name="action" type="string" possibleValues="inbound, outbound, inboundsip, endcall, cancelcall" required={true}>
   The action type. Use "endcall" to terminate an active outbound call.
 </Parameter>
 <Parameter name="appId" type="string" required={true}>
   The App ID of your Agora project.
 </Parameter>
 <Parameter name="callid" type="string" required={true}>
   The call ID of the ongoing outbound call that you want to terminate.
 </Parameter>
</ParameterList>

## Response

- If the returned status code is `200`, the call was successfully terminated.

 <ParameterList title="OK">
   <Parameter name="success" type="boolean">
     Indicates whether the call was successfully terminated.
   </Parameter>
 </ParameterList>

- If the returned status code is `404`, the call was not found.

 <ParameterList title="Not Found">
   <Parameter name="code" type="integer">
   Error response code:
   - `404` Call not found or already ended
   </Parameter>
 </ParameterList>

</LeftColumn>

<RightColumn>

<Section title="Authorization">
[Contact](mailto:support@agora.io) Agora support for an authorization header to include in your requests.
</Section>

<Section title="Request example">

 <Tabs groupId="code-examples">
   <TabItem value="curl" label="curl" default>
     ```bash
     curl -X POST https://sipcm.agora.io/v1/api/pstn \
       -H "Content-Type: application/json" \
       -H "Authorization: [Your-Authorization-Header]" \
       -d '{
         "action": "endcall",
         "appId": "[Your-Agora-App-ID]",
         "callid": "f577605c-eb3a-4efe-af1b-ee66d5297569"
       }'
     ```
   </TabItem>
   <TabItem value="python" label="Python">

   ```python
   import requests
   import json

   url = "https://sipcm.agora.io/v1/api/pstn"

   headers = {
       "Content-Type": "application/json",
       "Authorization": "[Your-Authorization-Header]"
   }

   data = {
       "action": "endcall",
       "appId": "[Your-Agora-App-ID]",
       "callid": "f577605c-eb3a-4efe-af1b-ee66d5297569"
   }

   response = requests.post(url, headers=headers, json=data)

   if response.status_code == 200:
       result = response.json()
       if result['success']:
           print("Call terminated successfully")
       else:
           print("Failed to terminate call")
   elif response.status_code == 404:
       print("Call not found or already ended")
   else:
       print(f"Error: {response.status_code}")
   ```
   </TabItem>

   <TabItem value="node" label="Node.js">

   ```js
   const axios = require('axios');

   const url = 'https://sipcm.agora.io/v1/api/pstn';

   const headers = {
       'Content-Type': 'application/json',
       'Authorization': '[Your-Authorization-Header]'
   };

   const data = {
       action: 'endcall',
       appId: '[Your-Agora-App-ID]',
       callid: 'f577605c-eb3a-4efe-af1b-ee66d5297569'
   };

   axios.post(url, data, { headers })
       .then(response => {
           if (response.data.success) {
               console.log('Call terminated successfully');
           } else {
               console.log('Failed to terminate call');
           }
       })
       .catch(error => {
           if (error.response && error.response.status === 404) {
               console.log('Call not found or already ended');
           } else {
               console.error('Error:', error.message);
           }
       });
   ```
   </TabItem>
 </Tabs>

</Section>

<Section title="Response example">

```json
{  
 "success": true
}
```

</Section>
</RightColumn>
</RestAPILayout>
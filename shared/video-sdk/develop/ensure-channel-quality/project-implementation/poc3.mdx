import ImportLibrary from '@docs/assets/code/video-sdk/ensure-channel-quality/import-library.mdx';
import ProbeTest from '@docsassets/code/video-sdk/ensure-channel-quality/probe-test.mdx';
import SetupEngine from '@docsassets/code/video-sdk/ensure-channel-quality/setup-engine.mdx';
import TestHardware from '@docsassets/code/video-sdk/ensure-channel-quality/test-hardware.mdx';
import EventHandler from '@docsassets/code/video-sdk/ensure-channel-quality/event-handler.mdx';
import SwitchQuality from '@docsassets/code/video-sdk/ensure-channel-quality/switch-quality.mdx';
import SetLatency from '@docsassets/code/video-sdk/ensure-channel-quality/set-latency.mdx';

<PlatformWrapper platform={["android","flutter"]}>

1. **Import the required Agora libraries**

    <ImportLibrary />

1. **Use a probe test to check network health**

    <ProbeTest />

1. **Implement best practice for app initiation**

    Use the following <Vg k="VSDK" /> features when you set up an instance of the <Vg k="ENGINE" />:

    * _Enable and configure logging_: For optimization and debugging.
    * _Enable dual stream mode_: Required for multi-user scenarios.
    * _Set an audio profile and audio scenario_: Setting an audio profile is optional and only required if you have special requirements such as streaming  music.
    * _Set the video profile_: Setting a video profile is also optional. It is useful when you want to change one or more of `mirrorMode`, `frameRate`, `bitrate`, `dimensions`, `orientationMode`, `degradationPrefer` or `compressionPrefer` from the default setting to custom values.
      For more information, see  [video profile table](#video-profile-table).
    * _Start a network probe test_: A quick test at startup to gauge network quality.

    <SetupEngine />

1. **Test the user's hardware**

    The echo test checks that the user's hardware is working properly.

    <TestHardware />

1. **Listen to <Vg k="ENGINE" /> events to receive state change notifications and quality statistics**

    Use the following callbacks monitor and ensure channel quality:

    <EventHandler />

1. **Switch stream quality**

    Take advantage of dual-stream mode and switch remote video quality to high or low.

    <SwitchQuality />

<ProductWrapper product={["interactive-live-streaming", "broadcast-streaming"]}>
1. **Set the latency level**

    <ProductWrapper product="interactive-live-streaming">
    For ultra low-latency applications, set the appropriate audience latency level when joining a channel. Ultra-low latency is a feature of <Vg k="ILS" /> and its use is subject to special [pricing](../reference/pricing#unit-pricing).
    </ProductWrapper>
    <ProductWrapper product="broadcast-streaming">
    For low-latency applications, set the appropriate audience latency level when joining a channel. Low latency is a feature of <Vg k="BS" /> and its use is subject to special [pricing](../reference/pricing#unit-pricing).
    </ProductWrapper>

    <SetLatency />
</ProductWrapper>

</PlatformWrapper>

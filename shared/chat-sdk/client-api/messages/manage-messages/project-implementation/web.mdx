<PlatformWrapper platform="web">

The structure of the session object is as follows:

```
interface ConversationItem {
	// Session ID.
	conversationId: string;
	// Conversation type: single chat and group chat are `singleChat` and `groupChat` respectively.
	conversationType: ConversationType;
	// The number of unread messages in the session.
	unReadCount?: number;
	// The latest message.
	lastMessage?: LocalMessageBody;
	// Session custom fields.
	customField?: Record<string, any>;
}
```

### Get local session list

You can call the `getLocalConversations` method to get a list of all local sessions at once. After obtaining the session, the SDK returns the session list in reverse order of session active time (the timestamp of the latest message). The conversation list data is a `<ConversationItem[]>` structure.

The sample code is as follows:

```javascript
miniCore.localCache.getLocalConversations().then((res)=>{
   // Obtain local session list successfully.
   console.log(res)
})
```

### Get a single local session

You can call the `getLocalConversation` method to obtain a single local session object. The sample code is as follows:

```javascript
const options = {
   // Conversation type: single chat and group chat are `singleChat` and `groupChat` respectively.
   conversationType: 'singleChat',
   // Session ID.
   conversationId: 'conversationId'
}

miniCore.localCache.getLocalConversation(options).then((res)=>{
   // Obtain local session successfully.
   console.log(res)
})
```

### Set session custom fields

You can call the `setLocalConversationCustomField` method to set the custom field of the local session, that is, pass in the key-value object, where key is the field name and value is the field value.

The sample code is as follows:

```javascript
const options = {
   // Conversation type: single chat and group chat are `singleChat` and `groupChat` respectively.
   conversationType: 'singleChat',
   // Session ID.
   conversationId: 'conversationId',
   // Session custom fields.
   customField: { custom: 'custom' }
}

miniCore.localCache.setLocalConversationCustomField(options).then(()=>{
   // Set session custom fields successfully.
})
```

### Clear the number of unread messages in a session

You can call the `clearConversationUnreadCount` method to clear the number of unread messages in a single local session. The sample code is as follows:


```javascript
const options = {
   // Conversation type: single chat and group chat are `singleChat` and `groupChat` respectively.
   conversationType: 'singleChat',
   // Session ID.
   conversationId: 'conversationId'
}

miniCore.localCache.clearConversationUnreadCount(options).then(()=>{
   // Successfully cleared the number of unread messages for the specified session.
})
```

### Delete a single local session

You can call the `removeLocalConversation` method to delete a single local session. The sample code is as follows:

```javascript
const options = {
   // Conversation type: single chat and group chat are `singleChat` and `groupChat` respectively.
   conversationType: 'singleChat',
   // Session ID.
   conversationId: 'conversationId',
   // Whether to delete local messages, the default value is `true`.
   isRemoveLocalMessage: true
}

miniCore.localCache.removeLocalConversation(options).then(()=>{
   // Delete local session successfully.
})
```

### Synchronize server session list to local

You can call the `getServerConversations` method to get the server session list and synchronize it to the local database. The sample code is as follows:

```javascript
const options = {
   /** The expected number of sessions per page. The value range is [1,50], and the default is `20`. */
   pageSize: 20,
   /** The cursor position to start getting data. If an empty string ('') is passed, the SDK starts to obtain the session from the latest active session. */
   cursor: ''
}
miniCore.contact.getServerConversations(options).then((res)=>{
   // Obtain the server session list and synchronize the local successfully.
   console.log(res)
})
```

</PlatformWrapper>

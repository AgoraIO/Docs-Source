<PlatformWrapper platform="react-native">

![](/images/video-sdk/quick-start-sequence.svg)

<details> 
<summary>Complete sample code for real-time audio and video interaction</summary>

```jsx
// 导入 React Hooks
import React, {useRef, useState, useEffect} from 'react';
// 导入用户界面元素
import {
    SafeAreaView,
    ScrollView,
    StyleSheet,
    Text,
    View,
    Switch,
} from 'react-native';
// 导入获取 Android 设备权限相关组件
import {PermissionsAndroid, Platform} from 'react-native';
// 导入声网 SDK
import {
    ClientRoleType,
    createAgoraRtcEngine,
    IRtcEngine,
    RtcSurfaceView,
    ChannelProfileType,
    AudienceLatencyLevelType,
} from 'react-native-agora';


// 定义基本信息
const appId = '<-- Insert App ID -->';
const token = '<-- Insert Token -->';
const channelName = '<-- Insert Channel Name -->';
const uid = 0; // 本地用户 Uid，无需修改

const App = () => {
    const agoraEngineRef = useRef<IRtcEngine>(); // IRtcEngine 实例
    const [isJoined, setIsJoined] = useState(false); // 本地用户是否已加入频道
    const [isHost, setIsHost] = useState(true); // 用户角色
    const [remoteUid, setRemoteUid] = useState(0); // 远端用户的 Uid
    const [message, setMessage] = useState(''); // 用户提示信息

    // 启动 App 时初始化引擎
	useEffect(() => {
       setupVideoSDKEngine();
    });
    const setupVideoSDKEngine = async () => {
       try {
       // 获取设备权限后创建 RtcEngine
       if (Platform.OS === 'android') {
                      await getPermission()};
       agoraEngineRef.current = createAgoraRtcEngine();
       const agoraEngine = agoraEngineRef.current;
       
       // 注册回调事件
       agoraEngine.registerEventHandler({
           onJoinChannelSuccess: () => {
               showMessage('成功加入频道：' + channelName);
               setIsJoined(true);
           },
           onUserJoined: (_connection, Uid) => {
               showMessage('远端用户 ' + Uid + ' 已加入');
               setRemoteUid(Uid);
           },
           onUserOffline: (_connection, Uid) => {
               showMessage('远端用户 ' + Uid + '已离开频道');
               setRemoteUid(0);
           },
       });
       // 初始化引擎
       agoraEngine.initialize({
           appId: appId,
       });
       // 开启本地视频
       agoraEngine.enableVideo();
       } catch (e) {
           console.log(e);
       }
    };
	// 定义点击加入频道按钮后调用的 join 方法 
    const join = async () => {
        if (isJoined) {
            return;
        }
        try {
            // 加入频道后设置频道场景类型为直播
            agoraEngineRef.current?.setChannelProfile(
                ChannelProfileType.ChannelProfileLiveBroadcasting,
            );
            if (isHost) {
            // 开启预览
            agoraEngineRef.current?.startPreview();
            // 以主播角色加入频道
            agoraEngineRef.current?.joinChannel(token, channelName, uid, {
                clientRoleType: ClientRoleType.ClientRoleBroadcaster});
            } else {
            // 以观众角色加入频道
            agoraEngineRef.current?.joinChannel(token, channelName, uid, {
                clientRoleType: ClientRoleType.ClientRoleAudience,
                audienceLatencyLevelType: AudienceLatencyLevelType.AudienceLatencyLevelUltraLowLatency
                });
            }
        } catch (e) {
            console.log(e);
        }
    };
    // 定义点击离开频道按钮后调用的 leave 方法 
    const leave = () => {
        try {
            // 调用 leaveChannel 方法离开频道
            agoraEngineRef.current?.leaveChannel();
            setRemoteUid(0);
            setIsJoined(false);
            showMessage('已离开频道');
        } catch (e) {
            console.log(e);
        }
    };

    // 渲染用户界面
    return (
    <SafeAreaView style={styles.main}>
        <Text style={styles.head}>声网互动直播快速开始</Text>
        <View style={styles.btnContainer}>
            <Text onPress={join} style={styles.button}>
                加入频道
            </Text>
            <Text onPress={leave} style={styles.button}>
                离开频道
            </Text>
        </View>
        <View style={styles.btnContainer}>
            <Text>Audience</Text>
            <Switch
                onValueChange={switchValue => {
                    setIsHost(switchValue);
                    if (isJoined) {
                    leave();
                    }
                }}
                value={isHost}
            />
            <Text>Host</Text>
        </View>        
		<ScrollView
            style={styles.scroll}
            contentContainerStyle={styles.scrollContainer}>
            {isJoined ? (
                <React.Fragment key={0}>
                <RtcSurfaceView canvas={{uid: 0}} style={styles.videoView} />
                <Text>本地用户 uid: {uid}</Text>
                </React.Fragment>
            ) : (
                <Text>加入一个频道</Text>
            )}
            {isJoined && !isHost && remoteUid !== 0 ? (
                <React.Fragment key={remoteUid}>
                <RtcSurfaceView
                    canvas={{uid: remoteUid}}
                    style={styles.videoView}
                />
                <Text>远端用户 uid: {remoteUid}</Text>
                </React.Fragment>
            ) : (
                <Text>{isJoined && !isHost ? '等待远端用户加入' : ''}</Text>
            )}
            <Text style={styles.info}>{message}</Text>
        </ScrollView>
    </SafeAreaView>
);

	// 展示信息
    function showMessage(msg: string) {
        setMessage(msg);
    }
};

// 定义用户界面样式
const styles = StyleSheet.create({
    button: {
        paddingHorizontal: 25,
        paddingVertical: 4,
        fontWeight: 'bold',
        color: '#ffffff',
        backgroundColor: '#0055cc',
        margin: 5,
    },
    main: {flex: 1, alignItems: 'center'},
    scroll: {flex: 1, backgroundColor: '#ddeeff', width: '100%'},
    scrollContainer: {alignItems: 'center'},
    videoView: {width: '90%', height: 200},
    btnContainer: {flexDirection: 'row', justifyContent: 'center'},
    head: {fontSize: 20},
    info: {backgroundColor: '#ffffe0', paddingHorizontal: 8, color: '#0000ff'}
});

const getPermission = async () => {
    if (Platform.OS === 'android') {
        await PermissionsAndroid.requestMultiple([
            PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,
            PermissionsAndroid.PERMISSIONS.CAMERA,
        ]);
    }
};

export default App;
```
</details>

### Import dependencies

```jsx

```

### Define basic information

```jsx

```

### Get device permissions

```jsx

```

### Initialize the engine

```jsx

```

### Enable video module

```jsx

```

### Register callback

```jsx

```

### Join channel

```jsx

```

### Leave channel

```jsx

```

</PlatformWrapper>
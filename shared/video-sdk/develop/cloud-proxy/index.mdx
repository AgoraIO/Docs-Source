import ProjectImplement from '@docs/shared/video-sdk/develop/cloud-proxy/project-implementation/index.mdx';
import Reference from '@docs/shared/video-sdk/develop/cloud-proxy/reference/index.mdx';
import NotAvailable from '@docs/shared/common/not-available.mdx'

Large enterprises, hospitals, universities, banks, and other institutions commonly deploy firewalls to meet their stringent security requirements. To ensure uninterrupted access to its services for enterprise users behind firewalls, Agora offers firewall whitelist and <Vg k="CP" /> services.

Admins enable users to use <Vpd k="SDK" /> in network-restricted environments by adding specific IP addresses and ports to the firewall whitelist. Users make API calls to configure the <Vg k="CP" /> service.

<PlatformWrapper notAllowed="react-js">

## Understand the tech

<Vg k="CP" /> works as follows:

1. <Vpd k="SDK" /> initiates a request to <Vg k="CP" />.
1. <Vg k="CP" /> returns the corresponding proxy information.
1. Agora SDK sends data to <Vg k="CP" />. <Vg k="CP" /> receives the data and transmits it to <Vg k="AGORA_BACKEND"/>.
1. <Vg k="SDRTN"/> returns data to <Vg k="CP" />. <Vg k="CP" /> receives the data and sends it to the SDK.

<details>
<summary>Cloud proxy workflow</summary>

![](/images/video-sdk/cloud-proxy-tech.svg)
</details>

## Prerequisites

Ensure that you have implemented the [SDK quickstart](../get-started/get-started-sdk) in your project.

## Implement Cloud Proxy

<PlatformWrapper notAllowed="web, react-js">

Take the following steps to use <Vg k="CP" /> in your <Vpl k="CLIENT" />:

1. Enable Cloud Proxy in [<Vg k="CONSOLE" />](https://console.agora.io/):

    1. Log in to the console.
    2. Under **Projects**, locate the project that you want to edit, then click **Configure**.
    3. Under **All Features**, select **Cloud Proxy**.
    4. Click **Enable Cloud Proxy**.

    ![Enable Cloud Proxy](/images/video-sdk/enable-cloud-proxy.png)

1. Configure the enterprise firewall to allow traffic from the IP address and port ranges in the [Agora Allowed IP List](../reference/cloud-proxy-allowed-ips).

</PlatformWrapper>

<ProjectImplement/>

## Reference
This section contains content that completes the information on this page, or points you to documentation that explains other aspects to this product.

### Pricing

<Vg k="COMPANY" /> charges for use of Cloud Proxy as follows.

### Duration-based pricing

Duration-based pricing is based on the total number of minutes used per month across all users.

| Duration | Price per 1000 minutes/month |
|:-----------------------|-----------------------------:|
| UDP Audio Duration     | $0.99 |
| UDP video HD Duration  | $3.99​ |
| UDP video Full HD Duration | $8.99 |
| UDP video 2K Duration  | $15.99​ |
| UDP video 2K+ Duration | $35.99 |
| TCP Audio Duration     | ​$0.99 |
| TCP video HD Duration  | $3.99​ |
| TCP video Full HD Duration | $8.99 |
| TCP video 2K Duration  | $15.99​ |
| TCP video 2K+ Duration | $35.99 |

For volume pricing discount, contact [Agora support](mailto:support@agora.io).

#### PCU-based pricing

PCU is the maximum number of simultaneous users connected to the Cloud Proxy service at any point during the billing cycle. For PCU-based usage, <Vg k="COMPANY" /> charges $500.00 for each VID. 

For volume pricing discount, contact [Agora support](mailto:support@agora.io).

### IP addresses for Cloud Proxy

To use Agora Cloud Proxy, your end users must first configure their firewalls to trust the following [IP address and port ranges](../reference/cloud-proxy-allowed-ips).

<Reference/>

</PlatformWrapper>
<PlatformWrapper platform="react-js">
<NotAvailable />
</PlatformWrapper>
import Authorization from '@docs/shared/common/channel-management-api/authorization.mdx';
import CodeBlock from '@theme/CodeBlock';
import MultiCodeBlock, { CodeGroup, CodeItem } from '@app/mdx-components/MultiCodeBlock';

This method gets the list of all banning rules.

### Prototype

- Method: `GET`
- Endpoint: `https://api.agora.io/dev/v1/kicking-rule?appid={{APPID}}`

<Admonition type="info" title="Note">

To maximize the success rate of core functions, create (POST), update (PUT), and delete (DELETE), the success rate and accuracy of the query (GET) method is degraded to a certain extent when the quality of the public network is abnormally low. Some request records may be missing in the returned results of the query (GET). When calling POST to create a rule (`time` is not set to 0), which you need to update or delete later, best practice is to:

* Save the rule ID returned in the POST request on your server, and rely on this ID for subsequent update and delete operations.
* To ensure that you can still obtain the rule ID returned in the POST request under poor network connections, set the timeout for the POST request to 20 seconds or higher. Make sure that the timeout is set to no less than 5 seconds.
* In case the POST request times out or returns a `504` error, use the response of the GET method to obtain the rule ID. If the rule exists, it indicates that the POST request is successful, and you can save the rule ID on your server.

</Admonition>

### Request parameters

**Query parameters**

Pass the following query parameters in the request URL:

| Parameter | Type           | Required/Optional |Description                            |
| :------ | :---------------- |:------| :------------------------------ |
| `appid` | String | Required | The App ID of the project. You can get it through one of the following methods:<li>Copy from the <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link>.</li><li> Call the [Get all projects](/interactive-live-streaming/reference/agora-console-rest-api#get-all-projects) API, and read the value of the `vendor_key` field in the response body.</li> |

**Request header**

<Authorization/>

### Request examples
Test this request in [Postman](https://documenter.getpostman.com/view/6319646/SVSLr9AM#0640d215-02df-4185-abba-456fd233a7d8) or use one of the following code examples:


<MultiCodeBlock caption="Sample request:">
<CodeGroup label="Shell">
<CodeItem language="shell" name="curl">{`curl --request GET \\
  --url http://api.sd-rtn.com/dev/v1/kicking-rule \\
  --header 'Accept: application/json' \\
  --header 'Authorization: '`}</CodeItem>

<CodeItem language="shell" name="HTTPie">{`http GET http://api.sd-rtn.com/dev/v1/kicking-rule \\
  Accept:application/json \\
  Authorization:''`}</CodeItem>

<CodeItem language="shell" name="wget">{`wget --quiet \\
  --method GET \\
  --header 'Authorization: ' \\
  --header 'Accept: application/json' \\
  --output-document \\
  \- http://api.sd-rtn.com/dev/v1/kicking-rule`}</CodeItem>

</CodeGroup>


<CodeGroup label="Javascript">
<CodeItem language="js" name="Fetch">{`const url = 'http://api.sd-rtn.com/dev/v1/kicking-rule';
const options = {method: 'GET', headers: {Authorization: '', Accept: 'application/json'}};\n
try {
  const response = await fetch(url, options);
  const data = await response.json();
  console.log(data);
} catch (error) {
  console.error(error);
}`}</CodeItem>


<CodeItem language="js" name="XMLHTTPRequest">{`const data = null;
\const xhr = new XMLHttpRequest();
xhr.withCredentials = true;\n
xhr.addEventListener('readystatechange', function () {
  if (this.readyState === this.DONE) {
    console.log(this.responseText);
  \}
\});\n
xhr.open('GET', 'http://api.sd-rtn.com/dev/v1/kicking-rule');
xhr.setRequestHeader('Authorization', '');
xhr.setRequestHeader('Accept', 'application/json');\n
xhr.send(data);`}</CodeItem>

<CodeItem language="js" name="jQuery">{`const settings = {
  async: true,
  crossDomain: true,
  url: 'http://api.sd-rtn.com/dev/v1/kicking-rule',
  method: 'GET',
  headers: {
    Authorization: '',
    Accept: 'application/json'
  \}
\};\n
$.ajax(settings).done(function (response) {
  console.log(response);
\});`}</CodeItem>

<CodeItem language="js" name="Axios">{`import axios from 'axios';
const options = {
  method: 'GET',
  url: 'http://api.sd-rtn.com/dev/v1/kicking-rule',
  headers: {Authorization: '', Accept: 'application/json'}
\};\n
try {
  const { data } = await axios.request(options);
  console.log(data);
\} catch (error) {
  console.error(error);
\}`}</CodeItem>
</CodeGroup>

<CodeGroup label="Node">
<CodeItem language="js" name="Native">{`const http = require('http');
\const options = {
  method: 'GET',
  hostname: 'api.sd-rtn.com',
  port: null,
  path: '/dev/v1/kicking-rule',
  headers: {
    Authorization: '',
    Accept: 'application/json'
  \}
\};\n
const req = http.request(options, function (res) {
  const chunks = [];\n
  res.on('data', function (chunk) {
    chunks.push(chunk);
  \});\n
  res.on('end', function () {
    const body = Buffer.concat(chunks);
    console.log(body.toString());
  \});
\});\n
req.end();`}</CodeItem>

<CodeItem language="js" name="Request">{`const request = require('request');
\const options = {
  method: 'GET',
  url: 'http://api.sd-rtn.com/dev/v1/kicking-rule',
  headers: {Authorization: '', Accept: 'application/json'}
\};\n
request(options, function (error, response, body) {
  if (error) throw new Error(error);
  console.log(body);
\});`}</CodeItem>
<CodeItem language="js" name="Unirest">{`const unirest = require('unirest');
\const req = unirest('GET', 'http://api.sd-rtn.com/dev/v1/kicking-rule');\n
req.headers({
  Authorization: '',
  Accept: 'application/json'
\});\n
req.end(function (res) {
  if (res.error) throw new Error(res.error);
  console.log(res.body);
\});`}</CodeItem>

<CodeItem language="js" name="Fetch">{`const fetch = require('node-fetch');
\const url = 'http://api.sd-rtn.com/dev/v1/kicking-rule';
const options = {method: 'GET', headers: {Authorization: '', Accept: 'application/json'}};\n
try {
  const response = await fetch(url, options);
  const data = await response.json();
  console.log(data);
\} catch (error) {
  console.error(error);
\}`}</CodeItem>

<CodeItem language="js" name="Axios">{`const axios = require('axios').default;
\const options = {
  method: 'GET',
  url: 'http://api.sd-rtn.com/dev/v1/kicking-rule',
  headers: {Authorization: '', Accept: 'application/json'}
\};\n
try {
  const { data } = await axios.request(options);
  console.log(data);
\} catch (error) {
  console.error(error);
\}`}</CodeItem>
</CodeGroup>


<CodeGroup label="Python">
<CodeItem language="python" name="Python 3">{`import http.client
conn = http.client.HTTPConnection("api.sd-rtn.com")\n
headers = {
    'Authorization': "",
    'Accept': "application/json"
\}\n
conn.request("GET", "/dev/v1/kicking-rule", headers=headers)\n
res = conn.getresponse()
data = res.read()
print(data.decode("utf-8"))`}</CodeItem>

<CodeItem language="python" name="Requests">{`import requests\n
url = "http://api.sd-rtn.com/dev/v1/kicking-rule"\n
headers = {
    "Authorization": "",
    "Accept": "application/json"
}\n
response = requests.get(url, headers=headers)
print(response.json())`}</CodeItem>
</CodeGroup>

<CodeGroup label="C#">
<CodeItem language="c" name="HTTPClient">{`using System.Net.Http.Headers;
var client = new HttpClient();
var request = new HttpRequestMessage
\{
    Method = HttpMethod.Get,
    RequestUri = new Uri("http://api.sd-rtn.com/dev/v1/kicking-rule"),
    Headers =
    \{
        { "Authorization", "" },
        { "Accept", "application/json" },
    \},
\};
using (var response = await client.SendAsync(request))
\{
    response.EnsureSuccessStatusCode();
    var body = await response.Content.ReadAsStringAsync();
    Console.WriteLine(body);
\}`}</CodeItem>

<CodeItem language="c" name="RestSharp">{`var client = new RestClient("http://api.sd-rtn.com/dev/v1/kicking-rule");
var request = new RestRequest(Method.GET);
request\.AddHeader("Authorization", "");
request.AddHeader("Accept", "application/json");
IRestResponse response = client.Execute(request);`}</CodeItem>
</CodeGroup>

<CodeGroup label="Java">
<CodeItem language="java" name="AsyncHttp">{`AsyncHttpClient client = new DefaultAsyncHttpClient();
client.prepare("GET", "http://api.sd-rtn.com/dev/v1/kicking-rule")
  .setHeader("Authorization", "")
  .setHeader("Accept", "application/json")
  .execute()
  .toCompletableFuture()
  .thenAccept(System.out::println)`}</CodeItem>

<CodeItem language="java" name="NetHttp">{`HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("http://api.sd-rtn.com/dev/v1/kicking-rule"))
    .header("Authorization", "")
    .header("Accept", "application/json")
    .method("GET", HttpRequest.BodyPublishers.noBody())
    .build();
HttpResponse<String> response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
System.out.println(response.body());`}</CodeItem>

<CodeItem language="java" name="OkHttp">{`OkHttpClient client = new OkHttpClient();
Request request = new Request.Builder()
  .url("http://api.sd-rtn.com/dev/v1/kicking-rule")
  .get()
  .addHeader("Authorization", "")
  .addHeader("Accept", "application/json")
  .build();\n
Response response = client.newCall(request).execute();`}</CodeItem>

<CodeItem language="java" name="Unirest">{`HttpResponse<String> response = Unirest.get("http://api.sd-rtn.com/dev/v1/kicking-rule")
  .header("Authorization", "")
  .header("Accept", "application/json")
  .asString();`}</CodeItem>
</CodeGroup>

<CodeGroup label="PHP">
<CodeItem language="kotlin" name="cURL">{`<?php
$curl = curl_init();\n
curl_setopt_array($curl, [
  CURLOPT_URL => "http://api.sd-rtn.com/dev/v1/kicking-rule",
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_ENCODING => "",
  CURLOPT_MAXREDIRS => 10,
  CURLOPT_TIMEOUT => 30,
  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST => "GET",
  CURLOPT_HTTPHEADER => [
    "Accept: application/json",
    "Authorization: "
  \],
\]);
$response = curl_exec($curl);
$err = curl_error($curl);\n
curl_close($curl);\n
if ($err) {
  echo "cURL Error #:" . $err;
\} else {
  echo $response;
\}`}</CodeItem>
<CodeItem language="php" name="Guzzle">{`<?php
$client = new \GuzzleHttp\Client();\n
$response = $client->request('GET', 'http://api.sd-rtn.com/dev/v1/kicking-rule', [
  'headers' => [
    'Accept' => 'application/json',
    'Authorization' => '',
  \],
\]);\n
echo $response->getBody();`}</CodeItem>
</CodeGroup>

<CodeGroup label="PowerShell">
<CodeItem language="kotlin" name="WebRequest">{`$headers=@{}
$headers.Add("Authorization", "")
$headers.Add("Accept", "application/json")
$response = Invoke-WebRequest -Uri 'http://api.sd-rtn.com/dev/v1/kicking-rule' -Method GET -Headers $headers`}</CodeItem>
<CodeItem language="kotlin" name="RestMethod">{`$headers=@{}
$headers.Add("Authorization", "")
$headers.Add("Accept", "application/json")
$response = Invoke-RestMethod -Uri 'http://api.sd-rtn.com/dev/v1/kicking-rule' -Method GET -Headers $headers`}</CodeItem>
</CodeGroup>

<CodeGroup label="Other">
<CodeItem language="python" name="Go">{`package main\n
import (
  "fmt"
  "net/http"
  "io"
)\n
func main() {
  url := "http://api.sd-rtn.com/dev/v1/kicking-rule"\n
  req, _ := http.NewRequest("GET", url, nil)
  req.Header.Add("Authorization", "")
  req.Header.Add("Accept", "application/json")\n
  res, _ := http.DefaultClient.Do(req)\n
  defer res.Body.Close()
  body, _ := io.ReadAll(res.Body)\n
  fmt.Println(res)
  fmt.Println(string(body))
}`}</CodeItem>

<CodeItem language="c" name="C">{`CURL *hnd = curl_easy_init();\n
curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "GET");
curl_easy_setopt(hnd, CURLOPT_URL, "http://api.sd-rtn.com/dev/v1/kicking-rule");\n
struct curl_slist *headers = NULL;
headers = curl_slist_append(headers, "Authorization: ");
headers = curl_slist_append(headers, "Accept: application/json");
curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);\n
CURLcode ret = curl_easy_perform(hnd);`}</CodeItem>

<CodeItem language="objc" name="Objective-C">{`#import <Foundation/Foundation.h>\n
NSDictionary \*headers = @{ @"Authorization": @"",
                           @"Accept": @"application/json" };\n
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://api.sd-rtn.com/dev/v1/kicking-rule"]
                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy
                                                   timeoutInterval:10.0];
\[request setHTTPMethod:@"GET"];
\[request setAllHTTPHeaderFields:headers];\n
NSURLSession *session = [NSURLSession sharedSession];
NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request
                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {
                                                if (error) {
                                                    NSLog(@"%@", error);
                                                \} else {
                                                    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;
                                                    NSLog(@"%@", httpResponse);
                                                \}
                                            \}];
\[dataTask resume];`}</CodeItem>

<CodeItem language="ocaml" name="OCaml">{`open Cohttp_lwt_unix
open Cohttp
open Lwt\n
let uri = Uri.of_string "http://api.sd-rtn.com/dev/v1/kicking-rule" in
let headers = Header.add_list (Header.init ()) [
  \("Authorization", "");
  \("Accept", "application/json");
\] in\n
Client.call \~headers \`GET uri
\>\>= fun (res, body_stream) -\>
  \(* Do stuff with the result *)`}</CodeItem>

<CodeItem language="http" name="Http 1.1">{`GET /dev/v1/kicking-rule HTTP/1.1
Authorization:
\Accept: application/json
Host: api.sd-rtn.com`}</CodeItem>

<CodeItem language="clojure" name="Clojure">{`(require '[clj-http.client :as client])\n
(client/get "http://api.sd-rtn.com/dev/v1/kicking-rule" {:headers {:Authorization ""}
                                                         :accept :json})`}</CodeItem>

<CodeItem language="kotlin" name="Kotlin">{`val client = OkHttpClient()\n
val request = Request.Builder()
  .url("http://api.sd-rtn.com/dev/v1/kicking-rule")
  .get()
  .addHeader("Authorization", "")
  .addHeader("Accept", "application/json")
  .build()\n
val response = client.newCall(request).execute()`}</CodeItem>

<CodeItem language="r" name="R">{`library(httr)\n
url \<- "http://api.sd-rtn.com/dev/v1/kicking-rule"\n
response <- VERB("GET", url, add_headers('Authorization' = ''), content_type("application/octet-stream"), accept("application/json"))\n
content(response, "text")`}</CodeItem>

<CodeItem language="ruby" name="Ruby">{`require 'uri'
require 'net/http'\n
url = URI("http://api.sd-rtn.com/dev/v1/kicking-rule")
http = Net::HTTP.new(url.host, url.port)\n
request = Net::HTTP::Get.new(url)
request["Authorization"] = ''
request["Accept"] = 'application/json'\n
response = http.request(request)
puts response.read_body`}</CodeItem>

<CodeItem language="swift" name="Swift">{`import Foundation\n
let headers = [
  "Authorization": "",
  "Accept": "application/json"
\]\n
let request = NSMutableURLRequest(url: NSURL(string: "http://api.sd-rtn.com/dev/v1/kicking-rule")! as URL,
                                        cachePolicy: .useProtocolCachePolicy,
                                    timeoutInterval: 10.0)
request.httpMethod = "GET"
request.allHTTPHeaderFields = headers\n
let session = URLSession.shared
let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in
  if (error != nil) {
    print(error as Any)
  \} else {
    let httpResponse = response as? HTTPURLResponse
    print(httpResponse)
  \}
\})\n
dataTask.resume()`}</CodeItem>
</CodeGroup>

</MultiCodeBlock>

### Response parameters

For details about possible response status codes, see [Response status codes](../../response-status-code).

If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure.

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

| Parameter | Type | Description                                               |
| :--------- | :----- | :----------------------------------------------------------- |
| `status`   | String | The status of this request. `success` means the request succeeds. |
| `rules`    | Array | The list of banning rules. This array consists of multiple objects. Each object contains the information on one banning rule and includes the following fields:<ul><li>`id`: Number. The rule ID. If you want to update or delete the rule, you need the rule ID to specify the rule.</li><li>`appid`: String. The App ID of the project.</li><li>`uid`: Number. The user ID.</li><li>`opid`: Number. The operation ID, which can be used to track operation records when troubleshooting.</li><li>`cname`: String. The channel name.</li><li>`ip`: String. The IP address of the user.</li><li>`ts`: String. The UTC time when this rule expires.</li><li>`privileges`: Array. User privileges, including the following values: <ul><li>`join_channel`: String. Bans a user from joining a channel or kicks a user out of a channel.</li><li>`publish_audio`: String. Bans a user from publishing audio.</li><li>`publish_video`: String. Bans a user from publishing video.</li></ul></li></ul> |
| `createAt` | String | The UTC time when this rule is created. |
| `updateAt` | String | The UTC time when this rule is updated. |

### Response example

The following is a response example for a successful request:

```json
{
  "status": "success",
  "rules": [
    {
      "id": 1953,
      "appid": "4855xxxxxxxxxxxxxxxxxxxxxxxxeae2",
      "uid": 589517928,
      "opid": 1406,
      "cname": "11",
      "ip": "192.168.0.1",
      "ts": "2018-01-09T07:23:06.000Z",
      "privileges": [
        "join_channel"
      ],
      "createAt": "2018-01-09T06:23:06.000Z",
      "updateAt": "2018-01-09T14:23:06.000Z"
    }
  ]
}
```
import Authorization from '@docs/shared/media-gateway/reference/rest-api/authorization.mdx';
import CodeBlock from '@theme/CodeBlock';

This method queries a streaming key information, such as the associated UID, channel name, validity period, and so on.

### Prototype

- Method: `GET`
- Endpoint: `https://api.agora.io/:region/v1/projects/:appId/rtls/ingress/streamkeys/:streamkey`

### Request parameters

**Authentication**

<Authorization/>

**Path parameters**

| Parameter   | Data type | Required/Optional | Description             |
| :---------- | :-------  |:----------------- | :---------------------- |
| `appId`     | String    | Required          | The app ID provided by <Vg k="COMPANY"/> to each developer. After creating a project in <Vg k="CONSOLE"/>, you can get an app ID. The app ID is a unique identifier for a project. |
| `region`    | String    | Required          | Create an area for pushing the streaming key. <Vg k="COMPANY"/> supports creation of stream keys by region. Currently, the following regions are supported: <ul><li>`na`: North America</li><li>`eu`: Europe</li><li>`ap`: Asia, except mainland China</li><li>`cn`: Mainland China</li></ul><Admonition type="caution" title="Important">Make sure that: <ul><li>The `region` value is the same as for the input source stream.</li><li>The domain names for setting the `region` parameter and streaming are the same. </li><li>The `region` value is in the lowercase.</li></ul></Admonition>|
| `streamkey`  | String    | Required          | The streaming key for which you need information.|

**Headers**

| Header         | Data type | Description             |
| :------------- | :-------  |:----------------------- |
| `X-Request-ID` | String    | The UUID (Universally Unique Identifier) of the request. After passing in this field, the <Vg k="COMPANY"/> server will return this field in the response header. It is recommended to assign `X-Request-ID` a value. If no value is assigned, the <Vg k="COMPANY"/> server will automatically generate a UUID and pass it in. |

### Request examples

Use one of the following code examples:

<details>
<summary>Shell</summary>

  - <details>
    <summary>curl</summary>
    <CodeBlock language="shell" showLineNumbers>
    curl --request GET \
      --url https://api.sd-rtn.com/region/v1/projects/appId/rtls/ingress/streamkeys/streamkey \
      --header 'Accept: application/json' \
      --header 'Authorization: Basic 123' \
      --header 'X-Request-ID: '

    </CodeBlock>
    </details>

  - <details>
    <summary>HTTPie</summary>

    <CodeBlock language="shell" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>wget</summary>

    <CodeBlock language="shell" showLineNumbers>

    </CodeBlock>
    </details>
</details>


<details>
<summary>Javascript</summary>

  - <details>
    <summary>Fetch</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>XMLHTTPRequest</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>jQuery</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Axios</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>
</details>

<details>
<summary>Node</summary>

  - <details>
    <summary>Native</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Request</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Unirest</summary>

    <CodeBlock language="js" showLineNumbers>

      </CodeBlock>
    </details>

  - <details>
    <summary>Fetch</summary>
    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Axios</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>
</details>

<details>
<summary>Python</summary>

  - <details>
    <summary>Python 3</summary>

    <CodeBlock language="python" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Requests</summary>

    <CodeBlock language="python" showLineNumbers>

    </CodeBlock>
    </details>
</details>

<details>
<summary>Go</summary>

  <CodeBlock language="go" showLineNumbers>

    </CodeBlock>
    </details>

<details>
<summary>C</summary>
<CodeBlock language="c" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>Objective-C</summary>

<CodeBlock language="objc" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>OCaml</summary>

<CodeBlock language="ocaml" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>C#</summary>
  - <details>
    <summary>HTTPClient</summary>

    <CodeBlock language="csharp" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>RestSharp</summary>

    <CodeBlock language="csharp" showLineNumbers>

    </CodeBlock>
    </details>
</details>


<details>
<summary>Java</summary>
  - <details>
    <summary>AsyncHttp</summary>

    <CodeBlock language="java" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>NetHttp</summary>

    <CodeBlock language="java" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>OkHttp</summary>

    <CodeBlock language="java" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Unirest</summary>

    <CodeBlock language="java" showLineNumbers>

    </CodeBlock>
    </details>
</details>

<details>
<summary>Http 1.1</summary>

<CodeBlock language="json" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>Clojure</summary>

<CodeBlock language="json" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>Kotlin</summary>

<CodeBlock language="java" showLineNumbers>

</CodeBlock>
</details>


<details>
<summary>PHP</summary>
  - <details>
    <summary>cURL</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>

  - <details>
    <summary>Guzzle</summary>

    <CodeBlock language="js" showLineNumbers>

    </CodeBlock>
    </details>
</details>

<details>
<summary>PowerShell</summary>
  - <details>
    <summary>WebRequest</summary>

    <CodeBlock language="shell" showLineNumbers>

    </CodeBlock>
    </details>

 -  <details>
    <summary>RestMethod</summary>

    <CodeBlock language="shell" showLineNumbers>

    </CodeBlock>
    </details>
</details>

<details>
<summary>R</summary>

<CodeBlock language="r" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>Ruby</summary>
<CodeBlock language="ruby" showLineNumbers>

</CodeBlock>
</details>

<details>
<summary>Swift</summary>
<CodeBlock language="swift" showLineNumbers>

</CodeBlock>
</details>


### Response parameters

**Headers**

| Header         | Data type | Description             |
| :------------- | :-------  |:----------------------- |
| `X-Request-ID` | String    | The UUID (Universally Unique Identifier) of the request. The value is in its `X-Request-ID` header. If a request error occurs, print the value in the log to troubleshoot the problem. A `401 (Unauthorized)` response status code means that there is no such field in the response header.|

**Response body**

For details about possible response status codes, see [Response status codes](../../response-status-codes).

If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure.

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

| Parameter        | Type   | Description                                                        |
| :--------------- | :----- | :----------------------------------------------------------------- |
| `status`         | String | The status of this request. `success` means the request succeeds.  |
| `data`           | Object | Includes the following fields: <ul><li>`streamKey`: String, the queried streaming key.</li><li>`channel`: String. The name of the <Vg k="COMPANY"/> channel associated with the streaming key.</li><li>`uid`: String, the user UID in the <Vg k="COMPANY"/> channel associated with the streaming key.</li> <li>`expiresAfter`: Integer, the validity period of the streaming key from the time of creation, in seconds.</li> <li>`createdAt`: String, the Unix timestamp for when the streaming key was created, in seconds.</li></ul> |

### Response example

The following is a response example for a successful request:

```json
{
  "status" : "success" ,
  "data" : {
    "streamKey" : "2dfMTR****fys" ,
    "channel" : "shx001" ,
    "uid" : "1001" ,
    "expiresAfter" : 0 ,
    "createdAt" : "1686820170"
  }
}
```
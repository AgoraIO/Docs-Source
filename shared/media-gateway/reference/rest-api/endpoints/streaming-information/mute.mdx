import Authorization from '@docs/shared/media-gateway/reference/rest-api/authorization.mdx';
import CodeBlock from '@theme/CodeBlock';
import RestAPILayout from '@site/src/components/rest-api/RestAPILayout'; 
import LeftColumn from '@site/src/components/rest-api/LeftColumn'; 
import RightColumn, { Section } from '@site/src/components/rest-api/RightColumn'; 
import ParameterList, { Parameter } from '@site/src/components/rest-api/ParameterList'; 
import PathParameter from '@site/src/components/rest-api/PathParameter'; 
import { Tabs, TabItem } from '@site/src/components/rest-api/Tabs';

<RestAPILayout>

  <LeftColumn
    title={frontMatter.title}
    method="POST"
    endpoint="https://api.sd-rtn.com/:region/:version/projects/:appId/rtls/ingress/online-streams/mute/:sid"
  >


Use this method to mute or unmute the current streaming.

### Request

**Path parameters**

<PathParameter name="appId" type="string" required={true}>
  The app ID provided by <Vg k="COMPANY"/> to each developer. After creating a project in <Vg k="CONSOLE"/>, you can get an app ID. The app ID is a unique identifier for a project.
</PathParameter>
<PathParameter name="region" type="string" required={true}>
  Create an area for pushing the streaming key. <Vg k="COMPANY"/> supports creation of stream keys by region. Currently, the following regions are supported: 
  <ul>
    <li><code>na</code>: North America</li>
    <li><code>eu</code>: Europe</li>
    <li><code>ap</code>: Asia, except mainland China</li>
    <li><code>cn</code>: Mainland China</li>
  </ul>
  <Admonition type="caution" title="Important">
    Make sure that: 
    <ul>
      <li>The <code>region</code> value is the same as for the input source stream.</li>
      <li>The domain names for setting the <code>region</code> parameter and streaming are the same.</li>
      <li>The <code>region</code> value is in lowercase.</li>
    </ul>
  </Admonition>
<PathParameter name="version" type="string" required={true}>
The API version. Use `v1`.
</PathParameter>
<PathParameter name="sid" type="string" required={true}>
The streaming session ID is the unique identifier for each initiated streaming task. It can be obtained by [querying the streaming list](query-streaming-list) or receiving the payload of the [message notification callback](/media-gateway/develop/receive-notifications).
</PathParameter>
</PathParameter>

**Headers**

<ParameterList title="HEADER" required={true}>
  <Parameter name="X-Request-ID" type="string" required={true}>
  The UUID (Universally Unique Identifier) of the request. The value is in its `X-Request-ID` header. If a request error occurs, print the value in the log to troubleshoot the problem. A `401 (Unauthorized)` response status code means that there is no such field in the response header.  
  </Parameter>
  <Parameter name="Authorization" type="string" required={true}>
  <Authorization/>
  </Parameter>
</ParameterList>

**Request body**

The request body consists of a JSON Object type `settings` and includes the following fields:
<ParameterList>
  <Parameter name="videoMuted" type="boolean" required={true}>
    Whether to mute the video stream:
    <ul>
      <li><code>true</code>: Mute pushing the video stream.</li>
      <li><code>false</code>: Unmute pushing the video stream.</li>
    </ul>
  </Parameter>
  
  <Parameter name="audioMuted" type="boolean" required={true}>
    Whether to mute the audio stream:
    <ul>
      <li><code>true</code>: Mute pushing the audio stream.</li>
      <li><code>false</code>: Unmute pushing the audio stream.</li>
    </ul>
  </Parameter>
</ParameterList>

### Response

**Headers**

<ParameterList title="HEADER" required={true}>
  <Parameter name="X-Request-ID" type="string" required={true}>
  The UUID (Universally Unique Identifier) of the request. The value is in its `X-Request-ID` header. If a request error occurs, print the value in the log to troubleshoot the problem. A `401 (Unauthorized)` response status code means that there is no such field in the response header.  
  </Parameter>
</ParameterList>

**Response body**

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

<ParameterList name="BODY" required={true}>
<Parameter name="status" type="string">
  The status of this request. <code>success</code> means the request succeeds.
</Parameter>
</ParameterList>
If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure. For details about possible response status codes, see [Response status codes](../../response-status-codes).

<Admonition type="info">
- The successful execution of this request only confirms that the command is sent to the gateway node handling the stream; it does not guarantee that the mute/unmute operation was successful. The operation is executed asynchronously in the background.

- Typically, the mute/unmute action takes effect within approximately one second. If the operation does not work as expected, retry the API call.

- By default, each stream starts unmuted (audio and video are published normally). Each API call applies to the current stream. If the streamer disconnects and restarts the stream, the new stream resets to the initial unmuted state.
</Admonition>

<Admonition type="info" title="Info">
To explore the RESTful API parameters, obtain sample code in various client languages, or test <Vpd k="NAME" /> requests, refer to the [Postman API reference](https://documenter.getpostman.com/view/6319646/SVSLr9AM#0e9f38c1-8942-499d-9394-1e87466b326a).
</Admonition>

</LeftColumn>
<RightColumn>
<Section title="Authorization">
The endpoint requires [RESTful Authentication](/media-gateway/reference/restful-authentication#implement-basic-http-authentication).
</Section>
<Section title="Request example">
  <Tabs groupId="code-examples">
    <TabItem value="cURL" label="cURL" default>
    ```shell
    curl --request post \
      --url https://api.sd-rtn.com/:region/:version/projects/:appId/rtls/ingress/online-streams/mute/:sid \
      --header 'Authorization: Basic <credentials>' \
      --header 'X-Request-ID: <string>' \
      --data '
    {
      "settings": {
        "videoMuted": true,
        "audioMuted": false
      }
    }'
    ```
    </TabItem>
    <TabItem value="node" label="Node" default>
    ```js
    fetch("https://api.sd-rtn.com/your-region/your-version/projects/your-appId/rtls/ingress/online-streams/mute/your-sid", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "Authorization": "Basic <credentials>",
            "X-Request-ID": "<string>"
        },
        body: JSON.stringify({
            settings: {
                videoMuted: true,
                audioMuted: false
            }
        })
    })
    .then(res => res.json())
    .then(console.log)
    .catch(console.error);
    ```
    </TabItem>
    <TabItem value="python" label="Python" default>
    ```python
    url = "https://api.sd-rtn.com/your-region/your-version/projects/your-appId/rtls/ingress/online-streams/mute/your-sid"
    headers = {
        "Content-Type": "application/json",
        "Authorization": "Basic <credentials>",
        "X-Request-ID": "<string>"
    }
    data = {
        "settings": {
            "videoMuted": True,
            "audioMuted": False
        }
    }

    res = requests.post(url, headers=headers, json=data)
    ```
    </TabItem>
  </Tabs>

</Section>
<Section title="Response example">
```json
{
  "status": "success"
}
```
</Section>
</RightColumn>
</RestAPILayout>

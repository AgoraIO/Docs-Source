
## Project setup

To integrate <Vpd k="PRODUCT" /> into your <Vpl k="CLIENT" />, do the following:

1.  [Create a new project](https://help.apple.com/xcode/mac/current/#/dev07db0e578) for this <Vpl k="NAME" /> <Vpl k="CLIENT" /> using the **App** template. Select the **Storyboard** Interface and **Swift** Language.

    If you have not already added team information, click **Add accountâ€¦**, input your Apple ID, then click **Next**.

1.  [Enable automatic signing](https://help.apple.com/xcode/mac/current/#/dev23aab79b4) for your project.
    <PlatformWrapper platform="ios">
    [Set the target devices](https://help.apple.com/xcode/mac/current/#/deve69552ee5) to deploy your iOS <Vpl k="CLIENT" /> to an iPhone or iPad.
    </PlatformWrapper>
1.  Add project permissions for microphone and camera usage:

    1. Open **Info** in the project navigation panel, then add the following properties to the [Information Property List](https://help.apple.com/xcode/mac/current/#/dev3f399a2a6):

        | Key                          | Type   | Value                  |
        |------------------------------|--------|------------------------|
        | NSMicrophoneUsageDescription | String | Access the microphone. |
        | NSCameraUsageDescription     | String | Access the camera.     |

    <PlatformWrapper platform="macos">
    2. Add sandbox and runtime capabilities to your project:

        Open the target for your project in the project navigation properties, then add the following capabilities in **Signing & Capabilities**.
        - **App Sandbox**:
            - Incoming Connections (Server)
            - Outgoing Connections (Client)
            - Camera
            - Audio Input
        - **Hardened Runtime**:
            - Camera
            - Audio Input
    </PlatformWrapper>

1.  Integrate <Vpd k="SDK" /> into your project:

    These steps are for package install, if you prefer to use **CocoaPods** or manually install, follow the [installation instructions](../reference/downloads).

    1.  In Xcode, click **File** &gt; **Add Packages**, then paste the following link in the search:
        <PlatformWrapper platform="macos">
        ```
        https://github.com/AgoraIO/AgoraRTM_macOS.git
        ```
        You see the available <Vpd k="SDK" /> packages. Add a **<Vpd k="IOS_PACKAGE_NAME"/>** package version equal to or later than 1.5.1 into your app.
        </PlatformWrapper>
        <PlatformWrapper platform="ios">
        ```
        https://github.com/AgoraIO/AgoraRTM_iOS.git
        ```
        You see the available <Vpd k="SDK" /> packages. Add a **<Vpd k="MACOS_PACKAGE_NAME"/>** package version equal to or later than 1.5.1 into your app.
        </PlatformWrapper>

    1.  Click **Add Package**. In the new window, click **Add Package**.

        You see **AgoraRtmKit** in **Package Dependencies** for your project.

You are ready to add <Vpd k="PRODUCT" /> features to your <Vpl k="CLIENT" />.

## Implement <Vpd k="PRODUCT" />

This section shows how to use the <Vpd k="SDK" /> to implement <Vpd k="PRODUCT" /> into your <Vpl k="CLIENT" />, step-by-step.

### 1. Create the user interface

To implement this UI, in `ViewController`, replace the contents of the file with the following:

<PlatformWrapper platform="ios">
```swift
import UIKit

class ViewController: UIViewController {
    var loginButton: UIButton!
    var logoutButton: UIButton!
    var joinButton: UIButton!
    var leaveButton: UIButton!
    var userIDTextField: UITextField!
    var channelIDTextField: UITextField!
    var groupMsgButton: UIButton!
    var groupMsgTextField: UITextField!
    var peerMsgTextField: UITextField!
    var peerIDTextField: UITextField!
    var peerMsgButton: UIButton!
    var msgTextView: UITextView!

    var text: String = ""
    var textArray = [String]()

    override func viewDidLoad() {
        super.viewDidLoad()
        initViews()
    }

    func initViews() {
        //  Button to login to a channel
        loginButton = UIButton(type: .system)
        loginButton.frame = CGRect(x: 254, y: 103, width: 38, height: 30)
        loginButton.setTitle("Login", for: .normal)
        loginButton.addTarget(self, action: #selector(login), for: .touchUpInside)
        self.view.addSubview(loginButton)

        logoutButton = UIButton(type: .system)
        logoutButton.frame = CGRect(x: 326, y: 103, width: 48, height: 30)
        logoutButton.setTitle("Logout", for: .normal)
        logoutButton.addTarget(self, action: #selector(logout), for: .touchUpInside)
        self.view.addSubview(logoutButton)

        joinButton = UIButton(type: .system)
        joinButton.frame = CGRect(x: 258, y: 172, width: 30, height: 30)
        joinButton.setTitle("Join", for: .normal)
        joinButton.addTarget(self, action: #selector(joinChannel), for: .touchUpInside)
        self.view.addSubview(joinButton)

        leaveButton = UIButton(type: .system)
        leaveButton.frame = CGRect(x: 330, y: 172, width: 40, height: 30)
        leaveButton.setTitle("Leave", for: .normal)
        leaveButton.addTarget(self, action: #selector(leaveChannel), for: .touchUpInside)
        self.view.addSubview(leaveButton)

        userIDTextField = UITextField(frame: CGRect(x: 40, y: 99, width: 187, height: 34))
        userIDTextField.placeholder = "User ID"
        self.view.addSubview(userIDTextField)

        channelIDTextField = UITextField(frame: CGRect(x: 40, y: 168, width: 187, height: 34))
        channelIDTextField.placeholder = "Channel ID"
        self.view.addSubview(channelIDTextField)

        groupMsgButton = UIButton(type: .system)
        groupMsgButton.frame = CGRect(x: 308, y: 247, width: 80, height: 30)
        groupMsgButton.setTitle("Group MSG", for: .normal)
        groupMsgButton.addTarget(self, action: #selector(sendGroupMsg), for: .touchUpInside)
        self.view.addSubview(groupMsgButton)

        groupMsgTextField = UITextField(frame: CGRect(x: 40, y: 245, width: 252, height: 34))
        groupMsgTextField.placeholder = "Group message content"
        self.view.addSubview(groupMsgTextField)

        peerMsgTextField = UITextField(frame: CGRect(x: 40, y: 321, width: 170, height: 34))
        peerMsgTextField.placeholder = "Peer message content"
        self.view.addSubview(peerMsgTextField)

        peerMsgButton = UIButton(type: .system)
        peerMsgButton.frame = CGRect(x: 314, y: 321, width: 69, height: 30)
        peerMsgButton.setTitle("Peer MSG", for: .normal)
        peerMsgButton.addTarget(self, action: #selector(sendPeerMsg), for: .touchUpInside)
        self.view.addSubview(peerMsgButton)

        peerIDTextField = UITextField(frame: CGRect(x: 218, y: 321, width: 75, height: 34))
        peerIDTextField.placeholder = "Peer ID"
        self.view.addSubview(peerIDTextField)

        msgTextView = UITextView(frame: CGRect(x: 40, y: 416, width: 330, height: 428))
        msgTextView.textColor = UIColor.blue
        self.view.addSubview(msgTextView)
    }

    // Button to log in to Signaling
    @objc func login(sender: UIButton!) async {
        self.uid = self.userIDTextField.text!

        // Log in to Signaling
        let errorCode = await kit?.login(byToken: self.token, user: self.uid)
        if errorCode == .ok {
            self.text = "Login successful for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Login failed for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to log out of Signaling
    @objc func logout(sender: UIButton!) async {
        // Log out of Signaling
        let errorCode = await kit?.logout()
        if errorCode == .ok {
            self.text = "Logout successful for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Logout failed for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to join the Signaling channel
    @objc func joinChannel(sender: UIButton!) async {
        guard let id = self.channelIDTextField.text else {
            showMessage(title: "Error", text: "Input channel ID")
            return
        }

        self.channelID = id
        // Create a Signaling channel
        channel = kit.createChannel(withId: self.channelID, delegate: self)
        // Join a Signaling channel
        let errorCode = await channel?.join()
        if errorCode == .channelErrorOk {
            self.text = "Successfully joined channel \(channelID). Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Failed to join channel \(channelID). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to leave the Signaling channel
    @objc func leaveChannel(sender: UIButton!) async {
        let errorCode = await channel?.leave()
        if errorCode == .ok {
            self.text = "Leave channel \(channelID) successful. Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Failed to leave channel \(channelID). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to send group message
    @objc func sendGroupMsg(sender: UIButton!) async {
        guard let msg = self.groupMsgTextField.text else {
            showMessage(title: "Error", text: "Input group message")
            return
        }

        self.channelMsg = msg

        let rtmMsg = AgoraRtmMessage(text: msg)
        let errorCode = await channel.send(rtmMsg, sendMessageOptions: self.options)
        if errorCode == .errorOk {
            self.text = "Message sent to channel \(channelID): \(channelMsg)"
        } else {
            self.text = "Message failed to send to channel \(channelID): \(channelMsg) Code: \(String(describing: errorCode.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to send peer message
    @objc func sendPeerMsg(sender: UIButton!) async {
        guard let peerMsg = self.peerMsgTextField.text,
              let peerId = self.peerIDTextField.text
        else {
            showMessage(title: "Error", text: "Check for empty input fields")
            return
        }

        let rtmMsg = AgoraRtmMessage(text: peerMsg)
        let errorCode = await kit.send(rtmMsg, toPeer: peerId)
        if errorCode == .ok {
            self.text = "Message sent from user: \(self.uid) to user: \(peerId) content: \(peerMsg)"
        } else {
            self.text = "Message failed to send from user: \(self.uid) to user: \(peerId) content: \(peerMsg) Code: \(String(describing: errorCode.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Add message to the UI TextView
    func addMsgToRecord(_ msg: Any...) {
        DispatchQueue.main.async {
            self.msgTextView.text.append(
                "\(String(reflecting: msg)) \r\n"
            )
            self.msgTextView.scrollRangeToVisible(NSRange(location: self.msgTextView.text.count, length: 1))
        }
    }
}
```
</PlatformWrapper>
<PlatformWrapper platform="macos">
```swift
import Cocoa
import AppKit
import Foundation

class ViewController: NSViewController {
    var loginButton: NSButton!
    var logoutButton: NSButton!
    var joinButton: NSButton!
    var leaveButton: NSButton!
    var userIDTextField: NSTextField!
    var channelIDTextField: NSTextField!
    var groupMsgButton: NSButton!
    var groupMsgTextField: NSTextField!
    var peerMsgTextField: NSTextField!
    var peerIDTextField: NSTextField!
    var peerMsgButton: NSButton!
    var msgTextView: NSTextView!

    var text: String = ""
    var textArray = [String]()

    override func viewDidLoad() {
        super.viewDidLoad()
        initViews()
    }

    func initViews() {
        //  Button to login to a channel
        loginButton = NSButton()
        loginButton.frame = CGRect(x: 254, y: 103, width: 38, height: 30)
        loginButton.title = "Login"
        loginButton.target = self
        loginButton.action = #selector(login)
        self.view.addSubview(loginButton)

        logoutButton = NSButton()
        logoutButton.frame = CGRect(x: 326, y: 103, width: 48, height: 30)
        logoutButton.title = "Logout"
        logoutButton.target = self
        logoutButton.action = #selector(logout)
        self.view.addSubview(logoutButton)

        joinButton = NSButton()
        joinButton.frame = CGRect(x: 258, y: 172, width: 30, height: 30)
        joinButton.title = "Join"
        joinButton.target = self
        joinButton.action = #selector(joinChannel)
        self.view.addSubview(joinButton)

        leaveButton = NSButton()
        leaveButton.frame = CGRect(x: 330, y: 172, width: 40, height: 30)
        leaveButton.title = "Leave"
        leaveButton.target = self
        leaveButton.action = #selector(leaveChannel)
        self.view.addSubview(leaveButton)

        userIDTextField = NSTextField(frame: CGRect(x: 40, y: 99, width: 187, height: 34))
        userIDTextField.placeholderString = "User ID"
        self.view.addSubview(userIDTextField)

        channelIDTextField = NSTextField(frame: CGRect(x: 40, y: 168, width: 187, height: 34))
        channelIDTextField.placeholderString = "Channel ID"
        self.view.addSubview(channelIDTextField)

        groupMsgButton = NSButton()
        groupMsgButton.frame = CGRect(x: 308, y: 247, width: 80, height: 30)
        groupMsgButton.title = "Group MSG"
        groupMsgButton.target = self
        groupMsgButton.action = #selector(sendGroupMsg)
        self.view.addSubview(groupMsgButton)

        groupMsgTextField = NSTextField(frame: CGRect(x: 40, y: 245, width: 252, height: 34))
        groupMsgTextField.placeholderString = "Group message content"
        self.view.addSubview(groupMsgTextField)

        peerMsgTextField = NSTextField(frame: CGRect(x: 40, y: 321, width: 170, height: 34))
        peerMsgTextField.placeholderString = "Peer message content"
        self.view.addSubview(peerMsgTextField)

        peerMsgButton = NSButton()
        peerMsgButton.frame = CGRect(x: 314, y: 321, width: 69, height: 30)
        peerMsgButton.title = "Peer MSG"
        peerMsgButton.target = self
        peerMsgButton.action = #selector(sendPeerMsg)
        self.view.addSubview(peerMsgButton)

        peerIDTextField = NSTextField(frame: CGRect(x: 218, y: 321, width: 75, height: 34))
        peerIDTextField.placeholderString = "Peer ID"
        self.view.addSubview(peerIDTextField)

        msgTextView = NSTextView(frame: CGRect(x: 40, y: 416, width: 330, height: 428))
        msgTextView.textColor = NSColor.blue
        self.view.addSubview(msgTextView)
    }

    // Button to log in to Signaling
    @objc func login(sender: NSButton!) async {
        self.uid = self.userIDTextField.stringValue

        // Log in to Signaling
        let errorCode = await kit?.login(byToken: self.token, user: self.uid)
        if errorCode == .ok {
            self.text = "Login successful for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Login failed for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to log out of Signaling
    @objc func logout(sender: NSButton!) async {
        // Log out of Signaling
        let errorCode = await kit?.logout()
        if errorCode == .ok {
            self.text = "Logout successful for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Logout failed for user \(uid). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to join the Signaling channel
    @objc func joinChannel(sender: NSButton!) async {
        guard let id = self.channelIDTextField?.stringValue else {
            showMessage(title: "Error", text: "Input channel ID")
            return
        }

        self.channelID = id
        // Create a Signaling channel
        channel = kit.createChannel(withId: self.channelID, delegate: self)
        // Join a Signaling channel
        let errorCode = await channel?.join()
        if errorCode == .channelErrorOk {
            self.text = "Successfully joined channel \(channelID). Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Failed to join channel \(channelID). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to leave the Signaling channel
    @objc func leaveChannel(sender: NSButton!) async {
        let errorCode = await channel?.leave()
        if errorCode == .ok {
            self.text = "Leave channel \(channelID) successful. Code: \(String(describing: errorCode?.rawValue))"
        } else {
            self.text = "Failed to leave channel \(channelID). Code: \(String(describing: errorCode?.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to send group message
    @objc func sendGroupMsg(sender: NSButton!) async {
        guard let msg = self.groupMsgTextField?.stringValue else {
            showMessage(title: "Error", text: "Input group message")
            return
        }

        self.channelMsg = msg

        let rtmMsg = AgoraRtmMessage(text: msg)
        let errorCode = await channel.send(rtmMsg, sendMessageOptions: self.options)
        if errorCode == .errorOk {
            self.text = "Message sent to channel \(channelID): \(channelMsg)"
        } else {
            self.text = "Message failed to send to channel \(channelID): \(channelMsg) Code: \(String(describing: errorCode.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Button to send peer message
    @objc func sendPeerMsg(sender: NSButton!) async {
        guard let peerMsg = self.peerMsgTextField?.stringValue,
              let peerId = self.peerIDTextField?.stringValue
        else {
            showMessage(title: "Error", text: "Check for empty input fields")
            return
        }

        let rtmMsg = AgoraRtmMessage(text: peerMsg)
        let errorCode = await kit.send(rtmMsg, toPeer: peerId)
        if errorCode == .ok {
            self.text = "Message sent from user: \(self.uid) to user: \(peerId) content: \(peerMsg)"
        } else {
            self.text = "Message failed to send from user: \(self.uid) to user: \(peerId) content: \(peerMsg) Code: \(String(describing: errorCode.rawValue))"
        }
        addMsgToRecord(self.text)
    }

    // Add message to the UI TextView
    func addMsgToRecord(_ msg: Any...) {
        DispatchQueue.main.async {
            self.msgTextView.string.append(
                "\(String(reflecting: msg)) \r\n"
            )
            self.msgTextView.scrollRangeToVisible(NSRange(location: self.msgTextView.string.count, length: 1))
        }
    }
}
```
</PlatformWrapper>

### 2. Handle the system logic

When your <Vpl k="CLIENT" /> launches, ensure that the <Vpd k="SDK" /> is loaded to your <Vpl k="CLIENT" /> and status updates can be shown to the user.

1.  **Import <Vpd k="SDK" />**

    In `ViewController`, add the following line after the last `import` statement:

    ``` swift
    import AgoraRtmKit
    ```

    If Xcode does not recognize this import, click **File** &gt; **Packages** &gt; **Reset Package Caches**.

2.  **Show status updates to your users**

    In `ViewController`, add the following method to the `ViewController` class:

<PlatformWrapper platform="ios">
    ```swift
    func showMessage(title: String, text: String, delay: Int = 2) -> Void {
        let deadlineTime = DispatchTime.now() + .seconds(delay)
        DispatchQueue.main.asyncAfter(deadline: deadlineTime, execute: {
            let alert = UIAlertController(title: title, message: text, preferredStyle: .alert)
            self.present(alert, animated: true)
            alert.dismiss(animated: true, completion: nil)
        })
    }
    ```
</PlatformWrapper>
<PlatformWrapper platform="macos">
    ```swift
    func showMessage(title: String, text: String, delay: Int = 2) -> Void {
        let alert: NSAlert = NSAlert()
        alert.messageText = title
        alert.informativeText = text
        alert.alertStyle = .informational
        alert.runModal()
    }
    ```
</PlatformWrapper>

### 3. Implement the logic of sending and receiving messages

To help you quickly understand and implement functions of Agora <Vg k="SIG" />, this section shows how to implement the following functions in a single view with minimum effort:

-   Log in to and log out of Agora <Vg k="SIG" />

-   Join and leave a channel

-   Send and receive peer-to-peer or channel messages

-   See the changes in connection state of the user

To implement this functionality, take the following steps:

1.  **Declare the variables that you use to integrate <Vpd k="SDK" /> into your <Vpl k="CLIENT" />**

    Add the following lines to the top of the `ViewController` class:

    ```swift
    var kit: AgoraRtmKit!
    var channel: AgoraRtmChannel!
    var options: AgoraRtmSendMessageOptions!

    var appID: String = "<Your app ID>"
    var token: String = "<Your token>"

    var uid: String = ""
    var peerID: String = ""
    var channelID: String = ""
    var peerMsg: String = ""
    var channelMsg: String = ""
    ```

2.  **Initialize the  <Vpd k="SDK" />**

    To implement <Vg k="COMPANY" /> <Vpd k="PRODUCT" />, you create a <Vpd k="SDK" /> instance. In `ViewController`, add the following in the `viewDidLoad()` function before `initViews()`:

    ```swift
    // Create an AgoraRtmKit instance
    kit = AgoraRtmKit.init(appId: self.appID, delegate: self)
    // Create an empty AgoraRtmSendMessageOptions instance
    options = AgoraRtmSendMessageOptions()
    ```

3. **Enable your <Vpl k="CLIENT" /> to display status related to the joined channel**

    In `ViewController`, add the following lines after the `ViewController` class:

    ```swift
    extension ViewController: AgoraRtmChannelDelegate {
        func channel(_ channel: AgoraRtmChannel, memberLeft: AgoraRtmMember) {
            self.text = "\(memberLeft.userId) left channel \(memberLeft.channelId)"
            addMsgToRecord(self.text)
        }

        func channel(_ channel: AgoraRtmChannel, memberJoined: AgoraRtmMember) {
            self.text = "\(memberJoined.userId) joined channel \(memberJoined.channelId)"
            addMsgToRecord(self.text)
        }

        // Display received group message
        func channel(_ channel: AgoraRtmChannel, messageReceived message: AgoraRtmMessage, from member: AgoraRtmMember) {
            self.text = "Message received in channel: \(member.channelId) from user: \(member.userId) content: \(message.text)"
            addMsgToRecord(self.text)
        }
    }
    ```

4.  **Enable your <Vpl k="CLIENT" /> to display connection related changes**

    In `ViewController`, add the following lines after the `ViewController` class:

    ```swift
    extension ViewController: AgoraRtmDelegate {
        // Display received peer message
        func rtmKit(_ kit: AgoraRtmKit, messageReceived message: AgoraRtmMessage, fromPeer peerId: String) {
            self.text = "Message received from user: \(peerId) content: \(message.text)"
            addMsgToRecord(self.text)
        }

        // Display connection status of the current user
        func rtmKit(_ kit: AgoraRtmKit, connectionStateChanged state: AgoraRtmConnectionState, reason: AgoraRtmConnectionChangeReason) {
            self.text = "Connection status changed to: \(state) Reason: \(reason)"
            addMsgToRecord(self.text)
        }
    }
    ```

## Test your implementation

Compile and run the project on a simulator or a physical mobile device. You can see the following interface if your project runs successfully:

![1623236724183](https://web-cdn.agora.io/docs-files/1623236724183)

## Considerations

<PlatformWrapper platform="ios">
-   The Agora <Vg k="MESS_SDK" /> supports creating multiple <Link to="{{Global.SIG_SDK_API_IOS}}/Classes/AgoraRtmKit.html">AgoraRtmKit</Link> instances that are independent of each other.

-   To send and receive peer-to-peer or channel messages, ensure that you have successfully logged in the Agora <Vg k="SIG" /> (you have received `AgoraRtmLoginErrorOk`).

-   To use any of the channel features, you must first call the <Link to="{{Global.SIG_SDK_API_IOS}}/Classes/AgoraRtmKit.html#//api/name/createChannelWithId:delegate:">createChannelWithId</Link> method to create a channel instance.

-   You can create multiple channel instances for each <Link to="{{Global.SIG_SDK_API_IOS}}/Classes/AgoraRtmKit.html">AgoraRtmKit</Link> instance, but you can only join a maximum of 20 channels at the same time. The `channelId` parameter needs to be channel-specific.

-   When you leave a channel and do not want to join it again, you can call the <Link to="{{Global.SIG_SDK_API_IOS}}/Classes/AgoraRtmKit.html">destroyChannelWithId</Link> method to release all resources used by the channel instance.

-   You cannot reuse a received <Link to="{{Global.SIG_SDK_API_IOS}}/Classes/AgoraRtmMessage.html">AgoraRtmMessage</Link> instance.
</PlatformWrapper>
<PlatformWrapper platform="macos">
-   The Agora <Vg k="MESS_SDK" /> supports creating multiple <Link to="{{Global.SIG_SDK_API_MACOS}}/Classes/AgoraRtmKit.html">AgoraRtmKit</Link>/) instances that are independent of each other.

-   To send and receive peer-to-peer or channel messages, ensure that you have successfully logged in the Agora <Vg k="SIG" /> (you have received `AgoraRtmLoginErrorOk`).

-   To use any of the channel features, you must first call the <Link to="{{Global.SIG_SDK_API_MACOS}}//Classes/AgoraRtmKit.html#//api/name/createChannelWithId:delegate:">createChannelWithId</Link> method to create a channel instance.

-   You can create multiple channel instances for each <Link to="{{Global.SIG_SDK_API_MACOS}}/Classes/AgoraRtmKit.html">AgoraRtmKit</Link>) instance, but you can only join a maximum of 20 channels at the same time. The `channelId` parameter needs to be channel-specific.

-   When you leave a channel and do not want to join it again, you can call the <Link to="{{Global.SIG_SDK_API_MACOS}}/Classes/AgoraRtmKit.html#//api/name/destroyChannelWithId:">destroyChannelWithId</Link> method to release all resources used by the channel instance.

-   You cannot reuse a received <Link to="{{Global.SIG_SDK_API_MACOS}}/Classes/AgoraRtmMessage.html">AgoraRtmMessage</Link> instance.
</PlatformWrapper>

## See also

### Sample project

Agora also provides an open-source [sample project](https://github.com/AgoraIO/Signaling/tree/master/Agora-Signaling-Tutorial-iOS-Objective-C) on GitHub for your reference.

### SDK Integration Methods

[Downloads](../reference/downloads) shows you alternative ways to add <Vg k="MESS_SDK" /> in your project.

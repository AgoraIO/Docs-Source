<PlatformWrapper platform="android">

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

### Disable 3A

<Vg k="VSDK" /> turns on 3A by default. In audio processing, 3A stands for Acoustic Echo Cancellation (AEC), Active Noise Suppression (ANS), and Automatic Gain Control (AGC). Sound card devices usually provide some built-in audio processing, such as echo and noise cancellation. Currently, if 3A is enabled in the application layer, it may cause over-processing of the audio signal and interference between different algorithms may impact sound quality. Best practice is that users with sound cards disable the 3A function by calling [`setParameters`](https://api-ref.agora.io/en/voice-sdk/android/4.x/API/class_irtcengine.html#api_irtcengine_setparameters).

<Tabs groupId="language">
<TabItem value="java" label="Java">
<CodeBlock language="java" showLineNumbers>
{`// Turn off echo cancellation
engine.setParameters("{\"che.audio.aec.enable\":false}");
// Turn off noise reduction
engine.setParameters("{\"che.audio.ans.enable\":false}");
// Turn off gain control
engine.setParameters("{\"che.audio.agc.enable\":false}");`}
</CodeBlock>
</TabItem>

<TabItem value="kotlin" label="Kotlin" default>
<CodeBlock language="kotlin" showLineNumbers>
{`// Turn off echo cancellation
engine.setParameters("{\"che.audio.aec.enable\":false}")
// Turn off noise reduction
engine.setParameters("{\"che.audio.ans.enable\":false}")
// Turn off gain control
engine.setParameters("{\"che.audio.agc.enable\":false}")`}
</CodeBlock>
</TabItem>
</Tabs>

### Turn on stereo capture

Call [`setAdvancedAudioOptions`](https://api-ref.agora.io/en/voice-sdk/android/4.x/API/class_irtcengine.html#api_irtcengine_setadvancedaudiooptions) to set the number of audio pre-processing channels to `AGORA_AUDIO_STEREO_PROCESSING` (2), that is, use two channels to collect and send stereo sound.

<Tabs groupId="language">  
<TabItem value="java" label="Java">  
<CodeBlock language="java" showLineNumbers>  
{`// Set advanced audio options for 2 audio processing channels
AdvancedAudioOptions options = new AdvancedAudioOptions();
options.audioProcessingChannels = 2;
m_lpAgoraEngine.setAdvancedAudioOptions(options);`}  
</CodeBlock>  
</TabItem>  

<TabItem value="kotlin" label="Kotlin" default>  
<CodeBlock language="kotlin" showLineNumbers>  
{`// Set advanced audio options for 2 audio processing channels
val options = AdvancedAudioOptions()
options.audioProcessingChannels = 2
m_lpAgoraEngine.setAdvancedAudioOptions(options)`}  
</CodeBlock>  
</TabItem>  
</Tabs>
</PlatformWrapper>

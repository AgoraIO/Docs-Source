<PlatformWrapper platform="android">
<ProductWrapper notAllowed="voice-calling">
    To receive callbacks declared in `IVideoFrameObserver` and `IAudioFrameObserver`, you must register the video and audio frame observers with the <Vg k="ENGINE" /> before joining a channel. To specify the format of audio frames captured by each `IAudioFrameObserver` callback, use the `setRecordingAudioFrameParameters`, `setMixedAudioFrameParameters` and `setPlaybackAudioFrameParameters` methods.

    ```kotlin
    override fun joinChannel(channelName: String, token: String?): Int {
        // Register the video frame observer
        agoraEngine!!.registerVideoFrameObserver(iVideoFrameObserver)
        // Register the audio frame observer
        agoraEngine!!.registerAudioFrameObserver(iAudioFrameObserver)

        agoraEngine!!.setRecordingAudioFrameParameters(
            sampleRate, numberOfChannels,
            Constants.RAW_AUDIO_FRAME_OP_MODE_READ_WRITE, samplesPerCall
        )
        agoraEngine!!.setPlaybackAudioFrameParameters(
            sampleRate, numberOfChannels,
            Constants.RAW_AUDIO_FRAME_OP_MODE_READ_WRITE, samplesPerCall
        )
        agoraEngine!!.setMixedAudioFrameParameters(
            sampleRate,
            numberOfChannels,
            samplesPerCall
        )

        return super.joinChannel(channelName, token)
    }
    ```
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_imediaengine_registeraudioframeobserver">registerAudioFrameObserver</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_imediaengine_registervideoframeobserver">registerVideoFrameObserver</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setrecordingaudioframeparameters">setRecordingAudioFrameParameters</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setrecordingaudioframeparameters">setRecordingAudioFrameParameters</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setplaybackaudioframeparameters">setPlaybackAudioFrameParameters</Link>

</ProductWrapper>
<ProductWrapper product="voice-calling">
    To receive callbacks declared in `IAudioFrameObserver`, you must register the audio frame observer with the <Vg k="ENGINE" /> before joining a channel. To specify the format of audio frames captured by each `IAudioFrameObserver` callback, use the `setRecordingAudioFrameParameters`, `setMixedAudioFrameParameters` and `setPlaybackAudioFrameParameters` methods.

    ```kotlin
    override fun joinChannel(channelName: String, token: String?): Int {
        // Register the audio frame observer
        agoraEngine!!.registerAudioFrameObserver(iAudioFrameObserver)

        agoraEngine!!.setRecordingAudioFrameParameters(
            sampleRate, numberOfChannels,
            Constants.RAW_AUDIO_FRAME_OP_MODE_READ_WRITE, samplesPerCall
        )
        agoraEngine!!.setPlaybackAudioFrameParameters(
            sampleRate, numberOfChannels,
            Constants.RAW_AUDIO_FRAME_OP_MODE_READ_WRITE, samplesPerCall
        )
        agoraEngine!!.setMixedAudioFrameParameters(
            sampleRate,
            numberOfChannels,
            samplesPerCall
        )

        return super.joinChannel(channelName, token)
    }
    ```
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_imediaengine_registeraudioframeobserver">registerAudioFrameObserver</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setrecordingaudioframeparameters">setRecordingAudioFrameParameters</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setrecordingaudioframeparameters">setRecordingAudioFrameParameters</Link>
    - <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setplaybackaudioframeparameters">setPlaybackAudioFrameParameters</Link>
</ProductWrapper>
</PlatformWrapper>
<PlatformWrapper platform={["ios","macos"]}>
    To receive the callbacks that you declared in `AgoraVideoFrameDelegate` and `AgoraAudioFrameDelegate`, you must register the video and audio frame observers with the Agora Engine, before joining a channel. To specify the format of the audio frames captured by each `AgoraAudioFrameDelegate` callback, use the `setRecordingAudioFrameParametersWithSampleRate`, `setPlaybackAudioFrameParametersWithSampleRate` and `setMixedAudioFrameParametersWithSampleRate` methods.

    To do these, add the following lines to the `init()` method of `AgoraManager`:

    ```swift
    // Video Setup
    self.videoFrameDelegate = ModifyVideoFrameDelegate(modifyController: self)
    agoraEngine.setVideoFrameDelegate(videoFrameDelegate)

    // Audio Setup
    self.audioFrameDelegate = ModifyAudioFrameDelegate(modifyController: self)
    agoraEngine.setAudioFrameDelegate(audioFrameDelegate)
    agoraEngine.setRecordingAudioFrameParametersWithSampleRate(
        44100, channel: 1, mode: .readWrite, samplesPerCall: 4410
    )
    agoraEngine.setMixedAudioFrameParametersWithSampleRate(
        44100, channel: 1, samplesPerCall: 4410
    )
    agoraEngine.setPlaybackAudioFrameParametersWithSampleRate(
        44100, channel: 1, mode: .readWrite, samplesPerCall: 4410
    )
    ```

    <PlatformWrapper platform="ios">
    - <Link target="_blank" to="{{Global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setvideoframedelegate(_:)">setVideoFrameDelegate</Link>
    - <Link target="_blank" to="{{Global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setaudioframedelegate(_:)">setAudioFrameDelegate</Link>
    - <Link target="_blank" to="{{Global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setrecordingaudioframeparameterswithsamplerate(_:channel:mode:samplespercall:)">setRecordingAudioFrameParametersWithSampleRate</Link>
    - <Link target="_blank" to="{{Global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setmixedaudioframeparameterswithsamplerate(_:channel:samplespercall:)">setMixedAudioFrameParametersWithSampleRate</Link>
    - <Link target="_blank" to="{{Global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setplaybackaudioframeparameterswithsamplerate(_:channel:mode:samplespercall:)">setPlaybackAudioFrameParametersWithSampleRate</Link>
    </PlatformWrapper>
    <PlatformWrapper platform="macos">
    - <Link target="_blank" to="{{Global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setvideoframedelegate(_:)">setVideoFrameDelegate</Link>
    - <Link target="_blank" to="{{Global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setaudioframedelegate(_:)">setAudioFrameDelegate</Link>
    - <Link target="_blank" to="{{Global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setrecordingaudioframeparameterswithsamplerate(_:channel:mode:samplespercall:)">setRecordingAudioFrameParametersWithSampleRate</Link>
    - <Link target="_blank" to="{{Global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setmixedaudioframeparameterswithsamplerate(_:channel:samplespercall:)">setMixedAudioFrameParametersWithSampleRate</Link>
    - <Link target="_blank" to="{{Global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setplaybackaudioframeparameterswithsamplerate(_:channel:mode:samplespercall:)">setPlaybackAudioFrameParametersWithSampleRate</Link>
    </PlatformWrapper>

</PlatformWrapper>
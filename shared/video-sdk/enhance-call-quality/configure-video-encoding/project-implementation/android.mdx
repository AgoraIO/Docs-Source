
<PlatformWrapper platform="android">

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

Use the `setVideoEncoderConfiguration` method to configure video encoding parameters. Best practice is to call this method before calling `enableVideo` to speed up the time required for the first frame to appear. Alternatively, call this method within the channel to flexibly adjust video encoding properties.

To set video encoder configuration, refer to the following code:

<Tabs groupId="language">  
<TabItem value="java" label="Java">  
<CodeBlock language="java" showLineNumbers>  
{`VideoEncoderConfiguration videoConfig = new VideoEncoderConfiguration(
    // Resolution: 640x360 pixels - suitable for one-to-one video calls
    // Higher resolutions provide better clarity but require more bandwidth
    VideoEncoderConfiguration.VD_640x360,
    
    // Frame rate: 15 fps - balances smoothness and bandwidth
    // Use 20-25 fps for smoother motion, up to 30 fps for high-quality scenarios
    VideoEncoderConfiguration.FRAME_RATE.FRAME_RATE_FPS_15,
    
    // Bitrate: 400 Kbps - recommended for 640x360 at 15 fps
    // Higher bitrate improves quality but increases bandwidth usage
    // Use STANDARD_BITRATE to let SDK calculate optimal bitrate automatically
    400,
    
    // Orientation: ADAPTIVE mode adjusts video direction based on device rotation
    // Use FIXED_PORTRAIT or FIXED_LANDSCAPE when receivers can't handle rotation
    VideoEncoderConfiguration.ORIENTATION_MODE.ORIENTATION_MODE_ADAPTIVE,
    
    // Degradation preference: How video adapts under poor network conditions
    // MAINTAIN_FRAMERATE: Prioritize smooth playback (good for action/gaming)
    // MAINTAIN_QUALITY: Prioritize clarity (good for presentations/documents)
    // MAINTAIN_BALANCED: Balance between smoothness and quality (recommended for general calls)
    VideoEncoderConfiguration.DEGRADATION_PREFERENCE.MAINTAIN_BALANCED
);

// Mirror mode: Controls whether remote users see a mirrored version of your video
// VIDEO_MIRROR_MODE_AUTO: SDK decides based on camera type (front/back)
// VIDEO_MIRROR_MODE_ENABLED: Always mirror (natural for front camera selfie view)
// VIDEO_MIRROR_MODE_DISABLED: Never mirror (natural for back camera or screen sharing)
videoConfig.mirrorMode = VideoEncoderConfiguration.MIRROR_MODE.VIDEO_MIRROR_MODE_AUTO;

// Minimum bitrate: Sets the floor for bitrate adaptation under poor network
// Default value (-1) is recommended for most use cases
// Only increase if you require guaranteed minimum quality, but may cause packet loss
videoConfig.minBitrate = VideoEncoderConfiguration.STANDARD_BITRATE;

// Apply the configuration to the engine
// Best practice: Call before enableVideo() for faster first frame display
// Can also be called during a call to adjust settings dynamically
engine.setVideoEncoderConfiguration(videoConfig);`}  
</CodeBlock>  
</TabItem>  

<TabItem value="kotlin" label="Kotlin" default>  
<CodeBlock language="kotlin" showLineNumbers>  
{`val videoConfig = VideoEncoderConfiguration(
    // Resolution: 640x360 pixels - suitable for one-to-one video calls
    // Higher resolutions provide better clarity but require more bandwidth
    VideoEncoderConfiguration.VD_640x360,
    
    // Frame rate: 15 fps - balances smoothness and bandwidth
    // Use 20-25 fps for smoother motion, up to 30 fps for high-quality scenarios
    VideoEncoderConfiguration.FRAME_RATE.FRAME_RATE_FPS_15,
    
    // Bitrate: 400 Kbps - recommended for 640x360 at 15 fps
    // Higher bitrate improves quality but increases bandwidth usage
    // Use STANDARD_BITRATE to let SDK calculate optimal bitrate automatically
    400,
    
    // Orientation: ADAPTIVE mode adjusts video direction based on device rotation
    // Use FIXED_PORTRAIT or FIXED_LANDSCAPE when receivers can't handle rotation
    VideoEncoderConfiguration.ORIENTATION_MODE.ORIENTATION_MODE_ADAPTIVE,
    
    // Degradation preference: How video adapts under poor network conditions
    // MAINTAIN_FRAMERATE: Prioritize smooth playback (good for action/gaming)
    // MAINTAIN_QUALITY: Prioritize clarity (good for presentations/documents)
    // MAINTAIN_BALANCED: Balance between smoothness and quality (recommended for general calls)
    VideoEncoderConfiguration.DEGRADATION_PREFERENCE.MAINTAIN_BALANCED
)

// Mirror mode: Controls whether remote users see a mirrored version of your video
// VIDEO_MIRROR_MODE_AUTO: SDK decides based on camera type (front/back)
// VIDEO_MIRROR_MODE_ENABLED: Always mirror (natural for front camera selfie view)
// VIDEO_MIRROR_MODE_DISABLED: Never mirror (natural for back camera or screen sharing)
videoConfig.mirrorMode = VideoEncoderConfiguration.MIRROR_MODE.VIDEO_MIRROR_MODE_AUTO

// Minimum bitrate: Sets the floor for bitrate adaptation under poor network
// Default value (-1) is recommended for most use cases
// Only increase if you require guaranteed minimum quality, but may cause packet loss
videoConfig.minBitrate = VideoEncoderConfiguration.STANDARD_BITRATE

// Apply the configuration to the engine
// Best practice: Call before enableVideo() for faster first frame display
// Can also be called during a call to adjust settings dynamically
engine.setVideoEncoderConfiguration(videoConfig)`}  
</CodeBlock>  
</TabItem>  
</Tabs>

### Troubleshooting

The following are some common issues and their solutions:

| Issue | Possible solution |
|--------|--------------------|
| **Blurry video** | Increase resolution or bitrate |
| **Choppy/laggy playback** | Reduce resolution, increase `minBitrate`, or use `MAINTAIN_FRAMERATE` degradation preference |
| **High bandwidth usage** | Lower resolution or frame rate |
| **Video orientation incorrect** | Use `ORIENTATION_MODE_FIXED_PORTRAIT` or `ORIENTATION_MODE_FIXED_LANDSCAPE` |

</PlatformWrapper>
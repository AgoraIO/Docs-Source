<PlatformWrapper platform="ios">
        
## Implementation

In a complete call invitation process, the call invitation states of the caller and the callee are defined by `AgoraRtmLocalInvitation` and `AgoraRtmRemoteInvitation`, respectively.

![1602321763031](https://web-cdn.agora.io/docs-files/1602321763031)

### Send a call invitation

The steps to send a call invitation are as follows:

1.  The caller creates the `AgoraRtmLocalInvitation` by calling `initWithCalleeId`; at the same time, the lifecycle of the `AgoraRtmLocalInvitation` begins.

2.  The caller sends a call invitation by calling `sendLocalInvitation`. The lifecycle of the `AgoraRtmRemoteInvitation` begins as the callee receives the `remoteInvitationReceived` callback, and then the caller receives the `localInvitationReceivedByPeer` callback.

### Cancel a call invitation

The caller cancels the call invitation by calling `cancelLocalInvitation`. The lifecycle of the `AgoraRtmRemoteInvitation` ends as the callee receives the `remoteInvitationCanceled` callback. And then the lifecycle of the `AgoraRtmLocalInvitation` ends as the caller receives the `localInvitationCanceled` callback.

![img](https://web-cdn.agora.io/docs-files/1598604688759)

### Accept a call invitation

The callee gets `AgoraRtmRemoteInvitation` from `remoteInvitationReceived` and accepts the call invitation by calling `acceptRemoteInvitation`. The lifecycle of the `AgoraRtmRemoteInvitation` ends as the caller receives the `remoteInvitationAccepted` callback. The lifecycle of the `AgoraRtmLocalInvitation` ends as the caller receives the `localInvitationAccepted` callback.

![img](https://web-cdn.agora.io/docs-files/1598604695722)

### Refuse a call invitation

The callee gets `AgoraRtmRemoteInvitation` from `remoteInvitationReceived` and refuses the call invitation by calling `refuseRemoteInvitation`. The lifecycle of the `AgoraRtmRemoteInvitation` ends as the caller receives the `remoteInvitationRefused` callback. The lifecycle of the `AgoraRtmLocalInvitation` ends as the caller receives the `localInvitationRefused` callback.

![img](https://web-cdn.agora.io/docs-files/1598604702210)

## API Reference

See <Link to="{{Global.SIG_SDK_API_IOS}}/docs/headers/API-Overview.html#callinvitation">Call invitation</Link>.

## Sample Project

We provide a [demo project](https://github.com/AgoraIO-Usecase/Video-Calling) on GitHub. You can try the demo and view the source code.
</PlatformWrapper>

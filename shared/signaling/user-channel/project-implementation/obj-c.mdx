<PlatformWrapper platform="ios, macos">

### Send message via user channel

In a user channel, you can send a point-to-point message to a specified user by calling the `publish` method. Set the `channelType` parameter to `AgoraRtmChannelTypeUser` and the `channelName` parameter to the user ID of the specified user. This method can only send messages to one user at a time. To send messages to multiple users, call this method multiple times. <Vg k="COMPANY"/> does not limit how many users you can send messages to or how many users can send messages to you, but it does limit the frequency of sending messages to users.

- Send a string message:
    ```objc
    // Send string message
    NSString* message = @"Hello Agora!";
    NSString* user = @"Tony";

    AgoraRtmPublishOptions* publish_option = [[AgoraRtmPublishOptions alloc] init];
    publish_option.channelType = AgoraRtmChannelTypeUser;

    [rtm publish:user message:message option:publish_option completion:^(AgoraRtmCommonResponse * _Nullable response, AgoraRtmErrorInfo * _Nullable errorInfo) {
        if (errorInfo == nil) {
            NSLog(@"publish success!!");
        } else {
            NSLog(@"publish failed, errorCode %d, reason %@", errorInfo.errorCode, errorInfo.reason);
        }
    }];
    ```
    
- Send a binary message:

    ```objc
    // Send string message
    NSString* message = @"Hello Agora!";
    NSString* user = @"Tony";

    AgoraRtmPublishOptions* publish_option = [[AgoraRtmPublishOptions alloc] init];
    publish_option.channelType = AgoraRtmChannelTypeUser;

    [rtm publish:user message:message option:publish_option completion:^(AgoraRtmCommonResponse * _Nullable response, AgoraRtmErrorInfo * _Nullable errorInfo) {
        if (errorInfo == nil) {
            NSLog(@"publish success!!");
        } else {
            NSLog(@"publish failed, errorCode %d, reason %@", errorInfo.errorCode, errorInfo.reason);
        }
    }];
    ```

</PlatformWrapper>
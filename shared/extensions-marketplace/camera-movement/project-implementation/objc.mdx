### Register the plugin

After initializing `RtcEngine`, call `registerExtension` to register the camera movement plugin.

<Admonition type="caution" title="Caution">
Make sure to register the camera movement plugin before calling `enableVideo` to enable the video module.
</Admonition>

```swift
// Register the camera movement plugin
agoraEngine.registerExtension(
    withVendor: "agora_video_filters_portrait_rhythm",
    extension: "portrait_rhythm",
    sourceType: .primaryCamera
)
// Enable the video module
agoraEngine.enableVideo()
```

### Enable the camera movement plugin

Make sure to call `startPreview` to start the video preview, and then call `enableExtension` to turn on or off the camera movement plugin.

```swift
// Turn on camera motion
agoraEngine.enableExtension(
    withVendor: "agora_video_filters_portrait_rhythm",
    extension: "portrait_rhythm",
    enabled: true
)
```

### Set or switch camera movement effects

To set or switch the camera movement effect, call `setExtensionPropertyWithVendor` (iOS) and pass in different key and value to achieve effects such as heartbeat rhythm, portrait rhythm, and front and back camera movement. For details, see the [key-value description](../../reference/metakit-key-value-description).

```swift
// Set to heartbeat rhythm effect
agoraEngine.setExtensionPropertyWithVendor(
    "agora_video_filters_portrait_rhythm",
    extension: "portrait_rhythm",
    key: "mode",
    value: "1"
)
```
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<PlatformWrapper platform={['ios','macos']}>
    

<Tabs groupId="language">
<TabItem value="swift" label="Swift" default>
<CodeBlock language="swift" showLineNumbers>
{`do {
let rtmConfig = AgoraRtmClientConfig(appId: "your_appid", userId: "your_userid")

let encryptionConfig = AgoraRtmEncryptionConfig()
encryptionConfig.encryptionKey = "your_encryptionKey"
encryptionConfig.encryptionMode = .aes256Gcm

let saltValues: [UInt8] = [ /* your salt values */ ]
let saltData = Data(bytes: saltValues, count: saltValues.count)

encryptionConfig.encryptionSalt = saltData

rtmConfig.encryptionConfig = encryptionConfig    

let rtmClient = try AgoraRtmClientKit(rtmConfig, delegate: nil)
    if rtmClient != nil {
        print("RTM Client initialized successfully!")
    }
} catch let error {
    print("Failed to initialize RTM client. Error: \\(error)")
}`}
</CodeBlock>
</TabItem>
<TabItem value="objc" label="Objective-C">
<CodeBlock language="objc" showLineNumbers>    
{`AgoraRtmClientConfig* rtm_cfg = [[AgoraRtmClientConfig alloc] initWithAppId:@"your_appid" userId:@"your_userid"];

AgoraRtmEncryptionConfig* encryption_config = [[AgoraRtmEncryptionConfig alloc] init];
encryption_config.encryptionKey = @"your_encryptionKey";
encryption_config.encryptionMode = AgoraRtmEncryptionAES256GCM;
unsigned char bytes[32] = { /*your salt values*/ };
encryption_config.encryptionSalt = [NSData dataWithBytes:bytes length:32];
rtm_cfg.encryptionConfig = encryption_config;

NSError* initError = nil;
AgoraRtmClientKit* rtm = [[AgoraRtmClientKit alloc] initWithConfig:rtm_cfg delegate:handler error:&initError];`}
</CodeBlock>
</TabItem>
</Tabs>
</PlatformWrapper>
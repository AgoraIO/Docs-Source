<PlatformWrapper platform="electron">

## Set up the development environment

* Installed [Git](https://git-scm.com/downloads)

## Project setup
To set up and run your <Vg k="FC" /> project, you need the following tools:

* `Node.js` JavaScript runtime environment for building and running the web project.
* `yarn`: A package manager.
* `nvm`: (Optional) Version management command-line tool for `Node.js`.

### Install the development tools

To prepare your development environment:

1. [Download](https://git-scm.com/downloads) Git.

1. [Download](https://nodejs.org/en) and install Node.js. It is recommended to use Node.js 16. Node.js 18 and above versions are not supported yet.

1. Install Yarn:

   - If you have `Node.js` `16.10` or later, you can directly enable `yarn` with the following command:

      ```bash
      corepack enable
      ```

   - If you have a version of `Node.js` earlier than 16.10, you need to install `corepack` first and then enable `yarn` with the following command:

      ```bash
      npm i -g corepack enable
      ```

1. (Optional) To install `nvm`, run the following command:

   ```bash
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
   ```

1. (Optional) When Electron installation fails, you can install by setting the Electron mirror address:

   ```bash
   export ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/
   export ELECTRON_CUSTOM_DIR=v12.0.0
   export ELECTRON_CUSTOMDIR=v12.0.0
   ```

### Download the source code

  To set up your <Vg k="FC" /> project:

1. Clone the repository locally by running the following command:

   ```bash
   git clone https://github.com/AgoraIO-Community/flexible-classroom-desktop.git
   ```

1. After the download is complete, navigate to the folder:

   ```bash
   cd flexible-classroom-desktop
   ```

1. Best practice is to switch to the latest release.

   To switch to the branch for version `2.9.0`, run the command:

   ```bash
   git checkout release/2.9.0
   ```

   <Vg k="COMPANY" /> recommends that you switch to the latest release branch.

## Launch a Flexible Classroom

Follow these steps to launch a <Vg k="FC" />:

1. Open a terminal window and navigate to the `Flexible-Classroom-Desktop` folder. Run the following command to install the project dependencies:

   ```bash
   yarn install:packages
   ```

   If the installation dependency times out, switch to an available mirror source:

   ```bash
   # Switch to a mirror
   yarn config set registry https://registry.npmmirror.com/
   # Install dependencies
   yarn install:packages
   ```

1. Copy the App ID and App Certificate from <Vg k="CONSOLE" /> and update the corresponding parameters in `packages/agora-classroom-sdk/.env`:

   ```javascript
   REACT_APP_AGORA_APP_ID={your appid}
   REACT_APP_AGORA_APP_CERTIFICATE={your app certificate}
   ```

   To facilitate your testing, the `flexible-classroom-desktop` project contains a <Vg k="MESS" /> Token generator, which can generate a temporary <Vg k="MESS" /> Token with the App ID and App Certificate you provide. When your project goes live, you must deploy a <Vg k="MESS" /> Token generator on your server to ensure security.

1. Refer to the following steps to run Flexible Classroom on macOS or Windows:

   - **macOS**

       To build the project, run the following command in the root directory of the `Flexible-Classroom-Desktop` project:

       ```bash
       yarn dev:electron
       ```

   - **Windows**

      1. Replace `"agora_electron"` in `package.json` file in the `packages/agora-demo-app` directory with the following code:

          ```json
          "agora_electron": {
            "electron_version": "12.0.0",
            "prebuilt": true,
            "platform": "win32",
            "arch": "ia32"
          },
          ```

       1. To install Electron 12.0.0, run the following command:

          ```bash
          npm install electron@12.0.0 --arch=ia32 --save-dev
          ```

       1. To build the project, run the following command in the root directory of the `Flexible-Classroom-Desktop` project:

          ```bash
          yarn dev:electron
          ```

## Test your implementation

1. Run the project on your Windows or macOS device.

1. To join a classroom, type in a room name and user name. Select a class type, set the user role to `Teacher` and then press **Enter**.

   You are logged in to <Vg k="FC" />.

1. Install <Vg k="FC" /> on a second device. Login with the same credentials but this time set the user role to `Student`.

1. The `Teacher` and `Student` can now interact and communicate using <Vg k="FC" /> features.

</PlatformWrapper>

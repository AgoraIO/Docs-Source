
## Call limit

The call limit is for one <code>AgoraRtmKit</code> instance. If an operation corresponds to multiple methods, the number of the method calls of an operation equals the sum of the method calls of all corresponding methods in a specific time frame.

<div class="alert note">You can increase the call limit of an API by creating multiple <code>AgoraRtmKit</code> instances.</div>

| Operation                                                    | Method                                                       | Call limit                 |
| ----------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| Log in to the <Vg k="SIG" />                                | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/createChannelWithId:delegate:">loginByToken</Link> | 2 calls per second         |
| Retrieve member count of specified channels | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/getChannelMemberCount:completion:">getChannelMemberCount</Link> | 1 call per second |
| Join a different channel each time | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmChannel.html#//api/name/joinWithCompletion:">joinWithCompletion</Link> | 50 calls every 3 seconds |
| Join the same channel each time | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmChannel.html#//api/name/joinWithCompletion:">joinWithCompletion</Link> | 2 calls every 5 seconds |
| Send messages| <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/sendMessage:toPeer:completion:">sendMessage</Link></li> <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/sendMessage:toPeer:sendMessageOptions:completion:">sendMessage</Link></li> <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmChannel.html#//api/name/sendMessage:completion:">sendMessage</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmChannel.html#//api/name/sendMessage:sendMessageOptions:completion:">sendMessage</Link></li> | 180 calls every three seconds          |
| Retrieve a member list of the channel                      | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmChannel.html#//api/name/getMembersWithCompletion:">getMembersWithCompletion:</Link> | 5 calls every 2 seconds |
| Renew the token | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/renewToken:completion:">renewToken</Link> | 2 calls per second |
| Query the online status of the specified users. | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/queryPeersOnlineStatus:completion:">queryPeersOnlineStatus</Link> | 10 calls every 5 seconds |
| Set user attributes | <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/setLocalUserAttributes:completion:">setLocalUserAttributes</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/addOrUpdateLocalUserAttributes:completion:">addOrUpdateLocalUserAttributes</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/deleteLocalUserAttributesByKeys:completion:">deleteLocalUserAttributesByKeys</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/clearLocalUserAttributesWithCompletion:">clearLocalUserAttributes</Link></li> | 10 calls every 5 seconds          |
| Get user attributes | <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/getUserAllAttributes:completion:">getUserAttributes</Link></li><li> <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/getUserAttributes:ByKeys:completion:">getUserAttributesByKeys</Link></li>  | 40 calls every 5 seconds         |
| Set channel attributes | <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/setChannel:Attributes:Options:completion:">setChannelAttributes</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/addOrUpdateChannel:Attributes:Options:completion:">addOrUpdateChannelAttributes</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/deleteChannel:AttributesByKeys:Options:completion:">deleteChannelAttributesByKeys</Link></li><li> <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/clearChannel:Options:AttributesWithCompletion:">clearChannelAttributes</Link></li>  | 10 calls every 5 seconds          |
| Get channel attributes | <li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/getChannelAllAttributes:completion:">getChannelAttributes</Link></li><li><Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/getChannelAttributes:ByKeys:completion:">getChannelAttributesByKeys</Link></li> | 10 calls every 5 seconds         |
| Subscribe to the online status of the specified users | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/subscribePeersOnlineStatus:completion:">subscribePeersOnlineStatus</Link> | 10 calls every 5 seconds |
| Unsubscribe from the online status of the specified users | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/unsubscribePeersOnlineStatus:completion:">unsubscribePeersOnlineStatus</Link> | 10 calls every 5 seconds |
| Get a list of the peers whose status you have subscribed to. | <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/queryPeersBySubscriptionOption:completion:">queryPeersBySubscriptionOption</Link> | 10 calls every 5 seconds |



## String size

- The maximum size of a peer-to-peer or channel message is 32 KB. See <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmMessage.html">AgoraRtmMessage</Link>.
- The maximum size of the content in a call invitation is 8 KB. See <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmLocalInvitation.html">AgoraRtmLocalInvitation</Link>.
- The maximum size of the response in a call invitation is 8 KB. See <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmRemoteInvitation.html">AgoraRtmRemoteInvitation</Link>.

## Encoding 

- Channel and peer-to-peer messages, the invitation content, and the invitation response must be in UTF-8 format. 
- The `filePath` parameter of the following methods must be in UTF-8 format:
    - <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/createFileMessageByUploading:withRequest:completion:">createFileMessageByUploading:withRequest:completion:</Link>
    - <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/createImageMessageByUploading:withRequest:completion:">createImageMessageByUploading:withRequest:completion:</Link>
    - <Link to="{{Global.SIGNALING_API_REF_OC_ROOT}}/Classes/AgoraRtmKit.html#//api/name/downloadMedia:toFile:withRequest:completion:">downloadMedia:toFile:withRequest:completion:</Link>



import * as data from '@site/data/variables';
import Prerequites from '@docs/shared/common/prerequities.mdx';
import ProjectSetup from '@docs/shared/common/integrate-token-generation/project-setup/index.mdx';
import ProjectImplement from '@docs/shared/common/integrate-token-generation/project-implementation/index.mdx';
import ProjectTest from '@docs/shared/common/integrate-token-generation/project-test/index.mdx';
import Reference from '@docs/shared/common/integrate-token-generation/reference/index.mdx';

## Integrate a token generator

Authentication is the act of validating the identity of each user before they access a system. In {data.AGORA_BACKEND}, this key level of security is implemented in the form of token authentication. {data.AGORA_BACKEND} uses digital tokens to authenticate users and their privileges before they can access {props.PRODUCT}. A token is a dynamic key that is generated from a given set of inputs. All {data.COMPANY} [core products](https://www.agora.io/en/products/) are protected using token security.

In order to build a seamless authentication process for your users, you need to integrate token generation into your [identity management](https://en.wikipedia.org/wiki/Identity_management) system. This guide helps you integrate {data.COMPANY} token generation libraries into your authentication system. The integration of {data.COMPANY} token generation and authentication in your security infrastructure provides an additional level of security while allowing you to retain control of the overall authentication process.

### Understand the tech

When a user attempts to connect to an {data.COMPANY} channel from your {props.CLIENT}, your {props.CLIENT} requests a token from your authentication system. Your authentication system uses {data.COMPANY} libraries to generate a token specific to the channel, then sends it to your {props.CLIENT}. The {props.CLIENT} then sends this token to {data.AGORA_BACKEND} with the request to join a channel. {data.AGORA_BACKEND} validates the token and adds the user to the channel. The following diagram shows the authentication call flow between your {props.CLIENT}, your authentication system and {data.AGORA_BACKEND}:

![Integrated token generation](/images/others/integrated-token-generation.svg)

### Prerequisites

To follow this procedure you must have created:

- An [Agora developer account](https://sso2.agora.io/en/v4/signup/with-email)

- A project in {data.CONSOLE} with an {data.APP_ID_LINK}, and {data.APP_CERTIFICATE_LINK}

<Prerequites / >

### Project setup

Open your project in which you wish to integrate token generation.

<ProjectSetup />


### Integrate token generation into your authentication system

When a user sends an authentication request to your server, the server must check the user's credentials against your internal security and business logic. If everything is in order, the server returns an {data.COMPANY} authentication token to the {props.CLIENT}. The {props.CLIENT} then uses this token to join a channel.

This section shows you how to integrate {data.COMPANY} token generation into your authentication system code.

<ProjectImplement />


### Test your implementation

To test the validity of tokens you generate through your integrated authentication system, take the following steps:

<ProjectTest />


### Reference

This section contains information that completes the information in this page, or points you to documentation that explains other aspects to this product.

You have seen that you generate {data.COMPANY} tokens with a few lines of code. Now integrate the code into your identity management system. Have a look at:

- [Integrate token generation into standard frameworks(https://www.agora.io/en/blog/?s=token+server&post_type=post)

- [Implement the authentication workflow]({data.PRODUCT_FOLDER}/token_server_{data.PLATFORM}) in your app.


- For more complete token generator examples, download sample projects for the following programming-languages:

<table>
  <tbody>
    <tr>
      <td>[C++]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/cpp)</td>
      <td>[C#]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/csharp)</td>
      <td>[Go]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/go)</td>
    </tr>
    <tr>
      <td>[Java]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/java)</td>
      <td>[Node.js]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/nodejs)</td>
      <td>[Python]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/python)</td>
    </tr>
    <tr>
      <td>[PHP]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/php)</td>
      <td>[Perl]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/perl)</td>
      <td>[Ruby]({data.AGORA_DYNAMIC_KEY_CODE_BASE_URL}/ruby)</td>
    </tr>
  </tbody>
</table>

<Reference />
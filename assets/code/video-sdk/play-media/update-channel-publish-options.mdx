<PlatformWrapper platform="ios">
    ```swift
    func updateChannelPublishOptions(publishingMedia: Bool) -> Int32 {
        defer { self.mediaPlaying = publishingMedia }
        let channelOptions = AgoraRtcChannelMediaOptions()
        channelOptions.publishMediaPlayerAudioTrack = publishingMedia
        channelOptions.publishMediaPlayerVideoTrack = publishingMedia
        // If publishing media player, set the media player ID
        if publishingMedia { channelOptions.publishMediaPlayerId = Int(mediaPlayer!.getMediaPlayerId()) }
        // Set the regular camera to false if publishing media track
        channelOptions.publishMicrophoneTrack = true
        channelOptions.publishCameraTrack = !publishingMedia

        return agoraEngine.updateChannel(with: channelOptions)
    }
    ```

    <PlatformWrapper platform="ios">
    - <Link to="{{Global.API_REF_IOS_ROOT_RTC_KIT}}/agorartcchannelmediaoptions">AgoraRtcChannelMediaOptions</Link>
    - <Link to="{{Global.API_REF_IOS_ROOT_RTC_KIT}}/agorartcmediaplayerprotocol/getmediaplayerid()">getMediaPlayerId()</Link>
    - <Link to="{{Global.API_REF_IOS_ROOT_RTC_KIT}}/agorartcenginekit/updatechannel(with:)">updateChannel(with:)</Link>
    </PlatformWrapper>
    <PlatformWrapper platform="macos">
    - <Link to="{{Global.API_REF_MACOS_ROOT_RTC_KIT}}/agorartcchannelmediaoptions">AgoraRtcChannelMediaOptions</Link>
    - <Link to="{{Global.API_REF_MACOS_ROOT_RTC_KIT}}/agorartcmediaplayerprotocol/getmediaplayerid()">getMediaPlayerId()</Link>
    - <Link to="{{Global.API_REF_MACOS_ROOT_RTC_KIT}}/agorartcenginekit/updatechannel(with:)">updateChannel(with:)</Link>
    </PlatformWrapper>
</PlatformWrapper>
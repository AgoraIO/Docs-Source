<PlatformWrapper platform="android">
    When an attempt to connect directly to <Vg k="AGORA_BACKEND" /> fails, you set `directConnectionFailed` to `true`. 

    ```java
    @Override
    public void onConnectionStateChanged(int state, int reason) {
        if (state ==  CONNECTION_STATE_FAILED
            && reason == CONNECTION_CHANGED_JOIN_FAILED) {
            // Connection failed
            directConnectionFailed = true;
        } else if (state == CONNECTION_CHANGED_SETTING_PROXY_SERVER) {
            // Proxy server setting changed
        }
    }
    ```
</PlatformWrapper>
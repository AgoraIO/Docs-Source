---
title: Set up Twilio SIP trunk
sidebar_position: 10
description: >
  Configure a Twilio SIP trunk to enable outbound calling from Agora Studio using your Twilio phone numbers.
---

This guide walks you through importing a Twilio SIP trunk phone number into Agora Studio. By connecting your Twilio phone number through a SIP trunk, you can make outbound calls from Agora Studio agents and campaigns using your existing Twilio infrastructure.

## Prerequisites

Before you begin, ensure that you have:

- An active Twilio account
- Own at least one Twilio phone number
- The phone number supports SIP Trunking

## Implementation

Follow these steps to import a Twilio SIP trunk phone number to Agora Studio.

### Verify your Twilio phone number

To confirm your phone number is ready for SIP trunk configuration:

1. Log in to Twilio Console.
2. Navigate to **Phone Numbers → Manage → Active Numbers**.
3. Check that the number you want to use is active.

### Create or select an Elastic SIP Trunk

To set up the trunk that handles outbound calls from Agora:

1. Go to **Elastic SIP Trunking** in Twilio Console.
1. Create a new SIP Trunk or select an existing one.
1. This trunk will be used for outbound calls from Agora.

    ![](/images/conversational-ai/twilio/select-sip-trunk.png)

Alternatively, click on a number and select **SIP trunk** from the dropdown.

    ![](/images/conversational-ai/twilio/select-sip-trunk2.png)

### Assign the phone number to the Elastic SIP Trunk

To link your phone number with the SIP trunk:

1. Go to **Phone Numbers → Manage → Active Numbers**.
1. Select the phone number.
1. Under **Voice Calling** settings, set the number to use your Elastic SIP Trunk.
1. Save changes.

### Add IP Access Control (Authentication)

Without correct IP whitelisting, Twilio blocks Agora traffic. To allow Agora's traffic through Twilio:

1. Go to **Trunk → Authentication**.
1. Under **IP Access Control Lists**, add the following Agora SIP outgoing IPs:

    ```text showLineNumbers=false
    43.157.157.7
    43.157.180.46
    43.157.154.150
    43.157.147.39
    43.157.160.149
    54.232.229.20
    3.111.249.176
    43.156.6.228
    101.42.177.243
    ```
1. Save the Access Control List.

    ![](/images/conversational-ai/twilio/access-control-list.png)

    ![](/images/conversational-ai/twilio/access-list-configuration.png)

### Confirm Secure Trunking settings

To determine which transport protocol to use in Agora Studio:

1. Open your **SIP Trunk → General Settings**.
1. Locate **Secure Trunking**.
1. Check whether it is enabled or disabled:
    - **Enabled**: Choose TLS when configuring Agora Studio.
    - **Disabled**: Choose TCP or UDP when configuring Agora Studio.
1. Save any changes.

    ![](/images/conversational-ai/twilio/general-settings.png)

### Configure the Termination URI

To set up the domain that Agora will use to reach your Twilio trunk:

1. Inside the Trunk, open **Termination**.
1. Set a custom **Termination SIP URI** (for example: `yourcompany.pstn.twilio.com`).
1. This domain will be required later in Agora Studio as the SIP Domain.

    ![](/images/conversational-ai/twilio/termination-uri.png)

### Select the IP Access Control Lists

To apply your authentication settings to the trunk:

1. Under **IP Access Control Lists**, select the authentication list you created in the Add IP Access Control step.
1. If you do not see the list you created, access the list by clicking **View all Authentication lists**.

    ![](/images/conversational-ai/twilio/ip-access-control-list.png)

    ![](/images/conversational-ai/twilio/authentication.png)

### Credential Lists (Optional)

To configure username and password authentication if required:

1. Under **Authentication**, find **Credential Lists**. 
1. Choose one of the following:
    - Leave Credential Lists empty (recommended) - This allows you to leave username/password blank in Agora Studio.
    - Configure a Credential List - If set, the same username/password must be entered in Agora Studio.
1. Save changes.

### Add the outbound SIP number in Agora Studio

To complete the integration and import your Twilio number:

1. Go to **Agora Studio → Phone Numbers → Import Number**.
1. Select Twilio as the vendor.
1. Fill the following required fields:
    - **Phone Number**: Your Twilio number (E.164 format).
    - **Display Name**: Any desired label.
    - **SIP Domain**: The custom Termination URI you set earlier. For example, `yourcompany.pstn.twilio.com`.
    - **Username / Password**:
        - Leave blank if Twilio Credential List was empty.
        - Fill in if Twilio Credential List was configured.
    - **Transport**: 
        - Choose TLS if Secure Trunking is enabled in Twilio.
        - Choose TCP/UDP if Secure Trunking is disabled.
1. Click **Add Number**.

    ![](/images/conversational-ai/twilio/add-number.png)

### Start making outbound calls

The SIP number will now appear in your Agora Studio Phone Numbers list. You can now use this SIP number for outbound calls through agents or campaigns.
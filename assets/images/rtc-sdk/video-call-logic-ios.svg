<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="831px" preserveAspectRatio="none" style="width:497px;height:831px;" version="1.1" viewBox="0 0 497 831" width="497px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="829.9668" style="stroke:#0A9EFD;stroke-width:1;" width="495.7158" x="0" y="0"/><rect fill="#999999" fill-opacity="0.33333" height="819.9668" style="stroke:#0A9EFD;stroke-width:0.5;" width="83.4482" x="100.2769" y="6"/><text fill="#0A9EFD" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="56.3354" x="113.8333" y="19.4951">Your app</text><rect fill="#999999" fill-opacity="0.33333" height="819.9668" style="stroke:#0A9EFD;stroke-width:0.5;" width="80.5361" x="405.1797" y="6"/><text fill="#0A9EFD" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37.5591" x="426.6682" y="19.4951">Agora</text><rect fill="#0A9EFD" fill-opacity="0.06667" height="276.436" style="stroke:#0A9EFD;stroke-width:2;" width="481.7158" x="10" y="245.8423"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="655.7695" width="8" x="33.7793" y="86.0986"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="86.0986" y2="741.8682"/></g><g><title>RTC SDK</title><rect fill="#000000" fill-opacity="0.00000" height="655.7695" width="8" x="138.001" y="86.0986"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="141.2769" x2="141.2769" y1="86.0986" y2="741.8682"/></g><g><title>SDRTN&#174;</title><rect fill="#000000" fill-opacity="0.00000" height="655.7695" width="8" x="441.4478" y="86.0986"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="445.1797" x2="445.1797" y1="86.0986" y2="741.8682"/></g><g class="participant participant-head" data-participant="USR"><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="20" y="83.1318">User</text><ellipse cx="37.7793" cy="16" fill="none" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3;"/><path d="M37.7793,24 L37.7793,51 M24.7793,32 L50.7793,32 M37.7793,51 L24.7793,66 M37.7793,51 L50.7793,66" fill="none" style="stroke:#0A9EFD;stroke-width:3;"/></g><g class="participant participant-tail" data-participant="USR"><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="20" y="754">User</text><ellipse cx="37.7793" cy="767.9668" fill="none" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3;"/><path d="M37.7793,775.9668 L37.7793,802.9668 M24.7793,783.9668 L50.7793,783.9668 M37.7793,802.9668 L24.7793,817.9668 M37.7793,802.9668 L50.7793,817.9668" fill="none" style="stroke:#0A9EFD;stroke-width:3;"/></g><g class="participant participant-head" data-participant="APP"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="75.4482" x="104.2769" y="55"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4482" x="111.2769" y="75.1318">RTC SDK</text></g><g class="participant participant-tail" data-participant="APP"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="75.4482" x="104.2769" y="740.8682"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4482" x="111.2769" y="761">RTC SDK</text></g><g class="participant participant-head" data-participant="API"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="72.5361" x="409.1797" y="55"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="58.5361" x="416.1797" y="75.1318">SDRTN&#174;</text></g><g class="participant participant-tail" data-participant="API"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="72.5361" x="409.1797" y="740.8682"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="58.5361" x="416.1797" y="761">SDRTN&#174;</text></g><g class="message" data-participant-1="USR" data-participant-2="APP"><polygon fill="#0A9EFD" points="130.001,113.0474,140.001,117.0474,130.001,121.0474,134.001,117.0474" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="37.7793" x2="136.001" y1="117.0474" y2="117.0474"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="57.1035" x="61.3384" y="112.2925">Open app</text></g><g class="message" data-participant-1="APP" data-participant-2="APP"><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="184.001" y1="160.9448" y2="160.9448"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="184.001" x2="184.001" y1="160.9448" y2="173.9448"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="143.001" x2="184.001" y1="173.9448" y2="173.9448"/><polygon fill="#0A9EFD" points="153.001,169.9448,143.001,173.9448,153.001,177.9448,149.001,173.9448" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="166.918" x="210.2654" y="141.2412">Initiate the RTC SDK engine:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="282.2231" x="156.2246" y="156.1899">agoraEngine = AgoraRtcEngineKit.sharedEngine</text></g><g class="message" data-participant-1="APP" data-participant-2="APP"><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="184.001" y1="217.8423" y2="217.8423"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="184.001" x2="184.001" y1="217.8423" y2="230.8423"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="143.001" x2="184.001" y1="230.8423" y2="230.8423"/><polygon fill="#0A9EFD" points="153.001,226.8423,143.001,230.8423,153.001,234.8423,149.001,230.8423" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="167.6479" x="149.001" y="198.1387">Setup the local video stream:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="158.2852" x="157.2942" y="213.0874">agoraEngine.enableVideo()</text></g><path d="M10,245.8423 L81.73,245.8423 L81.73,252.791 L71.73,262.791 L10,262.791 L10,245.8423" fill="#EEEEEE" style="stroke:#0A9EFD;stroke-width:1.5;"/><rect fill="none" height="276.436" style="stroke:#0A9EFD;stroke-width:2;" width="481.7158" x="10" y="245.8423"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="26.73" x="25" y="259.0361">Host</text><g class="message" data-participant-1="USR" data-participant-2="APP"><polygon fill="#0A9EFD" points="130.001,279.7397,140.001,283.7397,130.001,287.7397,134.001,283.7397" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="37.7793" x2="136.001" y1="283.7397" y2="283.7397"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="61.4136" x="59.1833" y="278.9849">Start a call</text></g><g class="message" data-participant-1="APP" data-participant-2="APP"><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="184.001" y1="327.6372" y2="327.6372"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="184.001" x2="184.001" y1="327.6372" y2="340.6372"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="143.001" x2="184.001" y1="340.6372" y2="340.6372"/><polygon fill="#0A9EFD" points="153.001,336.6372,143.001,340.6372,153.001,344.6372,149.001,340.6372" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="221.1333" x="158.0273" y="307.9336">In a call, all users send to the channel:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="235.5742" x="152.6128" y="322.8823">agoraEngine.setClientRole(.broadcaster)</text></g><g class="message" data-participant-1="APP" data-participant-2="APP"><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="184.001" y1="384.5347" y2="384.5347"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="184.001" x2="184.001" y1="384.5347" y2="397.5347"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="143.001" x2="184.001" y1="397.5347" y2="397.5347"/><polygon fill="#0A9EFD" points="153.001,393.5347,143.001,397.5347,153.001,401.5347,149.001,397.5347" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="96.1035" x="233.2026" y="364.8311">Start local video:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="257.2832" x="156.2246" y="379.7798">agoraEngine.setupLocalVideo(videoCanvas)</text></g><g class="message" data-participant-1="APP" data-participant-2="API"><polygon fill="#0A9EFD" points="433.4478,437.4321,443.4478,441.4321,433.4478,445.4321,437.4478,441.4321" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="439.4478" y1="441.4321" y2="441.4321"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="98.2935" x="244.5776" y="421.7285">Join the channel:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="153.2324" x="218.9141" y="436.6772">agoraEngine?.joinChannel</text></g><g class="message" data-participant-1="APP" data-participant-2="API"><polygon fill="#0A9EFD" points="433.4478,481.3296,443.4478,485.3296,433.4478,489.3296,437.4478,485.3296" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="439.4478" y1="485.3296" y2="485.3296"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="226.1479" x="178.8445" y="465.626">Retrieve streaming from the other user:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="271.7241" x="159.6682" y="480.5747">agoraEngine.setupRemoteVideo(videoCanvas)</text></g><g class="message" data-participant-1="API" data-participant-2="APP"><polygon fill="#0A9EFD" points="153.001,510.2783,143.001,514.2783,153.001,518.2783,149.001,514.2783" style="stroke:#0A9EFD;stroke-width:1;"/><polygon fill="#0A9EFD" points="433.4478,510.2783,443.4478,514.2783,433.4478,518.2783,437.4478,514.2783" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="147.001" x2="439.4478" y1="514.2783" y2="514.2783"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="182.8252" x="202.3118" y="509.5234">Receive and send data streams</text></g><g class="message" data-participant-1="USR" data-participant-2="APP"><polygon fill="#0A9EFD" points="130.001,546.2271,140.001,550.2271,130.001,554.2271,134.001,550.2271" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="37.7793" x2="136.001" y1="550.2271" y2="550.2271"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="80.2217" x="49.7793" y="545.4722">Leave the call</text></g><g class="message" data-participant-1="APP" data-participant-2="API"><polygon fill="#0A9EFD" points="433.4478,590.1245,443.4478,594.1245,433.4478,598.1245,437.4478,594.1245" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="439.4478" y1="594.1245" y2="594.1245"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="95.3926" x="246.0281" y="574.4209">Stop local video:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="156.8062" x="217.1272" y="589.3696">agoraEngine.stopPreview()</text></g><g class="message" data-participant-1="APP" data-participant-2="API"><polygon fill="#0A9EFD" points="433.4478,634.022,443.4478,638.022,433.4478,642.022,437.4478,638.022" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="439.4478" y1="638.022" y2="638.022"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="109.8652" x="236.9858" y="618.3184">Leave the channel:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="178.5088" x="206.2759" y="633.2671">agoraEngine.leaveChannel(nil)</text></g><g class="message" data-participant-1="USR" data-participant-2="APP"><polygon fill="#0A9EFD" points="130.001,662.9707,140.001,666.9707,130.001,670.9707,134.001,666.9707" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="37.7793" x2="136.001" y1="666.9707" y2="666.9707"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.5381" x="60.6211" y="662.2158">Close app</text></g><g class="message" data-participant-1="APP" data-participant-2="APP"><line style="stroke:#0A9EFD;stroke-width:2;" x1="142.001" x2="184.001" y1="710.8682" y2="710.8682"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="184.001" x2="184.001" y1="710.8682" y2="723.8682"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="143.001" x2="184.001" y1="723.8682" y2="723.8682"/><polygon fill="#0A9EFD" points="153.001,719.8682,143.001,723.8682,153.001,727.8682,149.001,723.8682" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="146.688" x="158.0273" y="691.1646">Clean up local resources:</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="164.7407" x="152.6128" y="706.1133">AgoraRtcEngineKit.destroy()</text></g><!--SRC=[VLFTYjGm5BxFKnnxDGDk7s3mXwKhM7VHeTqL147EfCUPQ2OfoMdLb_8XV3AJj2jDP_6caFHylprzfepKGqU0H-lmY_-kJAc6inO29Li7nOCdLm1wU6WR8Gxs9nIVxE00-xuGeaV7IgeU3KFHt5VGtjocwUlzNWWo7GJ43BkE2cjCUzFSl__pUyRK2qpGWwjNaMW77teoKL64qx_BsYXMo0Hy8fYrWSnH6TfzDZ0bUfFEy1AIUiDokhXLNFeJEkgcSqRS4WzzOjLMeePHTMJ1ioCyhvbBCdZGz36ERBRYw6o0lhMUC_yjXyo04DZqAiDy-np20uPGjWSVEs2R7CWJ6aCwoYvLFN6b5HbkhAPDUN0MEucUoMtpA4bu4UF2luzXx-B0b25DLMX6z0kgUWVlh3B_iVIw_1O6gkbT1co8dQAHvWQLES9NPy-9ouQ7Ix5tS1bnw1iwMwOddTNmuZ5bGv9K4C3GMoglGyPPpiUD4lawtH6Eqzha7wIEXTb-tLVcAhpVEneL_TZa_In8vuBMYNISc1lQ6AMtkQjAMqyNMru5b87XqPGZ7_u-IJwnNovrHo6s_HMy_GK0]--></g></svg>
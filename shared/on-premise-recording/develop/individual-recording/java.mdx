<PlatformWrapper platform="linux-java">

To implement individual recording mode, configure the recorder and use the appropriate APIs as follows:

1. Initialize the recorder with [`enableMix`](/on-premise-recording/api-references/agora-media-rtc-recorder#initialize) set to `false`.
2. Subscribe to the audio and video streams of the users you want to record.
3. Join the channel and listen for the [`onUserJoined`](/on-premise-recording/api-references/agora-media-rtc-recorder-eventhandler#onuserjoined) callback to get the `userId` of each remote user.
4. Configure individual recording for each user:
   - Use [`setRecorderConfigByUid`](/on-premise-recording/api-references/agora-media-rtc-recorder#setrecorderconfigbyuid) to define recording options.
   - Optionally, call [`enableAndUpdateVideoWatermarksByUid`](/on-premise-recording/api-references/agora-media-rtc-recorder#enableandupdatevideowatermarksbyuid) to apply watermarks.
5. Start and stop the recording for each user:
   - Call [`startSingleRecordingByUid`](/on-premise-recording/api-references/agora-media-rtc-recorder#startsinglerecordingbyuid) to start recording.
   - Call [`stopSingleRecordingByUid`](/on-premise-recording/api-references/agora-media-rtc-recorder#stopsinglerecordingbyuid) to stop recording.

Refer to the following code to implement these steps:

```java
// Initialize the recorder with individual recording mode enabled
agoraMediaRtcRecorder.initialize(agoraService, false);

// Subscribe to all audio and high-quality video streams
agoraMediaRtcRecorder.subscribeAllAudio();
VideoSubscriptionOptions options = new VideoSubscriptionOptions();
options.setEncodedFrameOnly(false);
options.setType(Constants.VideoStreamType.VIDEO_STREAM_HIGH);
agoraMediaRtcRecorder.subscribeAllVideo(options);

// Join the channel
agoraMediaRtcRecorder.joinChannel(
    recorderConfig.getToken(),
    recorderConfig.getChannelName(),
    recorderConfig.getUserId()
);

// In the onUserJoined callback, configure individual recording for the user
MediaRecorderConfiguration config = new MediaRecorderConfiguration();
config.setFps(recorderConfig.getVideo().getFps());
config.setWidth(recorderConfig.getVideo().getWidth());
config.setHeight(recorderConfig.getVideo().getHeight());
config.setChannelNum(recorderConfig.getAudio().getNumOfChannels());
config.setSampleRate(recorderConfig.getAudio().getSampleRate());

// Set a unique file name based on UID and timestamp
String curTime = getCurrentTimeAsString();
String storagePath = recorderConfig.getRecorderPath() + uid + "_" + curTime + ".mp4";
config.setStoragePath(storagePath);
config.setStreamType(Constants.MediaRecorderStreamType.STREAM_TYPE_BOTH);
config.setMaxDurationMs(recorderConfig.getMaxDuration() * 1000);

// Apply the configuration for the specific UID
agoraMediaRtcRecorder.setRecorderConfigByUid(config, uid);

// Apply a watermark (optional)
agoraMediaRtcRecorder.enableAndUpdateVideoWatermarksByUid(watermarks, uid);

// Start recording for the specific UID
agoraMediaRtcRecorder.startSingleRecordingByUid(uid);

// ...

// Stop recording for the specific UID
agoraMediaRtcRecorder.stopSingleRecordingByUid(uid);
```
</PlatformWrapper>
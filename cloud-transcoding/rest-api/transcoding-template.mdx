---
title: 'Create or update a transcoding template'
sidebar_position: 6
type: docs
platform_selector: false
description: >
   Create or update a transcoding template.
---

import RestAPILayout from '@site/src/components/rest-api/RestAPILayout';
import LeftColumn from '@site/src/components/rest-api/LeftColumn';
import RightColumn, { Section } from '@site/src/components/rest-api/RightColumn';
import ParameterList, { Parameter } from '@site/src/components/rest-api/ParameterList';
import PathParameter from '@site/src/components/rest-api/PathParameter';
import { Tabs, TabItem } from '@site/src/components/rest-api/Tabs';

<RestAPILayout>
  <LeftColumn
    title={frontMatter.title}
    method="POST"
    endpoint="https://api.sd-rtn.com/v1/projects/{appId}/rtls/abr/config/codecs/{codecId}"
  >

Create or update a transcoding template under the specified App ID.

## Request

### Path parameters

<PathParameter name="appid" type="string" required={true}>
The App ID of the project
</PathParameter>

<PathParameter name="codecId " type="string" required={true}>
The ID of the transcoding template. The string length should not exceed 64 bytes. The supported character set is as follows:

- 26 lowercase English letters a-z
- 26 uppercase English letters A-Z
- 10 numbers 0-9
- Space
- `!`, `#`, `$`, `%`, `&`, `(`, `)`, `+`, `-`, `:`, `;`, `<`, `=`, `.`, `>`, `?`, `@`, `[`, `]`, `^`, `_`, `{`, `}`, `|`, `,`

When you enable the multi-bitrate function on the audience side in a channel named `channel` and create a transcoding template with the template ID set to `codecId`, the audience can join a corresponding channel named `channel_codecId`. In this channel, they can subscribe to the multi-bitrate host stream processed by <Vpd k="NAME" /> according to the transcoding template.
</PathParameter>

### Request body

<div class="api-mime-type">APPLICATION/JSON</div>

<ParameterList title="BODY" required={true}>
  <Parameter name="enabled" type="boolean" required={true}>
    Whether to enable this transcoding template:

    - `true`: Enable the template
    - `false`: Do not enable the template
  </Parameter>

  <Parameter name="video" type="object" required={true}>

    <Parameter name="width" type="number">
      **Maximum value**: `1920`

      The width of the transcoded output video (px).
    </Parameter>

    <Parameter name="height" type="number">
      **Maximum value**: `1920`

      The height of the transcoded output video (px).
    </Parameter>

    <Parameter name="fps" type="number">
      **Maximum value**: `60`

      The frame rate (fps) of the transcoded output video.
    </Parameter>
  </Parameter>
</ParameterList>

## Response

- If the returned status code is `200`, the request was successful. The response body contains the result of the request.

    <ParameterList title="OK">
        <Parameter name="status" type="string">
          Status of this request:

          - `success`: The request was successful.
          - `error`: The request failed.
        </Parameter>
    </ParameterList>

- If the returned status code is not `200`, the request failed. The response body includes the `detail` and `reason` for failure. Refer to [status codes](../rest-api/reference#response-status-codes) to understand the possible reasons for failure.

    <ParameterList title="Non-200">
        <Parameter name="status" type="string">
          Status of this request:

          - `success`: The request was successful.
          - `error`: The request failed.
        </Parameter>
        
        <Parameter name="message" type="String">
          Describes why the request failed.
        </Parameter>
    </ParameterList>

## Reference
     
</LeftColumn>

<RightColumn>

<Section title="Authorization">
This endpoint requires [Basic Auth](../rest-api/restful-authentication).
</Section>

<Section title="Request example">

  <Tabs groupId="code-examples">
    <TabItem value="curl" label="curl" default>
      ```bash
      curl --request post \
      --url https://api.sd-rtn.com/v1/projects/:appId/rtls/abr/config/codecs/:codecId \
      --header 'Authorization: Basic <credentials>' \
      --header 'Content-Type: <string>'     
      ```
    </TabItem>
    <TabItem value="python" label="Python">

    ```python
    import requests

    url = "https://api.sd-rtn.com/v1/projects/:appId/rtls/abr/config/codecs/:codecId"

    headers = {
        "Authorization": "Basic <credentials>",
        "Content-Type": "<string>"
    }

    response = requests.request("post", url, headers=headers)

    print(response.text)
    ```
    </TabItem>

    <TabItem value="node" label="Node.js">

    ```js
    const url = 'https://api.sd-rtn.com/v1/projects/:appId/rtls/abr/config/codecs/:codecId';
    const options = {
      method: 'post',
      headers: {Authorization: 'Basic <credentials>', 'Content-Type': '<string>'}
    };

    fetch(url, options)
      .then(res => res.json())
      .then(json => console.log(json))
      .catch(err => console.error(err)); 
    ```
    </TabItem>
  </Tabs>

</Section>
<Section title="Response example">

<Tabs groupId="response-examples">
  <TabItem value="200" label="200" default>

    ```json
    {
      "status": "Status of this request:\n- `success`: Request was successful.\n- `error`: Request failed.\n"
    }
    ```
  </TabItem>
  <TabItem value="non-200" label="Non-200" default>

    ```json
    {
      "status": "Status of this request:\n- `success`: Request was successful.\n- `error`: Request failed.\n",
      "message": "Description of the reason for the request failure."
    }
    ```
  </TabItem>
</Tabs>

</Section>
</RightColumn>
</RestAPILayout>
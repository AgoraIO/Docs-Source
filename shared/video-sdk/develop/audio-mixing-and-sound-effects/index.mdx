import ProjectImplement from '@docs/shared/video-sdk/develop/audio-mixing-and-sound-effects/project-implementation/index.mdx';
import Reference from '@docs/shared/video-sdk/develop/audio-mixing-and-sound-effects/reference/index.mdx';
import NotAvailable from '@docs/shared/common/not-available.mdx';

<Vpd k="SDK" /> makes it simple for you to publish audio captured through the microphone to subscribers in a channel. In some real-time audio and video use-cases, such as games or karaoke, you need to play sound effects or mix in music files to enhance the atmosphere and add interest. <Vpd k="SDK" /> enables you to add sound effects and mix in pre-recorded audio.

<PlatformWrapper platform="web">
In Agora Web SDK, if you publish multiple local audio tracks, the SDK automatically mixes these audios. To achieve the effect of mixing audio files with voice, create and publish multiple local audio tracks.

Try out the [online demo](https://webdemo-global.agora.io/index.html) for [Audio effects and music files](https://webdemo-global.agora.io/example/advanced/audioMixingAndAudioEffect/index.html).
</PlatformWrapper>

<PlatformWrapper platform="android, ios, macos, web, windows, electron, react-native, unity">
This page shows you how to implement audio mixing and playing sound effects in your <Vpl k="CLIENT" />.

## Understand the tech

<Vpd k="SDK" /> provides APIs that enable you to implement:

    * **Audio mixing**
    
        Mix in music file such as background music with microphone audio. Using this feature, you can play only one file at a time.
 
    * **Sound effects**
        
        Play audios with a short duration. For example, applause, cheers, or gunshots. You can play multiple sound effects at the same time.

## Prerequisites

Ensure that you have: 

* Implemented the [SDK quickstart](/realtime-communication/get-started/get-started-sdk) in your project.

<PlatformWrapper platform="android">
* Audio files in one of the [supported formats](https://developer.android.com/media/platform/supported-formats).

* Added the required permission to your project

    If your project's `targetSdkVersion` is greater than 20, add the following code to the `AndroidManifest.xml` file:
        ```xml
        <application>
            <!-- Other application settings -->
            android:usesCleartextTraffic="true"
            android:requestLegacyExternalStorage="true"
        </application>
        ```
</PlatformWrapper>
<PlatformWrapper platform="ios">
* Audio files in one of the [supported formats](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW28).
</PlatformWrapper>
<PlatformWrapper platform="macos">
* Audio files in one of the [supported formats](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW28).
</PlatformWrapper>
<PlatformWrapper platform="windows">
* Audio files in one of the [supported formats](https://learn.microsoft.com/zh-cn/windows/win32/medfound/supported-media-formats-in-media-foundation).
</PlatformWrapper>
<PlatformWrapper platform="electron">
* Audio files in one of the formats supported by the target development platform:
    * [macOS](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW28)
    * [Windows](https://learn.microsoft.com/zh-cn/windows/win32/medfound/supported-media-formats-in-media-foundation)
</PlatformWrapper>
<PlatformWrapper platform="react-native">
* Audio files in one of the formats supported by the target development platform:
    * [Android](https://developer.android.com/media/platform/supported-formats)
    * [iOS](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/MultimediaPG/UsingAudio/UsingAudio.html#//apple_ref/doc/uid/TP40009767-CH2-SW28)
</PlatformWrapper>
<PlatformWrapper platform="unity">
* Set a valid path to the music or sound effect file to be played.
</PlatformWrapper>

<PlatformWrapper notAllowed="web">
## Play sound effects and music

This section shows you how to implement playing sound effects and add audio mixing in your <Vpl k="CLIENT"/>.
</PlatformWrapper>

<ProjectImplement/>

<PlatformWrapper notAllowed="unity">
<Admonition type="caution">
If you play a short sound effect file using `startAudioMixing`, or a long music file using `playEffect`, the playback may fail.
</Admonition>
</PlatformWrapper>

<PlatformWrapper platform="unity">
<Admonition type="caution">
If you play a short sound effect file using `StartAudioMixing`, or a long music file using `PlayEffect`, the playback may fail.
</Admonition>
</PlatformWrapper>

## Reference

This section contains content that completes the information on this page, or points you to documentation that explains other aspects to this product.

<Reference />

</PlatformWrapper>

<PlatformWrapper platform="flutter, react-js, unreal, blueprint">
<NotAvailable />
</PlatformWrapper>
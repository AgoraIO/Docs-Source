---
title: 'Configure Twilio'
sidebar_position: 1
platform_selector: false
description: >
 Get started with Agora's PSTN and SIP Gateway to connect phone calls to your Agora channels.
---

This page guides you through Configuring your Twilio account to work with the <Vpd k="NAME" /> inbound and outbound calling APIs.

## Prerequisites

Before proceeding, ensure that you have:

- An active Twilio account with SIP trunking enabled
- An Agora App ID provisioned for PSTN and SIP Gateway service
- An authorization header for Agora API requests

## Inbound configuration

Configure Twilio to route calls from your phone numbers to Agora channels using SIP trunking.

1. Log in to [Twilio console](https://console.twilio.com/).
1. In the sidebar, navigate to **Develop > Elastic SIP Trunking > Manage > Trunks**.
1. Click **Create a new SIP Trunk** or select **Agora** from the list if previously created.
1.  Configure Origination

    1. Select **Origination** from the sidebar menu.
    1. Click **`+`** to open **Add Origination URL**.
    1. In the **Origination SIP URI** box, enter the [Agora inbound IP](../develop/gateway-ip#inbound-ips):
        ```
        sip:52.3.185.227:5080
        ```
1. Set the **Priority** to `1` and click **Add**.
1. Click **`+`** to add a backup origination URL.
1. Add the secondary Agora IP address with priority `2`. Click **Add**.
1. Configure phone number routing
    1. From the left sidebar, navigate to **Numbers**.
    1. Click on **Add an Existing Number** or **Buy a number** to purchase a new one.
    1. In the phone number configuration page, scroll to the **Voice Configuration** section.
    1. Set **Configure with** to **SIP Trunk**.
    1. Select your Agora SIP trunk from the dropdown.
    1. Click **Save configuration**.

<iframe
  src="https://drive.google.com/file/d/1SabKyRCZwksGs4Hqqxp8L9tIevZ5s0UA/preview"
  width="640"
  height="360"
  allow="autoplay"
></iframe>

## Outbound configuration

Set up Twilio to receive outbound calls from Agora's PSTN Gateway for routing to phone numbers.

1. Log in to [Twilio console](https://console.twilio.com/).
1. In the sidebar, navigate to **Develop > Elastic SIP Trunking > Manage > Trunks**.
1. Click **Create a new SIP Trunk**.
1. Type in a **Friendly Name** such as "Agora" and click **Create**.
1. Click **Save**.
1. From the sidebar, select **Agora > Termination** and click the **`+`** button under **IP Access Control Lists**.
1. In the **New Access Control List**, enter an IP address from the [Outbound IPs](../develop/gateway-ip#outbound-ips) list. For example:
   ```
   52.3.185.227
   ```
1. Select `/32` for the subnet and click **Create ACL**.
1. Navigate to **Develop > Elastic SIP Trunking > Manage > IP access control lists**, select "agora" and click **Add IP address range** to add other [Outbound IPs](../develop/gateway-ip#outbound-ips).
1. Navigate to **Agora > Termination** and in the **Termination SIP URI** field, enter a unique identifier before `.pstn.twilio.com`. For example:
   ```
   random222
   ```
   This creates the SIP URI: `random222.pstn.twilio.com`
1. From the **IP Access Control Lists** dropdown, select "agora".
1. Click **Save**. Use the complete SIP URI `sip:random222.pstn.twilio.com:5060` as the `sip` parameter in your [Outbound PSTN API](../rest-api/outbound-pstn) requests.


<iframe
 src="https://drive.google.com/file/d/18XvvCLDhPkhbTJB1YC1JCjP5z9ZTWx06/preview"
 width="640"
 height="360"
 allow="autoplay"
></iframe>
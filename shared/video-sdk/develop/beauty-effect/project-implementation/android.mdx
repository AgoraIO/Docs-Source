<PlatformWrapper platform="android">

### Beautiful

#### Achieve preset beauty effects

The `setFaceShapeBeautyOptions` method is the master switch of the beauty effect. Call this method and pass `true` in the `enable` parameter to turn on the beauty effect. You can specify the beauty style and style strength in `FaceShapeBeautyOptions` and use the preset parameters to quickly achieve the beauty effect.

```java
import io.agora.rtc2.video.FaceShapeBeautyOptions;

FaceShapeBeautyOptions beautyOptions = new FaceShapeBeautyOptions();
// Set the beauty style type to male
beautyOptions.shapeStyle = FaceShapeBeautyOptions.FACE_SHAPE_BEAUTY_STYLE_MALE;
// Set the style intensity
beautyOptions.styleIntensity = 100;
mRtcEngine.setFaceShapeBeautyOptions(true, beautyOptions);
```

#### Fine-tune individual parts

After turning on the beautify function, you can call the `setFaceShapeAreaOptions` method to fine-tune each area of the face individually. This method takes effect immediately when adjusting the modification strength of a single part, and does not modify the preset value.

```java
import io.agora.rtc2.video.FaceShapeAreaOptions;
 
FaceShapeAreaOptions areaOptions = new FaceShapeAreaOptions();
// Specify a fine-tuned part, e.g. head size
areaOptions.shapeArea = FaceShapeAreaOptions.FACE_SHAPE_AREA_HEADSCALE;
// Strength of adjustments in this area
areaOptions.shapeIntensity = 100;
mRtcEngine.setFaceShapeAreaOptions(areaOptions);
```

#### Close Beauty

Call the `setFaceShapeEffectOptions` method and pass `false` in the `enable` parameter to turn off the beauty effect.

```java
mRtcEngine.setFaceShapeBeautyOptions(false, beautyOptions);
```

### Beauty care

#### Start beauty

Call the `setExtensionProperty` method to enable the beauty effect and fill in the parameters as follows:

    - `provider`: `agora_video_filters_clear_vision`
    - `extension`: `clear_vision`
    - `key`: `makeup_options`
    - `value`: Packaged in JSON format where different fields correspond to different beauty effects.
    - `sourceType`: Only the following settings are supported:
        - When using camera to collect data, keep the default value **PRIMARY_CAMERA_SOURCE**.
        - In the self-collection scenario, it is set to **CUSTOM_VIDEO_SOURCE**.

Refer to the following code to enable the beauty effect:

```java
// Create a JSON for configuring beauty effects
public class MpOptions {
    public static final String TAG = "MpOptions"; 
    public boolean enable_mu;
    public int browStyle;
    public int browColor;
    public float browStrength;
    public int lashStyle;
    public int lashColor;
    public float lashStrength;
    public int shadowStyle;
    public float shadowStrength;
    public int pupilStyle;
    public float pupilStrength;
    public int blushStyle;
    public int blushColor;
    public float blushStrength;
    public int lipStyle;
    public int lipColor;
    public float lipStrength;
 
    public MpOptions() {
        this.enable_mu = false;
        this.browStyle = 0;
        this.browColor = 0;
        this.browStrength = 0.5f;
        this.lashStyle = 0;
        this.lashColor = 0;
        this.lashStrength = 0.5f;
        this.shadowStyle = 0;
        this.shadowStrength = 0.5f;
        this.pupilStyle = 0;
        this.pupilStrength = 0.5f;
        this.blushStyle = 0;
        this.blushColor = 0;
        this.blushStrength = 0.5f;
        this.lipStyle = 0;
        this.lipColor = 0;
        this.lipStrength = 0.5f;
    }
 
    public String toJson() {
        String json = "{}";
        JSONObject jsonObject = new JSONObject();
 
        try {
            Field[] fields = MpOptions.class.getDeclaredFields();
            for (Field field : fields) {
                field.setAccessible(true);
                String name = field.getName();
                Object value = field.get(this);
                jsonObject.put(name, value);
            }
        } catch (Exception e) {
            Log.e(TAG, "toJson: error:" + e.getMessage());
        }
        json = jsonObject.toString();
        Log.d(TAG, "toJson: " + json);
        return json;
    }
}

// Set beauty effect options
MpOptions makeUpOptions = new MpOptions();
makeUpOptions.enable_mu = true;
makeUpOptions.lashStyle = 1;
makeUpOptions.lashColor = 2;
makeUpOptions.lashStrength = 0.5f;
// Turn on the beauty effect
mRtcEngine.setExtensionProperty("agora_video_filters_clear_vision", "clear_vision", "makeup_options", makeUpOptions.toJson(), Constants.MediaSourceType.PRIMARY_CAMERA_SOURCE);
```

#### Modify beauty effect options

After modifying the value of the beauty effect field in JSON, call the `setExtensionProperty` method to modify the beauty effect options. Refer to the following code to modify the beauty effect:

```java
MpOptions makeUpOptions = new MpOptions();
// Modify the strength of eyebrow grooming
makeUpOptions.lashStrength = 0.8f;
mRtcEngine.setExtensionProperty("agora_video_filters_clear_vision", "clear_vision", "makeup_options", makeUpOptions.toJson(), Constants.MediaSourceType.PRIMARY_CAMERA_SOURCE);
```

#### Turn off beauty effects

Specify the `enable_mu` node as `false` in the JSON and call the `setExtensionProperty` method to turn off the beauty effect:

```java
MpOptions makeUpOptions = new MpOptions();
makeUpOptions.enable_mu = false;
mRtcEngine.setExtensionProperty("agora_video_filters_clear_vision", "clear_vision", "makeup_options", makeUpOptions.toJson(), Constants.MediaSourceType.PRIMARY_CAMERA_SOURCE);
```

</PlatformWrapper>
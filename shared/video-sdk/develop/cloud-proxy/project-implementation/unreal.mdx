<PlatformWrapper platform="unreal">
1.  **Set <Vpd k="SDK" /> to connect to <Vg k="CP"/> before you join a channel**

    To access <Vg k="AGORA_BACKEND" /> in a restricted network environment, call `setCloudProxy` and pass `NONE_PROXY` to select the automatic mode for transmission. The `setCloudProxy` method returns `0` upon
    successful initiation of cloud proxy service.

    To enable the <Vg k="CP"/> service in your <Vpl k="CLIENT" />, in `MyUserWidget.cpp`, locate `setupVideoSDKEngine` and add the following code after `agoraEngine->initialize(context);`:

    ``` cpp
    agoraEngine->setCloudProxy(CLOUD_PROXY_TYPE::NONE_PROXY);
    ```

1. **Learn when your app is connected to the proxy server**
    
    When the <Vpl k="CLIENT"/> connects to the proxy server, the Video SDK triggers the onProxyConnected event to report the proxy type and proxy server IP address. To add this callback, follow these steps:

        1. Override the onProxyConnected function. In MyUserWidget.h, add the following declaration after void OnJoinButtonClick();:
            
            ```cpp
            void onProxyConnected(const char* channel, uid_t uid, PROXY_TYPE proxyType, const char* localProxyIp, int elapsed);
            ```

        1. Provide a definition for the callback. In `MyUserWidget.cpp`, add the following code:

            ```cpp
            void UMyUserWidget::onProxyConnected(const char* channel, uid_t uid, PROXY_TYPE proxyType, const char* localProxyIp, int elapsed)
            {
                UE_LOG(LogTemp, Warning, TEXT("Connected to the proxy server"));
            }
            ```

</PlatformWrapper>

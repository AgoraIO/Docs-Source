
<PlatformWrapper platform="ios, macos">
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

In a user channel, you send a point-to-point message to a specified user by calling the `publish` method. Set the `channelType` parameter to `user` and the `channelName` parameter to the user ID of the specified user. This method enables you to send messages to one user at a time. While <Vg k="SIG" /> does not limit the number of users you can send messages to or receive messages from, it does [limit](../reference/limitations#message-channel) the frequency at which you can send messages to users.

Refer to the following sample code for sending messages:

- String message

    <Tabs groupId="language">
    <TabItem value="swift" label="Swift" default>
    <CodeBlock language="swift" showLineNumbers>
    {`let message = "Hello Agora!"
    let user = "Tony"

    let publishOption = AgoraRtmPublishOptions()
    publishOption.channelType = .user

    rtm.publish(channelName: user, message: message, option: publishOption, completion: { res, error in
        if error != nil {
            print("\\(error?.operation) failed! error reason is \\(error?.reason)")
        } else {
            print("success")
        }
    })`}
    </CodeBlock>
    </TabItem>
    <TabItem value="objc" label="Objective-C">
    <CodeBlock language="objc" showLineNumbers>
    {`// Send string message
    NSString* message = @"Hello Agora!";
    NSString* user = @"Tony";

    AgoraRtmPublishOptions* publish_option = [[AgoraRtmPublishOptions alloc] init];
    publish_option.channelType = AgoraRtmChannelTypeUser;

    [rtm publish:user message:message option:publish_option completion:^(AgoraRtmCommonResponse * _Nullable response, AgoraRtmErrorInfo * _Nullable errorInfo) {
        if (errorInfo == nil) {
            NSLog(@"publish success!!");
        } else {
            NSLog(@"publish failed, errorCode %d, reason %@", errorInfo.errorCode, errorInfo.reason);
        }
    }];`}
    </CodeBlock>
    </TabItem>
    </Tabs>

    
- Binary message

    <Tabs groupId="language">
    <TabItem value="swift" label="Swift" default>
    <CodeBlock language="swift" showLineNumbers>
    {`let bytes: [UInt8] = [ /* your raw values */ ]
    let rawMessage = Data(bytes: bytes, count: bytes.count)

    streamChannel.publish(channelName: user, data: rawMessage, option: nil) { response, errorInfo in
        if errorInfo == nil {
            print("publish success!!")
        } else {
            print("publish failed, errorCode \\(errorInfo!.errorCode), reason \\(errorInfo!.reason)")
        }
    }`}
    </CodeBlock>
    </TabItem>
    <TabItem value="objc" label="Objective-C">
    <CodeBlock language="objc" showLineNumbers>
    {`// Send string message
    NSString* message = @"Hello Agora!";
    NSString* user = @"Tony";

    AgoraRtmPublishOptions* publish_option = [[AgoraRtmPublishOptions alloc] init];
    publish_option.channelType = AgoraRtmChannelTypeUser;

    [rtm publish:user message:message option:publish_option completion:^(AgoraRtmCommonResponse * _Nullable response, AgoraRtmErrorInfo * _Nullable errorInfo) {
        if (errorInfo == nil) {
            NSLog(@"publish success!!");
        } else {
            NSLog(@"publish failed, errorCode %d, reason %@", errorInfo.errorCode, errorInfo.reason);
        }
    }];`}
    </CodeBlock>
    </TabItem>
    </Tabs>

</PlatformWrapper>
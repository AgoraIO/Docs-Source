### Key Features 

- Seamless Integration.
    - Integrate directly through an HTML `<script>` tag or through npm using:

        ```js
        import `VirtualBackgroundExtension` from "agora-extension-virtual-background" 
        ```
    - Works within Agora WebRTC video processing pipelines.


- Support for multiple background types.
    - **Blurred Background**: Users can blur their actual background with low, medium, or high blur intensity.
    - **Image Background**: Allows replacing the background with an image (`HTMLImageElement`).
    - **Video Background**: Supports setting a video as the virtual background.
    - **Solid Color Background**: Allows setting a solid color as the background.
 
### Browser Support & Limitations

- **Safari & Firefox – Limited Support**

    While the virtual background feature may work on Safari and Firefox, it is not officially supported due to performance limitations. Safari users may experience reduced performance due to browser-specific constraints, while Firefox users may encounter video freezing when minimizing the browser or switching tabs. For optimal performance and reliability, we recommend using the latest version of Chrome on desktop.

- **Mobile Browsers - Not optimal**

    The virtual background feature requires significant CPU and GPU processing power, which exceeds the capabilities of most mobile devices. Due to these hardware-intensive requirements, performance on mobile browsers is inconsistent and varies across devices.

### v2.0.0

v2.0.0 was released on December 18, 2024.

This release upgrades the extension algorithm to version 2.0.0. [Virtual Background 2.0.0](https://www.npmjs.com/package/agora-extension-virtual-background/v/2.0.0) provides a more distinct face edge and clearer and more stable video images.

#### New Features

- Support for VP9 codec, which provides better video compression and quality.

#### Improvements

- Dynamic background switching. Users can change backgrounds without restarting the video stream.
- Ability to disable/re-enable virtual backgrounds dynamically.
- Processor optimization for better real-time segmentation.

<Admonition type="info" title="Upgra">

- Version 2 is recommended for:
 

High-end Devices:

- Apple M1/M2 devices
- Latest iPhones (A13 Bionic and newer)
- Premium Android devices (Snapdragon 865 or equivalent)

Suitable for use cases requiring:

- Superior portrait edge detection
- Complex background handling
- Premium video quality

Users prioritizing quality over frame rate
 

- Version 1.3 Recommended For:
 

General Use Cases:

- Mid-range devices
- Standard video conferencing needs
- Scenarios requiring:

- Higher FPS
- Lower resource consumption
- Consistent performance

Users prioritizing smooth performance over edge precision

 

Implementation Guidelines:
·         For Premium Applications:

Implement device detection
Offer AHM 2.0 for capable devices
Default to AHM 1.3 for others
 

·         For General Applications:

Default to AHM 1.3

Optionally allow user upgrade to 2.0 with performance warning


### v1.2.0

v1.2.0 was released on December 10, 2023.

#### Compatibility changes

As of this version, the Virtual Background extension incorporates the necessary Wasm module. You no longer need to publish the Wasm file separately, and pass the `wasmDir` parameter when calling the `init` method to initialize the extension.

After upgrading to this version, please modify your code accordingly.

#### Improvements

This release upgrades the background segmentation algorithm of the extension, optimizing the segmentation effects on the subject, edges, and fingers in complex static and dynamic backgrounds.

#### Fixed issues

This release fixed the issue that  `checkCompatibility` could return inaccurate results on specific devices.

#### API changes

The `wasmDir` parameter of the `init` method is now optional.

### v1.1.3

#### Fixed issues

This release fixes the occasional issue of jagged background images on Chrome for Android.

### v1.1.2

#### New features

You can now specify the `fit`  property when calling `setOptions`. This sets how the background is resized to fit the container. For API details, see [Virtual background](/interactive-live-streaming/advanced/virtual-background).

#### Compatibility changes

Virtual Background supports Agora Video SDK for Web v4.15.0 or later.

### v1.1.1

#### New features

You can now call `checkCompatibility` and test if AI Noise Suppression extension is supported on the current browser. For API details, see [Virtual background](/interactive-live-streaming/advanced/virtual-background).

#### Fixed issues

A black bar is no longer displayed to the left of the virtual background.

### v1.1.0

#### New features

You can create multiple `VirtualBackgroundProcessor` instances to process multiple video streams.

### v1.0.0

First release.
<PlatformWrapper platform="android">

### Add a reaction

Call `asyncAddReaction` to add a reaction to the specified message. In a one-to-one conversation, the peer user receives the `onReactionChanged` event. In a group conversation, other group members than the operator receive this event. This event contains the conversation ID, message ID, reaction list of the message, and reaction operation list (ID of the new reaction, user ID of the user that adds the reaction, and the addition operation).

For a reaction, a user can add only once, or the error 1301 is reported for repeated addition.

```java
// Add a reaction
ChatClient.getInstance().chatManager().asyncAddReaction(message.getMsgId(), reaction, new CallBack() {
            @Override
            public void onSuccess() {
                
            }
            @Override
            public void onError(int error, String errorMsg) {
              
            }
            @Override
            public void onProgress(int i, String s) {
            }
        });
// Listen for the state of the reaction.
public class MyClass implements MessageListener {
    private void init() {
        ChatClient.getInstance().chatManager().addMessageListener(this);
    }
    @Override
    public void onReactionChanged(List<MessageReactionChange> list) {
       
    }
}
```

### Remove a reaction

Call `asyncRemoveReaction` to remove the specified reaction. In a one-to-one conversation, the peer user receives the `onReactionChanged` event. In a group conversation, other group members than the operator receive this event. This event contains the conversation ID, message ID, reaction list of the message, and reaction operation list (ID of the removed reaction, user ID of the user that removes the reaction, and the removal operation).

```java
// Remove the reaction.
ChatClient.getInstance().chatManager().asyncRemoveReaction(message.getMsgId(), reaction, new CallBack() {
            @Override
            public void onSuccess() {
               
            }
            @Override
            public void onError(int error, String errorMsg) {
                
            }
            @Override
            public void onProgress(int i, String s) {
            }
        });
// Listen for reaction state change.
public class MyClass implements MessageListener {
    private void init() {
        ChatClient.getInstance().chatManager().addMessageListener(this);
    }
    @Override
    public void onReactionChanged(List<MessageReactionChange> list) {
      
    }
}
```

### Retrieve a list of reactions

Call `asyncGetReactionList` to retrieve a list of reactions of messages from the server. This method also returns the basic information of the reactions, including the content of the reaction, the number of users that added or removed the reaction, and a list of the first three user IDs that added or removed the reaction.

```java
ChatClient.getInstance().chatManager().asyncGetReactionList(msgIdList, ChatMessage.ChatType.Chat, groupId, new ValueCallBack<Map<String, List<MessageReaction>>>() {
            @Override
            public void onSuccess(Map<String, List<MessageReaction>> stringListMap) {
            
            }
            @Override
            public void onError(int i, String s) {
               
            }
   });
```

### Retrieve the details of the reaction

Call `asyncGetReactionDetail` to get the detailed information of the reaction from the server. The detailed information includes the reaction content, the number of users that added or removed the reaction, and the complete list of user IDs that added or removed the reaction.

```java
ChatClient.getInstance().chatManager().asyncGetReactionDetail(mMsgId, emojiconId, pageCurosr, 30, new ValueCallBack<CursorResult<MessageReaction>>() {
                    @Override
                    public void onSuccess(CursorResult<MessageReaction> messageReactionCursorResult) {
                        
                    }
                    @Override
                    public void onError(int i, String s) {
			
                    }
                });
```

</PlatformWrapper>
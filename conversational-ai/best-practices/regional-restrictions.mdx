---
title: Regional access restrictions
sidebar_position: 2
platform_selector: false
description: >
   Restrict access to Agora servers in a designated region, regardless of the user's location.
---

import ParameterList, { Parameter } from '@site/src/components/rest-api/ParameterList';

To comply with laws and regulations in different countries and regions, the <Vpd k="NAME" /> supports regional access restrictions. When you enable regional access restrictions, the <Vpd k="NAME" /> only accesses Agora servers in the designated region, regardless of the user's location.

For example, if you specify North America as the access region, two users who initiate calls from North America and China have different experiences:

| Specified access region | User location | Actual access region | User experience |
|:-------||:-------|:-------|:-------|
| North America | North America | North America | Normal quality |
| North America | Singapore     | North America | Quality may be significantly impacted. Cross-regional public internet connections between the designated region and the user's location can result in poor network quality. If all servers in the specified region are unavailable, the service returns an error. |

## Understand the tech

When regional access restrictions are disabled, the <Vpd k="NAME" /> automatically selects the nearest server to deploy the agent based on the IP address of the LLM URL and supports failover:

1. **Intelligent deployment**: The system automatically deploys the <Vpd k="NAME" /> service in the region that corresponds to the IP address of the configured LLM URL.
1. **Nearest available region**: If no server is available in the corresponding region, the system automatically selects the nearest available region.
1. **Failover**: When a service becomes unavailable in a region, the system automatically switches to another available region.

<Admonition type="caution">
When you enable regional access restrictions, the system strictly limits access to the specified region and does not perform cross-regional failover.
</Admonition>

## Implementation

### Configure regional access

To configure region access restrictions, set `properties.geofence` when you [Start a conversational AI agent](/conversational-ai/rest-api/agent/join).

<ParameterList title="properties.geofence">
  <Parameter name="area" type="string" required={true} possibleValues="GLOBAL, NORTH_AMERICA, EUROPE, ASIA, INDIA, JAPAN">
    The allowed region for server access.
  </Parameter>
  <Parameter name="exclude_area" type="string" required={false} possibleValues="NORTH_AMERICA, EUROPE, ASIA, INDIA, JAPAN">
    The excluded region. Only available when `area` is set to `GLOBAL`.
  </Parameter>
</ParameterList>

### Configuration examples

Refer to the following examples to understand `geofence` configuration:

- Restrict access to North America only

    ```json
    {
      "name": "customer_service",
      "properties": {
        "channel": "test_channel",
        "token": "your_rtc_token",
        "agent_rtc_uid": "123",
        "remote_rtc_uids": ["456"],
        "geofence": {
          "area": "NORTH_AMERICA"
        },
        "llm": {
          // ... LLM configuration
        },
        "tts": {
          // ... TTS configuration
        }
      }
    }
    ```

- Global access but excluding India

    ```json
    {
      "name": "customer_service",
      "properties": {
        "channel": "test_channel",
        "token": "your_rtc_token",
        "agent_rtc_uid": "123",
        "remote_rtc_uids": ["456"],
        "geofence": {
          "area": "GLOBAL",
          "exclude_area": "INDIA"
        },
        "llm": {
          // ... LLM configuration
        },
        "tts": {
          // ... TTS configuration
        }
      }
    }
    ```

### Configure RTC regional access 

The <Vpd k="NAME" /> and Agora RTC services are independent, and their regional access restriction configurations are separate. To implement complete end-to-end regional access restrictions and ensure that the entire call link with the agent is confined to a specified region, you must also configure RTC regional access restrictions. For more information, see [Restrict media zones](/video-calling/advanced-features/geofencing).


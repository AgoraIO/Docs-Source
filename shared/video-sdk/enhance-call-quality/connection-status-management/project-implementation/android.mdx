<PlatformWrapper platform="android">

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

When the connection state changes, <Vpd k="SDK" /> sends an `onConnectionStateChanged` callback. This section shows you how to use the `onConnectionStateChanged` callback to monitor changes in the connection state.

Use the following code in your `IRtcEngineEventHandler` to log the connection state changes and the reason for the state change.

<Tabs groupId="language">  
<TabItem value="java" label="Java">  
<CodeBlock language="java" showLineNumbers>  
{`public void onConnectionStateChanged(int state, int reason) {
    super.onConnectionStateChanged(state, reason);
    Log.i(TAG, "onConnectionStateChanged->" + ", state->" + state 
        + ", reason->" + reason);
}`}  
</CodeBlock>  
</TabItem>  

<TabItem value="kotlin" label="Kotlin" default>  
<CodeBlock language="kotlin" showLineNumbers>  
{`override fun onConnectionStateChanged(state: Int, reason: Int) {
    super.onConnectionStateChanged(state, reason)
    Log.i(TAG, "onConnectionStateChanged->, state->$state, reason->$reason")
}`}  
</CodeBlock>  
</TabItem>  
</Tabs>

The `state` parameter in `onConnectionStateChanged` reports the current connection state. The `reason` parameter indicates why the connection state changed to help you troubleshoot your network. See [State description and troubleshooting](#state-description-and-troubleshooting).

</PlatformWrapper>
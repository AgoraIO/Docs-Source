This method gets the list of all users in a specified channel.

The return list differs with the channel profile as follows:

- In `COMMUNICATION` profile, this API returns the list of all users in the channel.
- In `LIVE_BROADCASTING` profile, this API returns the list of all hosts and audience members in the channel.

<div><ul><li>Users in a channel must use the same channel profile; otherwise, the query results may be inaccurate.</li>
<li>You can synchronize the online channel statistics either by calling this API or by calling the <a href="#userstatus">Gets the user status</a> API. Compared with the <a href="#userstatus">Gets the user status</a> API, this API requires a lower call frequency and has a higher query efficiency. Therefore, Agora recommends using this API to query online channel statistics.</li></ul></div>.   

### Prototype

- Method: `GET`
- Endpoint: `https://api.agora.io/dev/v1/channel/user/{appid}/{channelName}`

### Request parameters

**Path parameters**

Pass the following path parameters in the request URL:

| Parameter     | Type   | Required/Optional | Description                                                  |
| :------ | :-----  |:----- | :---------------------- |
| `appid` | String | Required |The App ID of the project. You can get it through one of the following methods:<li>Copy from the <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link>.</li><li> Call the [Get all projects](/interactive-live-streaming/reference/agora-console-rest-api#get-all-projects) API, and read the value of the `vendor_key` field in the response body.</li>|
| `channelName` | String | Required | The channel name. |

### Response parameters

For details about possible response status codes, see the [Response status codes](#responsecode) table.

If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure.

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

| Parameter | Type    | Description                                                  |
| :-------- | :------ | :----------------------------------------------------------- |
| `success` | Boolean | The state of this request:<li>`true`: Success.</li><li>`false`: Reserved for future use.</li> |
| `data`    | Object  | User information, including the following fields: <ul><li>`channel_exist`: Boolean. Whether the specified channel exists:<ul><li>`true`: The channel exists.</li><li>`false`: The channel does not exist.</li></ul>**Note**: All other fields are not returned when the value of `channel_exist` is `false`.</li><li>`mode`: Number. The channel profile:<ul><li>`1`：The `COMMUNICATION` profile.</li><li>`2`: The `LIVE_BROADCASTING` profile.</li></ul></li><li>`total`: Number. The total number of the users in the channel. This field is returned only when `mode` is `1`.</li><li>`users`: Array. User IDs of all users in the channel. This field is returned only when `mode` is `1`.</li><li>`broadcasters`：Array. User IDs of all hosts in the channel. This field is returned only when `mode` is `2`.</li><li>`audience`: Array. User IDs of the first 10,000 audience members in the channel. This field is returned only when `mode` is `2`.</li><li>`audience_total`: Number. The total number of audience members in the channel. This field is returned only when `mode` is `2`.</li></ul> |

### Response example

The following is a response example for a successful request:

**In `COMMUNICATION` profile**

```json
{
  "success": true,
  "data": {
    "channel_exist": true,
    "mode": 1,
    "total": 1,
    "users": [
      906218805
    ]
  }
}
```

**In `LIVE_BROADCASTING` profile**

```json
{
    "success": true,
    "data": {
        "channel_exist": true,
        "mode": 2,
        "broadcasters": [
            2206227541,
            2845863044
        ],
        "audience": [
            906219905
        ],
        "audience_total": 1
    }
}
```

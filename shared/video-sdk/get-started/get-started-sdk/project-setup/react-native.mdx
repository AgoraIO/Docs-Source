import CodeBlock from '@theme/CodeBlock';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<PlatformWrapper platform="react-native">

### Create a project

To create a new application using [React Native Community CLI](https://github.com/react-native-community/cli), see [Get Started Without a Framework](https://reactnative.dev/docs/getting-started-without-a-framework).

### Integrate the SDK

This section show you how to integrate the Agora React Native SDK in React Native 0.60 or above.

1. Choose either of the following methods to download and integrate <Vg k="COMPANY" /> <Vpd k="SDK"/> into your project.

    * **npm**

        ```bash
        npm i --save react-native-agora
        ```

    * **yarn**

        ```bash
        # Install yarn
        npm install -g yarn
        
        # Use yarn to download Agora React Native SDK
        yarn add react-native-agora
        ```

    <Admonition type="info" title="Information">React Native 0.60.0 and later support automatic linking of native modules. Manual linking is not recommended. See [Autolinking](https://github.com/react-native-community/cli/blob/master/docs/autolinking.md) for details</Admonition>

### Create a user interface
<ProductWrapper notAllowed="voice-calling">
Design a user interface for your project based on your application use-case. A basic interface consists of two view frames to display local and remote videos. Add **Join channel** and **Leave channel** buttons to enable the user to join and leave a channel. To create such an interface, refer to the following code:
</ProductWrapper>
<ProductWrapper product="voice-calling">
Design a user interface for your project based on your application use-case. Add **Join channel** and **Leave channel** buttons to enable the user to join and leave a channel. To create such an interface, refer to the following code:

</ProductWrapper>
<details>
<summary>Sample code to create the user interface</summary>
<ProductWrapper notAllowed="voice-calling">

<CodeBlock language="jsx" showLineNumbers>
{`import React, { useState } from 'react';

// Import user interface elements
import {
    SafeAreaView,
    ScrollView,
    StyleSheet,
    Text,
    View,
    Switch,
} from 'react-native';

const localUid = 0; // Local user Uid, no need to modify

const App = () => {
    const [isJoined, setIsJoined] = useState(false); // Whether the local user has joined the channel
    const [isHost, setIsHost] = useState(true); // User role
    const [remoteUid, setRemoteUid] = useState(0); // Uid of the remote user
    const [message, setMessage] = useState(''); // User prompt message

    // Render user interface
    return (
        <SafeAreaView style={styles.main}>
            <Text style={styles.head}>Agora Video SDK Quickstart</Text>
            <View style={styles.btnContainer}>
                <Text onPress={join} style={styles.button}>
                    Join Channel
                </Text>
                <Text onPress={leave} style={styles.button}>
                    Leave Channel
                </Text>
            </View>
            <View style={styles.btnContainer}>
                <Text>Audience</Text>
                <Switch
                    onValueChange={switchValue => {
                        setIsHost(switchValue);
                        if (isJoined) {
                            leave();
                        }
                    }}
                    value={isHost}
                />
                <Text>Host</Text>
            </View>
            <ScrollView
                style={styles.scroll}
                contentContainerStyle={styles.scrollContainer}>
                {isJoined && isHost ? (
                    <React.Fragment key={localUid}>
                        <Text>Local user uid: {localUid}</Text>
                    </React.Fragment>
                ) : (
                    <Text>Join a channel</Text>
                )}
                {isJoined && remoteUid !== 0 ? (
                    <React.Fragment key={remoteUid}>
                       <Text>Remote user uid: {remoteUid}</Text>
                    </React.Fragment>
                ) : (
                    <Text>{isJoined && !isHost ? 'Waiting for remote user to join' : ''}</Text>
                )}
                <Text style={styles.info}>{message}</Text>
            </ScrollView>
        </SafeAreaView>
    );
};

// Define user interface styles
const styles = StyleSheet.create({
    button: {
        paddingHorizontal: 25,
        paddingVertical: 4,
        fontWeight: 'bold',
        color: '#ffffff',
        backgroundColor: '#0055cc',
        margin: 5,
    },
    main: { flex: 1, alignItems: 'center' },
    scroll: { flex: 1, backgroundColor: '#ddeeff', width: '100%' },
    scrollContainer: { alignItems: 'center' },
    videoView: { width: '90%', height: 200 },
    btnContainer: { flexDirection: 'row', justifyContent: 'center' },
    head: { fontSize: 20 },
    info: { backgroundColor: '#ffffe0', paddingHorizontal: 8, color: '#0000ff' },
});

export default App;`}
</CodeBlock>
</ProductWrapper>

<ProductWrapper product="voice-calling">
<CodeBlock language="swift" showLineNumbers>
{`// Import React Hooks
import React, { useState } from 'react';

// Import user interface elements
import {
    SafeAreaView,
    StyleSheet,
    Text,
    View,
} from 'react-native';

const localUid = 0; // Local user Uid, no need to modify

const App = () => {
    const [isJoined, setIsJoined] = useState(false); // Whether the local user has joined the channel
    const [remoteUid, setRemoteUid] = useState(0); // Uid of the remote user
    const [message, setMessage] = useState(''); // User prompt message

    // Render user interface
    return (
        <SafeAreaView style={styles.main}>
            <Text style={styles.head}>Agora Voice SDK Quickstart</Text>
            <View style={styles.btnContainer}>
                <Text onPress={join} style={styles.button}>
                    Join Channel
                </Text>
                <Text onPress={leave} style={styles.button}>
                    Leave Channel
                </Text>
            </View>
            {isJoined ? (
                <Text>You joined</Text>
            ) : (
                <Text>Join a channel</Text>
            )}
            {isJoined && remoteUid !== 0 ? (
                <Text>{remoteUid} joined</Text>
            ) : (
                <Text>{isJoined ? 'Waiting for remote user to join' : ''}</Text>
            )}
            <View style={styles.messageContainer}>
                <Text style={styles.info}>{message}</Text>
            </View>
            </SafeAreaView>
    );

};

const styles = StyleSheet.create({
    button: {
        paddingHorizontal: 25,
        paddingVertical: 4,
        fontWeight: 'bold',
        color: '#ffffff',
        backgroundColor: '#0055cc',
        margin: 5,
    },
    main: {
        flex: 1,
        alignItems: 'center',
    },
    btnContainer: {
        flexDirection: 'row',
        justifyContent: 'center',
    },
    head: {
        fontSize: 20,
    },
    messageContainer: {
        position: 'absolute',
        bottom: 20,
        left: 0,
        right: 0,
        alignItems: 'center',
    },
    info: {
        backgroundColor: '#ffffe0',
        paddingHorizontal: 8,
        paddingVertical: 4,
        color: '#0000ff',
        textAlign: 'center',
    },
});

export default App;`}
</CodeBlock>
</ProductWrapper>
</details>

</PlatformWrapper>
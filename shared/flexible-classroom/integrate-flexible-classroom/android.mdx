<PlatformWrapper platform="android">

## Understand the tech

The following figure shows the overall technical architecture of <Vg k="FC"/>:

![](https://web-cdn.agora.io/docs-files/1653557375318)

### Module introduction

The source code of <Vg k="FC"/> contains the following packages:

- `app`: (Optional) This module contains code for the classroom login interface and a client-side token generator and shows how to call APIs to join a flexible classroom. This module is an open-source project available on GitHub and for reference only.

<div class="alert note"><li>Specifications defined for the login interface (such as the length requirement of the user name and the room name and character restrictions) do not apply to all apps â€“ make sure to define them according to your business requirements.</li><li>The client-side token generator provided by Agora is only for rapid testing. When your app goes live, to ensure security, you must deploy a server-side token generator and generate tokens on your server. For details, see [Secure authentication with tokens](../../flexible-classroom/develop/authentication-workflow).</li></div>

- `AgoraEduUIKit`: (Optional) This module contains code for the classroom UI. It shows how to call APIs to aggregate and update UI data based on <Vg k="FC"/> APIs and data callbacks. This module is an open-source project available on GitHub. You can develop your classroom UI based on this module.
- `AgoraClassSDK`: (Optional) This module provides methods to configure the SDK, launch a flexible classroom, register ext apps, and the activity implementation of each teaching scenario. This module is an open-source project available on GitHub. Agora recommends integrating this module.
- `AgoraEduCore`: (Required) The core module of <Vg k="FC"/>. Since v2.0.0, this module is closed-source, and you can import this module only by adding a remote dependency.
- `hyphenate`: (Optional) The UI and logic of the chat feature implemented with the Hyphenate IM SDK. It is not required to import this module if you implement the chat feature on your own and let `AgoraEduUIkit` rewrite the code related to the class message chat function in the module.

### Module relations

- `AgoraEduCore` is the required core module, and all the other modules depend on it.
- Both `AgoraEduUIKit` and `AgoraClassSDK` depend on `AgoraEduCore`, and there is no dependency between them.
- `AgoraEduUIKit` depends on `hyphenate`.
- `hyphenate` depends on `AgoraEduCore`.
- `app` depends on all other modules.

## Integrate <Vg k="FC"/> through Maven

If you use the default UI of <Vg k="FC"/>, take the following steps to add remote dependencies and integrate the whole <Vg k="FC"/> through Maven:

1. Add the following library to your project's `build.gradle` file:

    ```
    repositories {
        maven { url 'https://jitpack.io' }
        google()
        mavenCentral()
        maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots/' }
    }
    ```

2. Add the following dependencies in the project's `build.gradle` file to import four modules: `AgoraEduUIKit`, `AgoraClassSDK`, `AgoraEduCore`, and `hyphenate`:

    ```
    dependencies {
        ...
        implementation "io.github.agoraio-community:AgoraEduCore:{VERSION}"
        implementation "io.github.agoraio-community:AgoraEduUIKit:{VERSION}"
        implementation "io.github.agoraio-community:AgoraClassSDK:{VERSION}"
    }
    ```

   To use <Vg k="FC"/> versions equal to or earlier than 2.6.x, also add the `hyphenate` dependency inside the `dependencies` block in the project's `build.gradle` file:

    ```
    dependencies {
        ...
        implementation "io.github.agoraio-community:hyphenate:{VERSION}"
    }
    ```

   Use the [Maven repository search](https://search.maven.org/) to find the latest version for each dependency. For example, type `io.github.agoraio-community:AgoraClassSDK` in the search box to find the latest version of the `AgoraClassSDK` module.

3. To launch a classroom, call [AgoraClassroomSDK.setConfig](../reference/classroom-sdk#setconfig) and [AgoraClassroomSDK.launch](../reference/classroom-sdk#launch). Sample code:

    ```kotlin
    fun startClassRoom() {
        val appId = "" // Your app ID
        val rtmToken = "" // Your signaling Token
        val streamState = AgoraEduStreamState(videoState = 1, audioState = 1)

        val config = AgoraEduLaunchConfig(
            "xiaoming", // The user name
            "xiaoming2", // The user ID
            "agoraclass", // The room name
            "agoraclass4", // The room ID
            2, // The user's role in the class, 2: Student
            4, // The room type, 0: One-to-one interactive teaching, 2: Big class, 4: Online interactive small class
            rtmToken, // The RTM Token used for authentication
            System.currentTimeMillis(), // Starting time of the class
            1800L, // The class duration
            AgoraEduRegion.na, // The area
            null, // The video encoder configuration
            null, // Media stream-related settings
            streamState, // Control whether students automatically send audio or video streams after they go to the podium
            AgoraEduLatencyLevel.AgoraEduLatencyLevelUltraLow, // Viewer latency level
            null, // User properties defined by the developer
            null // Agora widget configuration
        )

        config.appId = appId
        config.uiMode = AgoraEduUIMode.LIGHT // The class interface display mode, AgoraEduUIMode.LIGHT: Bright mode, AgoraEduUIMode.DARK: Dark mode
        AgoraClassSDK.setConfig(AgoraClassSdkConfig(appId))
        AgoraClassSDK.launch(this, config, AgoraEduLaunchCallback { event ->
            Log.e(TAG, ":launch-Classroom State:" + event.name)
        })
    }
    ```

4. To prevent code obfuscation, add the following in the `/Gradle Scripts/proguard-rules.pro` file:

    ```java
    -keep class io.agora.**{*;}
    -keep class com.agora.**{*;}
    -keep class com.hyphenate.**{*;}
    ```

## See also

### Third-party libraries

No matter which method you choose, the third-party libraries <Vg k="FC"/> uses may conflict with the third-party libraries on which your project depends. You can use `exclude` to resolve this conflict or change the version that your project depends on.

</PlatformWrapper>
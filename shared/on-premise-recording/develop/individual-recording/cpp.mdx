<PlatformWrapper platform="linux-cpp">
To implement the individual recording mode, follow these steps:

1. Initialize the recorder with `enable_mix` set to `false` to enable the individual recording mode.
2. Subscribe to audio and video streams using the `subscribeAllAudio()` and `subscribeAllVideo()` methods.
3. Join the channel using `joinChannel()`.
4. Listen for the `onUserJoined` callback to get the `uid` of each remote user.
5. Set recording configuration for the target `uid` using:
   * `setRecorderConfigByUid()` to specify video and audio settings, storage path, and duration.
   * `enableAndUpdateVideoWatermarksByUid()` to apply watermarks (optional).
6. Start and stop recording for the user with:
   * `startSingleRecordingByUid(uid)`
   * `stopSingleRecordingByUid(uid)`

To implement these steps, add the following code in your <Vpl k="CLIENT"/>:

```cpp
// Initialize the recorder in the individual recording mode
recorder->initialize(service, false);

// Subscribe to all audio and video streams
recorder->subscribeAllAudio();
recorder->subscribeAllVideo(options);

// Join the channel
recorder->joinChannel(config.token.c_str(), config.ChannelName.c_str(), config.UserId.c_str());

// After receiving the onUserJoined callback, configure recording for the given uid
agora::media::MediaRecorderConfiguration config;
config.fps = config_.video.fps;
config.width = config_.video.width;
config.height = config_.video.height;
config.channel_num = config_.audio.numOfChannels;
config.sample_rate = config_.audio.sampleRate;

// Generate a unique file name using uid and timestamp
std::string curTime = getCurrentTimeAsString();
std::string storagePath = config_.recorderPath + std::string(uid) + "_" + curTime + ".mp4";
config.storagePath = storagePath.c_str();
config.streamType = static_cast<agora::media::MediaRecorderStreamType>(config_.recorderStreamType);
config.maxDurationMs = config_.maxDuration * 1000;

// Apply configuration for the specific user
recorder_->setRecorderConfigByUid(config, uid);

// Apply watermarks (optional)
recorder_->enableAndUpdateVideoWatermarksByUid(watermarks, config_.waterMarks.size(), uid);

// Start recording for the user
recorder_->startSingleRecordingByUid(uid);

// ...

// Stop recording for the user
recorder_->stopSingleRecordingByUid(uid);
```
</PlatformWrapper>
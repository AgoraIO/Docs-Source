PK battles are a popular add-on to a host's live stream. In a PK battle, one host competes with another for the support of viewers, testing whose community is stronger.

A PK battle scenario consists of the following key elements:

- Only two hosts engage in a PK battle. 
- The hosts start their individual live streams.
- A PK battle request is sent and accepted. This is a timed activity that may span multiple rounds.
- The chat is divided. One host can mute the other to focus on communicating with their own audience.

<Vg k="COMPANY" /> offers multiple solutions for implementing a PK battle scenario. The following table describes and compares these solutions:

| Solution | Description | Pricing | Advantages | Disadvantages |
| :------- | :---------- | :------ | :-------- | :----------- |
| Media Relay | Media Relay functionality in the <Vg k="VSDK" /> enables you to relay the live stream from a channel to one or more RTC channels. | Use of Media Relay is charged separately. | <ul><li>Media Relay is a mature and reliable technology. Its stability has been tested and verified by customers across various business scenarios.</li><li> The cross-channel media stream relay feature enhances security.</li></ul> | <ul><li>Does not adapt to different network conditions.</li><li>May cause increased FHD video usage due to incorrect integration.</li></ul> |
| Multiple Channels | Each host has their own RTC channel. By default, audience members watch the live stream of their channel host. When the host enables the PK battle scenario, the audience members join the other host's RTC channel as well and subscribe to their live stream. | May increase audio live streaming usage. | <ul><li>No need to enable the cross-channel media stream relay feature.</li><li>Simpler to understand and integrate.</li></ul> | <ul><li>May cause increased audio usage</li><li>Investigation and troubleshooting can be difficult.</li><li>Emerging technology, not yet widely adopted.</li></ul> |
| Cloud Transcoder | The Cloud Transcoder subscribes to the hosts' live streams, and manages UI layout and video/audio transcoding. It can be configured to generate multiple video profiles so that the audience in the channel can subscribe to a suitable video profile and bitrate according to their network conditions. | The Cloud Transcoder usage fee is charged separately. | <ul><li>Reduces bandwidth consumption.</li><li>Generates multiple video resolution, to enable the audience to adapt to network conditions.</li></ul> | <ul><li>Adding the UI element to the Cloud Transcoder layout can be complex.</li><li>Emerging technology, not yet widely adopted.</li></ul> |

#### Media Relay Based Solution

`Cross-Channel media stream relay` feature, also called as  `Cross Channel Hosting In` feature,  is available in Native SDK, Linux SDK, and Web SDK as well. Below diagram illustrates two typical Media Relay Use Scenarios.

![Media Relay Based Solution](/images/solutions/live/media_relay_solution_diagram.png)


| Business scenario | Scenario Description |
| :---------------- | :------------------- |
| Left one is relaying one live streaming to One destination RTC channel. | **Media Relay Server A** Pull the UID 01's live streaming from Channel A, and then push the live streaming to Channel B(assume UID as '01' in Channel B). UID 02 in Channel B, subscribes UID '01''s live streaming. |
| Right one is relaying one live streaming to multiple Destination RTC Channels. | **Media Relay Server A** Pull the UID 01's live streaming from Channel A, and then push the live streaming to Channel B, Channel C, and Channel D(assume UID as '01' in Channel B,C,D). UID 02 in Channel B, UID 03 in Channel C, UID 04 in Channel D subscribe the UID '01''s live streaming respectively |


The APIs of **[Cross-Channel media stream relay](https://docs.agora.io/en/interactive-live-streaming/core-functionality/cross-channel-media-relay?platform=android)** feature are available in Native SDK 4.x, Linux SDK 4.x, and Web SDK 4.x as well. _please note that in the Linux SDK, we don't support it officially_. 


**[Channel Media Stream Relay APIs](https://api-ref.agora.io/en/video-sdk/android/4.x/API/rtc_api_overview.html#rtc_api_overview__media_stream_relay_across_channels)**

- `startOrUpdateChannelMediaRelay`
- `startOrUpdateChannelMediaRelayEx`
- `stopChannelMediaRelay`
- `stopChannelMediaRelayEx`
- `pauseAllChannelMediaRelay`
- `pauseAllChannelMediaRelayEx`
- `resumeAllChannelMediaRelay`
- `resumeAllChannelMediaRelayEx`
- `onChannelMediaRelayStateChanged`

#### Multiple Channel Based Solution

Multiple Channels Based solution refers to each Host has its own independent RTC Channel, and each Host and audience need to join the other Hosts' Channels according to actual business rules to complete the corresponding business.

In practice, there are different use scenarios for `Multiple Channels Based solution`. Here we describe Multi-Channel Switching solution in tiktok-like app.



#### Cloud Transcoder (Cloud composite picture) Based Solution

Cloud Transcoder, also known as "[Cloud Transcoding](https://docs-preprod.agora.io/en/live-streaming-premium-legacy/cloud_transcoder?platform=iOS)",  [Cloud Transcoder](https://docs-preprod.agora.io/en/live-streaming-premium-legacy/cloud_transcoder?platform=iOS) is Cloud based transcoding service for audio and video live streaming scenarios. It can pull specific audio and video streams (one or multiple) from the server side, and process them with audio mixing, video layout composition, Codec transcoding, and other treatments before publishing them to the RTC channel for subscription by the Audience side. It is generally used to solve the following problems:

- Problem 1: Some audiences' devices have poor performance and cannot process multiple high-definition audio and video streams simultaneously on the end (such as encoding, decoding, rendering, etc.). It is necessary to merge the streams in the cloud and then push them back to the channel to reduce the performance consumption on the end.
- Problem 2: Some audiences downstream networks are poor, and when subscribing to multiple anchor/Host video streams or a single anchor/Host high-definition video stream, there may be stuttering and other phenomena that affect the audience experience. By merging the streams in the cloud or converting them to lower bitrates before delivering them, the bitrate can be reduced, thus improving the viewer experience.

<Admonition>
Cloud Transcoder is a beta product.
</Admonition>

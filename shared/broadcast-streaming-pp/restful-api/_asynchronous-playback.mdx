import * as data from '@site/data/variables';
import StatusCode from '@docs/shared/broadcast-streaming/restful-api/shared/http-status-codes.mdx'

Asynchronous playback refers to purposely setting a time lag between the playback screen seen by the user and the live stream.

<Admonition type="info">Currently, the asynchronous playback function only supports [Push CDN mode](../get-started/enable-broadcast-streaming).</Admonition>

## Set a time lag

Sets a time lag for the specified live stream.

### HTTP request

```shellscript
PATCH https://api.agora.io/v1/projects/{appid}/fls/entry_points/{entry_point}/admin/delayed_streams/{stream_name}
```

#### Path parameter

| Parameter | Type | Description |
| :------------ | :----- | :----------------------------------- |
| `appid` | String | Required. The App ID retrieved from Agora Console. |
| `entry_point` | String | Required. The entry point name. |
| `stream_name` | String | Required. The stream name. |

#### Request body

The request body is in the JSON Object type, and contains the following fields:

| Field | Type | Description |
| :------ | :------ | :---------------------------------------- |
| `delay` | Integer | Required. The time lag in seconds, with a maximum value of 600. |

### HTTP response

If the returned HTTP status code is 200, the request is successful.

If the returned HTTP status code is not 200, the request fails. You can refer to the [HTTP status code ](#http-code)for possible reasons.

### Example

**Request line**

```shellscript
PATCH https://api.agora.io/v1/projects/{your_appid}/fls/entry_points/live/admin/delayed_streams/{stream_name} HTTP/1.1
```

**Response line**

```shellscript
HTTP/1.1 200 OK
```

## Cancel the time lag

Cancels the time lag for the specified live stream.

### HTTP request

```shellscript
DELETE https://api.agora.io/v1/projects/{appid}/fls/entry_points/{entry_point}/admin/delayed_streams/{stream_name}
```

#### Path parameter

| Parameter | Type | Description |
| :------------ | :----- | :----------------------------------- |
| `appid` | String | Required. The App ID retrieved from Agora Console. |
| `entry_point` | String | Required. The entry point name. |
| `stream_name` | String | Required. The stream name. |

### HTTP response

If the returned HTTP status code is 200, the request is successful.

If the returned HTTP status code is not 200, the request fails. You can refer to the [HTTP status code ](#http-code)for possible reasons.

### Example

**Request line**

```shellscript
DELETE https://api.agora.io/v1/projects/{your_appid}/fls/entry_points/live/admin/delayed_streams/{stream_name} HTTP/1.1
```

**Response line**

```shellscript
HTTP/1.1 200 OK
```

<a name="http-code"></a>
## HTTP status code
<StatusCode />
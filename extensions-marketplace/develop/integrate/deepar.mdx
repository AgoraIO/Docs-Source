---
title: "DeepAR"
sidebar_position: 3
type: docs
description: >
    Enable augmented reality features in video calls such as face filters, face touch up filters and virtual backgrounds.
---
export const toc = [{}];

This guide is provided by DeepAR. Agora is planning a documentation upgrade program for all extensions on the marketplace. Please stay tuned.
<PlatformWrapper notAllowed="web">
This extension is for Web only.
</PlatformWrapper>

<PlatformWrapper platform="web">



## Prerequisites

In order to use the DeepAR Web extension you need to set up a license key for your web app on [developer.deepar.ai](https://developer.deepar.ai).

1. Create an account: https://developer.deepar.ai/signup.
2. Create a project: https://developer.deepar.ai/projects.
3. Add a web app to the project. Note that you need to specify the domain name which you plan to use for hosting the app.

## Integrate DeepAR extension

### Download the extension

You can download the DeepAR extension from the Agora Console.

Copy the downloaded code into your project and load it in a script tag in HTML.

```xml
<script src="./deepar-agora-web-plugin/deepar-agora-web-plugin.js"></script>
```

### Enable the extension

Create a `div` tag that will be used as a container for DeepAR rendering:

```xml
<div class="video-container">
```

Copy the license key you got when you created the web app or look it up here: https://developer.deepar.ai/projects.

Initialize the DeepAR extension:

```javascript
const videoExtension = new DeepARVideoExtension.DeepARVideoExtension({
    licenseKey: 'your_license_key_here',
    libPath: './deepar-agora-web-plugin' // if you are going to use segmentation effects, set this path to the folder where segmentation.zip file is located
});
AgoraRTC.registerExtensions([videoExtension]);
```

Set up video processing on the previously created `div` container:

```javascript
const processor = videoExtension.createProcessor();
const videoTrack = await AgoraRTC.createCameraVideoTrack();
videoTrack.pipe(processor).pipe(videoTrack.processorDestination);
await videoTrack.play(document.querySelector('.video-container'), { mirror: false });
```

### Initialize face tracking

Acquire the DeepAR object:

```javascript
let deepAR = processor.deepAR;
```

This object is used the same way as the usual DeepAR SDK ([API reference](https://s3.eu-west-1.amazonaws.com/sdk.developer.deepar.ai/doc/web/index.html)).

Load the face tracking model:

```javascript
deepAR.downloadFaceTrackingModel('./deepar-agora-web-plugin/models-68-extreme.bin');
```

### Load effects

You can download a free filter pack here: https://developer.deepar.ai/downloads

Load an effect using the `switchEffect` method:

```javascript
deepAR.switchEffect(0, 'slot', './effects/alien');
```

Load different effects on different persons' faces:

```javascript
deepAR.switchEffect(0, 'slot', './effects/alien');
deepAR.switchEffect(1, 'slot', './effects/lion');
```

Load a background segmentation effect:

```javascript
deepAR.switchEffect(0, 'slot', './effects/background_segmentation');
```

## Supported browsers

Both desktop and mobile browsers are supported by DeepAR.

### Desktop

- Google Chrome 66+
- Safari 11.1+
- Firefox 60+
- Edge 42+

### iOS

- Safari on iOS 11+

### Android

- Google Chrome 66+

</PlatformWrapper>
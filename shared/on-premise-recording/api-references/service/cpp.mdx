## IAgoraService

| API | Description |
|-----|-------------|
| [`createAgoraService`](#createagoraservice) | Creates an [`IAgoraService`](#agora-service) object and returns a pointer. |
| [`initialize`](#initialize) | Initializes the [`IAgoraService`](#iagoraservice) object. |
| [`release`](#release) | Releases the [`IAgoraService`](#iagoraservice) object. |
| [`setLogFile`](#setlogfile) | Sets the path and size of the SDK log file. |
| [`setLogFilter`](#setlogfilter) | Sets the log filter level for SDK log output. |
| [`getAgoraParameter`](#getagoraparameter) | Gets the `IAgoraParameter` object. |

This class implements the core functions of On-Premise SDK.

### `createAgoraService`

Creates an [`IAgoraService`](#iagoraservice) object and returns a pointer to it.

```cpp
AGORA_API agora::base::IAgoraService* AGORA_CALL createAgoraService();
```

#### Returns

* On success: A pointer to the [`IAgoraService`](#iagoraservice) object.
* On failure: A null pointer.

### `initialize`

Initializes the [`IAgoraService`](#iagoraservice) object.

```cpp
virtual int initialize(const AgoraServiceConfiguration& config) = 0;
```

#### Parameters

| Parameter | Type                               | Description                                                                                        |
| --------- | ---------------------------------- | -------------------------------------------------------------------------------------------------- |
| `config`  | `const AgoraServiceConfiguration&` | Initialization configuration. See [`AgoraServiceConfiguration`](#agoraserviceconfiguration). |

#### Returns

* `0`: Method call succeeded.
* `< 0`: Method call failed.

### `release`

Releases the [`IAgoraService`](#iagoraservice) object.

```cpp
virtual int release() = 0;
```

#### Returns

* `0`: Method call succeeded.
* `< 0`: Method call failed.

### `setLogFile`

Sets the path and size for the SDK log files.

<Admonition type="info" info="info">
To ensure complete log output, call this method immediately after calling [`initialize`](#initialize).
</Admonition>

The SDK maintains two log files during runtime. The default size for each file is 512 KB. If `fileSize` is set to 1024 KB, the total log size will be 2 MB. When the total exceeds this limit, new logs will overwrite the oldest ones.

```cpp
virtual int setLogFile(const char* filePath, unsigned int fileSize, aosl_ref_t ares = AOSL_REF_INVALID) = 0;
```

#### Parameters

| Parameter  | Type           | Description                                                                |
| ---------- | -------------- | -------------------------------------------------------------------------- |
| `filePath` | `const char*`  | Pointer to the log file path. Ensure the directory exists and is writable. |
| `fileSize` | `unsigned int` | Maximum size (in bytes) of each log file.                                  |

#### Returns

* `0`: Method call succeeded.
* `< 0`: Method call failed.

### `setLogFilter`

Sets the log output filter level for the SDK.

The log levels in ascending order are: `OFF`, `CRITICAL`, `ERROR`, `WARNING`, `INFO`, and `DEBUG`.

If you set the log level to `WARNING`, the SDK will output `CRITICAL`, `ERROR`, and `WARNING` logs.

```cpp
virtual int setLogFilter(unsigned int filters, aosl_ref_t ares = AOSL_REF_INVALID) = 0;
```

#### Parameters

| Parameter | Type           | Description                                 |
| --------- | -------------- | ------------------------------------------- |
| `filters` | `unsigned int` | Log output filter. Possible values include: |

* `LOG_LEVEL_NONE (0x0000)`: No log output.
* `LOG_LEVEL_INFO (0x0001)`: (Recommended) Outputs logs at `INFO` level.
* `LOG_LEVEL_WARN (0x0002)`: Outputs `WARN` level logs.
* `LOG_LEVEL_ERROR (0x0004)`: Outputs `ERROR` level logs.
* `LOG_LEVEL_FATAL (0x0008)`: Outputs `FATAL` level logs. |

#### Returns

* `0`: Method call succeeded.
* `< 0`: Method call failed.

### `getAgoraParameter`

Gets the `IAgoraParameter` object.

```cpp
virtual agora_refptr<base::IAgoraParameter> getAgoraParameter() = 0;
```

#### Returns

* On success: A reference-counted pointer to the `IAgoraParameter` object.
* On failure: A null pointer.

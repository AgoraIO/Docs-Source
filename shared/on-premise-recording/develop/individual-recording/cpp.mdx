<PlatformWrapper platform="linux-cpp">
To implement individual recording in your app, follow these steps:

1. Initialize the recorder with [`enableMix`](/on-premise-recording/reference/api-reference#initialize) set to `false` to enable individual recording mode.
2. Subscribe to the audio and video streams of the users you want to record.
3. Join the channel using [`joinChannel`](/on-premise-recording/reference/api-reference#joinchannel).
4. Wait for the [`onUserJoined`](/on-premise-recording/reference/api-reference#onuserjoined) callback to get the `uid` of each remote user.
5. Configure recording for the specific `uid`:
   - Use [`setRecorderConfigByUid`](/on-premise-recording/reference/api-reference#setrecorderconfigbyuid) to define video and audio settings, storage path, and maximum duration.
   - Optionally use [`enableAndUpdateVideoWatermarksByUid`](/on-premise-recording/reference/api-reference#enableandupdatevideowatermarksbyuid) to apply watermarks.
6. Start and stop recording for each user:
   - Call [`startSingleRecordingByUid`](/on-premise-recording/reference/api-reference#startsinglerecordingbyuid) to start.
   - Call [`stopSingleRecordingByUid`](/on-premise-recording/reference/api-reference#stopsinglerecordingbyuid) to stop.

Refer to the following code to implement these steps:

```cpp
// Initialize the recorder in individual recording mode
recorder->initialize(service, false);

// Subscribe to all audio and video streams
recorder->subscribeAllAudio();
recorder->subscribeAllVideo(options);

// Join the channel
recorder->joinChannel(config.token.c_str(), config.ChannelName.c_str(), config.UserId.c_str());

// After receiving the onUserJoined callback, configure recording for the given uid
agora::media::MediaRecorderConfiguration config;
config.fps = config_.video.fps;
config.width = config_.video.width;
config.height = config_.video.height;
config.channel_num = config_.audio.numOfChannels;
config.sample_rate = config_.audio.sampleRate;

// Generate a unique file name using uid and timestamp
std::string curTime = getCurrentTimeAsString();
std::string storagePath = config_.recorderPath + std::string(uid) + "_" + curTime + ".mp4";
config.storagePath = storagePath.c_str();
config.streamType = static_cast<agora::media::MediaRecorderStreamType>(config_.recorderStreamType);
config.maxDurationMs = config_.maxDuration * 1000;

// Apply configuration for the specific user
recorder_->setRecorderConfigByUid(config, uid);

// Apply watermarks (optional)
recorder_->enableAndUpdateVideoWatermarksByUid(watermarks, config_.waterMarks.size(), uid);

// Start recording for the user
recorder_->startSingleRecordingByUid(uid);

// ...

// Stop recording for the user
recorder_->stopSingleRecordingByUid(uid);
```

</PlatformWrapper>
---
title: 'Outbound PSTN'
sidebar_position: 2
platform_selector: false
description: >
 Initiate an outbound call to connect an end-user directly to an Agora channel.
---

import RestAPILayout from '@site/src/components/rest-api/RestAPILayout';
import LeftColumn from '@site/src/components/rest-api/LeftColumn';
import RightColumn, { Section } from '@site/src/components/rest-api/RightColumn';
import ParameterList, { Parameter } from '@site/src/components/rest-api/ParameterList';
import PathParameter from '@site/src/components/rest-api/PathParameter';
import { Tabs, TabItem } from '@site/src/components/rest-api/Tabs';

<RestAPILayout>
 <LeftColumn
   title={frontMatter.title}
   method="POST"
   endpoint="https://sipcm.agora.io/v1/api/pstn"
 >

Initiate an outbound call to connect an end-user directly to an Agora channel. The user receives a phone call and is connected to the specified channel when they answer.

## Request

### Request body

<div class="api-mime-type">APPLICATION/JSON</div>

<ParameterList title="BODY" required={true}>
 <Parameter name="action" type="string" possibleValues="inbound, outbound, inboundsip, endcall, cancelcall" required={true}>
   The type of PSTN call flow. Use "outbound" for calls initiated to users.
 </Parameter>
 <Parameter name="appId" type="string" required={true}>
   The App ID of your Agora project.
 </Parameter>
 <Parameter name="token" type="string" required={false}>
   A valid Agora RTC authentication token for the specified channel and user.
 </Parameter>
 <Parameter name="uid" type="string" required={false}>
   A unique identifier for the user joining the channel via PSTN.
 </Parameter>
 <Parameter name="channel" type="string" required={true}>
   The channel name to connect to.
 </Parameter>
 <Parameter name="region" type="string" required={true}>
   The region where the user is located and will likely be calling from.

   - `AREA_CODE_NA`: North America    
   - `AREA_CODE_EU`: Europe    
   - `AREA_CODE_AS`: Asia, excluding Mainland China    
   - `AREA_CODE_JP`: Japan   
   - `AREA_CODE_IN`: India   
   - `AREA_CODE_CN`: Mainland China    

 </Parameter>
 <Parameter name="prompt" type="string" required={true}>
   Voice prompt configuration. Set to "true" to require a specific digit press, or "lazy" to accept any DTMF input for connection confirmation.
 </Parameter>
 <Parameter name="to" type="string" required={true}>
   The end-user's phone number to dial. Optionally append `#` followed by numbers to send DTMF tones after call connection.
 </Parameter>
 <Parameter name="from" type="string" required={true}>
   The calling number displayed on the end-user's phone during the incoming call.
 </Parameter>
 <Parameter name="sip" type="string" required={false}>
   Termination SIP URI for call routing. Leave blank to use default service routing.
 </Parameter>
 <Parameter name="timeout" type="string" defaultValue="3600" required={false}>
   Maximum duration for the outbound call in seconds. Default is 3600 seconds (1 hour).
 </Parameter>
</ParameterList>

## Response

- If the returned status code is `200`, the request was processed. Check the `success` field to determine if the call connected successfully.

 <ParameterList title="OK">
   <Parameter name="success" type="boolean">
     Indicates whether the call connected successfully. When true, the call connected and callid is provided. When false, the call failed and reason is provided.
   </Parameter>
   <Parameter name="callid" type="string">
     Unique identifier for the connected call. Use this ID to end the call if needed. Only present when success is true.
   </Parameter> 
   <Parameter name="reason" type="string">
     Reason for call failure. Common values include "Busy" or "Invalid". Only present when success is false.
   </Parameter> 
 </ParameterList>

- If the returned status code is not `200`, the request failed. Refer to `message` and `code` fields to understand the possible reasons for failure.

 <ParameterList title="Non-200">
   <Parameter name="code" type="integer">
   Error response codes:
   - `401` Unauthorized
   - `500` Missing Parameters
   - `503` No resource currently available
   </Parameter>
 </ParameterList>

</LeftColumn>

<RightColumn>

<Section title="Authorization">
[Contact](mailto:support@agora.io) Agora support for an authorization header to include in your requests.
</Section>

<Section title="Request example">

 <Tabs groupId="code-examples">
   <TabItem value="curl" label="curl" default>
     ```bash
     curl -X POST https://sipcm.agora.io/v1/api/pstn \
       -H "Content-Type: application/json" \
       -H "Authorization: [Your-Authorization-Header]" \
       -d '{
         "action": "outbound",
         "appId": "[Your-Agora-App-ID]",
         "token": "[Your-Agora-Authentication-Token]",
         "uid": "123",
         "channel": "demo",
         "region": "AREA_CODE_NA",
         "prompt": "true",
         "to": "+447712886400#333",
         "from": "+1800222333",
         "timeout": "3600",
         "sip": "acme.pstn.ashburn.twilio.com"
       }'
     ```
   </TabItem>
   <TabItem value="python" label="Python">

   ```python
   import requests
   import json

   url = "https://sipcm.agora.io/v1/api/pstn"

   headers = {
       "Content-Type": "application/json",
       "Authorization": "[Your-Authorization-Header]"
   }

   data = {
       "action": "outbound",
       "appId": "[Your-Agora-App-ID]",
       "token": "[Your-Agora-Authentication-Token]",
       "uid": "123",
       "channel": "demo",
       "region": "AREA_CODE_NA",
       "prompt": "true",
       "to": "+447712886400#333",
       "from": "+1800222333",
       "timeout": "3600",
       "sip": "acme.pstn.ashburn.twilio.com"
   }

   response = requests.post(url, headers=headers, json=data)

   if response.status_code == 200:
       result = response.json()
       if result['success']:
           print(f"Call connected successfully. Call ID: {result['callid']}")
       else:
           print(f"Call failed. Reason: {result['reason']}")
   else:
       print(f"Error: {response.status_code} - {response.json()['message']}")
   ```
   </TabItem>

   <TabItem value="node" label="Node.js">

   ```js
   const axios = require('axios');

   const url = 'https://sipcm.agora.io/v1/api/pstn';

   const headers = {
       'Content-Type': 'application/json',
       'Authorization': '[Your-Authorization-Header]'
   };

   const data = {
       action: 'outbound',
       appId: '[Your-Agora-App-ID]',
       token: '[Your-Agora-Authentication-Token]',
       uid: '123',
       channel: 'demo',
       region: 'AREA_CODE_NA',
       prompt: 'true',
       to: '+447712886400#333',
       from: '+1800222333',
       timeout: '3600',
       sip: 'acme.pstn.ashburn.twilio.com'
   };

   axios.post(url, data, { headers })
       .then(response => {
           if (response.data.success) {
               console.log(`Call connected successfully. Call ID: ${response.data.callid}`);
           } else {
               console.log(`Call failed. Reason: ${response.data.reason}`);
           }
       })
       .catch(error => {
           if (error.response) {
               console.error(`Error: ${error.response.status} - ${error.response.data.message}`);
           } else {
               console.error('Error:', error.message);
           }
       });
   ```
   </TabItem>
 </Tabs>

</Section>

<Section title="Response example">

<Tabs groupId="response-examples">
  <TabItem value="200" label="200" default>

    ```json
    {  
     "success": true,
     "callid": "88877-55Asdd7-55Asdd"
    }
    ```
  </TabItem>
  <TabItem value="non-200" label="Non-200">

    ```json
    {  
     "success": false,
     "reason": "Busy"
    }
    ```
  </TabItem>
</Tabs>

</Section>
</RightColumn>
</RestAPILayout>
---
title: 'Cloud proxy'
sidebar_position: 12
type: docs
description: >
  To ensure that enterprise users can connect to Agora's services through a firewall, Agora supports setting up a cloud proxy. 
---

Large organizations commonly deploy firewalls to meet their stringent security requirements. To ensure uninterrupted access to Agora services for users behind firewalls, Agora offers a firewall allowlist and <Vg k="CP" /> services.

To enable SDK use in network-restricted environments, administrators can add specific IP addresses and ports to the firewall allowlist. Developers then configure the <Vg k="CP" /> service by calling the appropriate APIs.

## Understand the tech

<Vg k="CP" /> works as follows:

1. <Vpd k="SDK" /> initiates a request to <Vg k="CP" />.
2. <Vg k="CP" /> returns the corresponding proxy information.
3. The Agora SDK sends data to <Vg k="CP" />, which forwards it to the Agora SD-RTN™.
4. The SD-RTN™ sends the response back to <Vg k="CP" />, which then returns it to the SDK.

<details>
<summary>Cloud proxy workflow</summary>

![](/images/rtc-sdk/cloud-proxy-tech.svg)
</details>

## Prerequisites

Before you begin, complete the [Quickstart](/on-premise-recording/get-started/quickstart) to integrate the <Vpd k="SDK" /> and set up basic recording functionality.

## Implement <Vg k="CP" />

To implement <Vg k="CP" /> in your app, follow these steps:

1. **Request access to <Vg k="CP" />**

   Contact [Agora support](mailto:support@agora.io) and provide the following information:

   - App ID
   - Region where you want to use <Vg k="CP" />
   - Expected concurrency scale
   - Network operator and other relevant details

2. **Allow traffic through the firewall**

   After your request is approved, Agora provides a list of IP addresses and ports. Add these to your firewall allowlist to enable communication through <Vg k="CP" />.

3. **Enable the cloud proxy in your code**

    Set the private parameter `rtc.enable_proxy` to `true`.

    <PlatformWrapper platform="linux-cpp">
    ```cpp
    auto agoraParameter = service->getAgoraParameter();
    agoraParameter->setBool("rtc.enable_proxy", true);
    ```
    </PlatformWrapper>

    <PlatformWrapper platform="linux-java">
    ```java
    AgoraParameter parameter = agoraService.getAgoraParameter();
    parameter.setBool("rtc.enable_proxy", true);
    ```
    </PlatformWrapper>

4. **Test your setup**

   Record audio and video to confirm the proxy configuration is working as expected.

5. **Disable cloud proxy**

   To stop using <Vg k="CP" />, set `rtc.enable_proxy` to `false`.


## Reference

This section contains content that completes the information on this page, or points you to documentation that explains other aspects to this product.

### API references

- [`getAgoraParameter`](/on-premise-recording/reference/api-reference#getagoraparameter)
      The `OnClose` event occurs when the dialog is closed. Your <Vpl k = "CLIENT"/> listens to `OnClose` and cleans up the resources you created in `SetupVideoSDKEngine` before the application closes. To setup `OnClose` in your <Vpl k = "CLIENT"/>, take the following steps:

      1.  In `AgoraImplementationDlg.h`, add the following method declaration to `CAgoraImplementationDlg` after `afx_msg void OnPaint();`:

          ```cpp
          afx_msg void OnClose();
          ```

      2.  In `AgoraImplementationDlg.cpp`, add the following code before `OnInitDialog`:

          ```cpp
          void CAgoraImplementationDlg::OnClose()
          {
              // Release the engine.
              agoraEngine->release();
              // Clean up the variables you used for logic.
              agoraEngine = NULL;
              remoteUId = NULL;
              isJoin = NULL;
              CDialogEx::OnClose();
          }
          ```

      3. In `AgoraImplementationDlg.cpp`, add the following line before `ON_WM_PAINT()`:

          ```cpp
          ON_WM_CLOSE()
          ```
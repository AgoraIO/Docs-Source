<PlatformWrapper platform="unity">
    
    ```csharp
    // Define a private function called CheckPermissions() to check for required permissions.
    public void CheckPermissions()
    {
        #if (UNITY_2018_3_OR_NEWER && UNITY_ANDROID)
        // Check for each permission in the permission list and request the user to grant it if necessary.
        foreach (string permission in permissionList)
        {
            if (!Permission.HasUserAuthorizedPermission(permission))
            {
                Permission.RequestUserPermission(permission);
            }
        }
        #endif
    }
    ```
</PlatformWrapper>
<PlatformWrapper platform={["ios","macos"]}>
    ```swift
    static func checkForPermissions() async -> Bool {
        var hasPermissions = await self.avAuthorization(mediaType: .video)
        // Break out, because camera permissions have been denied or restricted.
        if !hasPermissions { return false }
        hasPermissions = await self.avAuthorization(mediaType: .audio)
        return hasPermissions
    }

    static func avAuthorization(mediaType: AVMediaType) async -> Bool {
        let mediaAuthorizationStatus = AVCaptureDevice.authorizationStatus(for: mediaType)
        switch mediaAuthorizationStatus {
        case .denied, .restricted: return false
        case .authorized: return true
        case .notDetermined:
            return await withCheckedContinuation { continuation in
                AVCaptureDevice.requestAccess(for: mediaType) { granted in
                    continuation.resume(returning: granted)
                }
            }
        @unknown default: return false
        }
    }
    ```

    - <Link target="_blank" to="https://developer.apple.com/documentation/avfoundation/avcapturedevice/1624613-authorizationstatus">authorizationStatus(for:)</Link>
    - <Link target="_blank" to="https://developer.apple.com/documentation/avfoundation/avcapturedevice/1624584-requestaccess">requestAccess(for:completionHandler:)</Link>
</PlatformWrapper>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1147px" preserveAspectRatio="none" style="width:775px;height:1147px;background:#00000000;" version="1.1" viewBox="0 0 775 1147" width="775px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="1145.5" style="stroke:#0A9EFD;stroke-width:1.0;" width="773.5" x="0" y="0"/><rect fill="#F3F3F3" height="1135.5" style="stroke:#0A9EFD;stroke-width:1.0;" width="95" x="252" y="6"/><text fill="#0A9EFD" font-family="Roboto" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="69" x="265" y="22.6094">Your app</text><rect fill="#F3F3F3" height="1135.5" style="stroke:#0A9EFD;stroke-width:1.0;" width="74" x="570.5" y="6"/><text fill="#0A9EFD" font-family="Roboto" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="46" x="584.5" y="22.6094">Agora</text><rect height="146.0469" style="stroke:#0A9EFD;stroke-width:2.0;fill:none;" width="640.5" x="10" y="180.8281"/><rect height="336.3125" style="stroke:#0A9EFD;stroke-width:2.0;fill:none;" width="759.5" x="10" y="340.875"/><rect height="252.875" style="stroke:#0A9EFD;stroke-width:2.0;fill:none;" width="640.5" x="10" y="691.1875"/><line style="stroke:#0A9EFD;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="87.6094" y2="1055.8906"/><line style="stroke:#0A9EFD;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="299" x2="299" y1="87.6094" y2="1055.8906"/><line style="stroke:#0A9EFD;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="607.5" x2="607.5" y1="87.6094" y2="1055.8906"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33" x="20" y="84.5332">User</text><ellipse cx="39.5" cy="16" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3.0;fill:none;"/><path d="M39.5,24 L39.5,51 M26.5,32 L52.5,32 M39.5,51 L26.5,66 M39.5,51 L52.5,66 " fill="none" style="stroke:#0A9EFD;stroke-width:3.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33" x="20" y="1069.4238">User</text><ellipse cx="39.5" cy="1083.5" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3.0;fill:none;"/><path d="M39.5,1091.5 L39.5,1118.5 M26.5,1099.5 L52.5,1099.5 M39.5,1118.5 L26.5,1133.5 M39.5,1118.5 L52.5,1133.5 " fill="none" style="stroke:#0A9EFD;stroke-width:3.0;"/><rect fill="#FFFFFF" height="31.6094" style="stroke:#0A9EFD;stroke-width:2.0;" width="87" x="256" y="55"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="263" y="76.5332">Video SDK</text><rect fill="#FFFFFF" height="31.6094" style="stroke:#0A9EFD;stroke-width:2.0;" width="87" x="256" y="1054.8906"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="263" y="1076.4238">Video SDK</text><rect fill="#FFFFFF" height="31.6094" style="stroke:#0A9EFD;stroke-width:2.0;" width="66" x="574.5" y="55"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="581.5" y="76.5332">SD-RTN</text><rect fill="#FFFFFF" height="31.6094" style="stroke:#0A9EFD;stroke-width:2.0;" width="66" x="574.5" y="1054.8906"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="581.5" y="1076.4238">SD-RTN</text><polygon fill="#0A9EFD" points="287.5,117.2188,297.5,121.2188,287.5,125.2188,291.5,121.2188" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="39.5" x2="293.5" y1="121.2188" y2="121.2188"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="135" y="116.1426">Open App</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="341.5" y1="152.8281" y2="152.8281"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="341.5" x2="341.5" y1="152.8281" y2="165.8281"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="300.5" x2="341.5" y1="165.8281" y2="165.8281"/><polygon fill="#0A9EFD" points="310.5,161.8281,300.5,165.8281,310.5,169.8281,306.5,165.8281" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="173" x="306.5" y="147.752">Initiate the Agora engine</text><path d="M10,180.8281 L157,180.8281 L157,189.8281 L147,199.8281 L10,199.8281 L10,180.8281 " fill="#EEEEEE" style="stroke:#0A9EFD;stroke-width:1.0;"/><rect fill="none" height="146.0469" style="stroke:#0A9EFD;stroke-width:2.0;" width="640.5" x="10" y="180.8281"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="25" y="196.3613">Join a channel</text><polygon fill="#0A9EFD" points="287.5,220.0469,297.5,224.0469,287.5,228.0469,291.5,224.0469" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="39.5" x2="293.5" y1="224.0469" y2="224.0469"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137" x="101" y="218.9707">Start live streaming</text><polygon fill="#0A9EFD" points="595.5,251.6563,605.5,255.6563,595.5,259.6563,599.5,255.6563" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="255.6563" y2="255.6563"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="173" x="367" y="250.5801">Set the user role as host</text><polygon fill="#0A9EFD" points="595.5,283.2656,605.5,287.2656,595.5,291.2656,599.5,287.2656" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="287.2656" y2="287.2656"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="157" x="375" y="282.1895">Join a channel as host</text><polygon fill="#0A9EFD" points="595.5,314.875,605.5,318.875,595.5,322.875,599.5,318.875" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="318.875" y2="318.875"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="240" x="333.5" y="313.7988">Publish local media to the channel</text><path d="M10,340.875 L197,340.875 L197,349.875 L187,359.875 L10,359.875 L10,340.875 " fill="#EEEEEE" style="stroke:#0A9EFD;stroke-width:1.0;"/><rect fill="none" height="336.3125" style="stroke:#0A9EFD;stroke-width:2.0;" width="759.5" x="10" y="340.875"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="142" x="25" y="356.4082">Channel media relay</text><polygon fill="#0A9EFD" points="287.5,380.0938,297.5,384.0938,287.5,388.0938,291.5,384.0938" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="39.5" x2="293.5" y1="384.0938" y2="384.0938"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="236" x="51.5" y="379.0176">Start multi-channel live streaming</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="341.5" y1="433.3125" y2="433.3125"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="341.5" x2="341.5" y1="433.3125" y2="446.3125"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="300.5" x2="341.5" y1="446.3125" y2="446.3125"/><polygon fill="#0A9EFD" points="310.5,442.3125,300.5,446.3125,310.5,450.3125,306.5,446.3125" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="198" x="306.5" y="410.627">Set the source channel info:</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="260" x="306.5" y="428.2363">Source channel name, token, and uid</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="341.5" y1="495.5313" y2="495.5313"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="341.5" x2="341.5" y1="495.5313" y2="508.5313"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="300.5" x2="341.5" y1="508.5313" y2="508.5313"/><polygon fill="#0A9EFD" points="310.5,504.5313,300.5,508.5313,310.5,512.5313,306.5,508.5313" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="228" x="306.5" y="472.8457">Set the destination channel info:</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="290" x="310.5" y="490.4551">Destination channel name, token, and uid</text><polygon fill="#0A9EFD" points="595.5,553.75,605.5,557.75,595.5,561.75,599.5,557.75" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="557.75" y2="557.75"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128" x="387.5" y="535.0645">Call the method to</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="138" x="384.5" y="552.6738">start media relaying</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="607.5" x2="649.5" y1="606.9688" y2="606.9688"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="649.5" x2="649.5" y1="606.9688" y2="619.9688"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="608.5" x2="649.5" y1="619.9688" y2="619.9688"/><polygon fill="#0A9EFD" points="618.5,615.9688,608.5,619.9688,618.5,623.9688,614.5,619.9688" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="135" x="614.5" y="584.2832">Relay stream to the</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="139" x="618.5" y="601.8926">destination channel</text><polygon fill="#0A9EFD" points="310.5,665.1875,300.5,669.1875,310.5,673.1875,306.5,669.1875" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="304.5" x2="606.5" y1="669.1875" y2="669.1875"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="181" x="363" y="646.502">Report the media relaying</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="211" x="350" y="664.1113">state with a callback functions</text><path d="M10,691.1875 L213,691.1875 L213,700.1875 L203,710.1875 L10,710.1875 L10,691.1875 " fill="#EEEEEE" style="stroke:#0A9EFD;stroke-width:1.0;"/><rect fill="none" height="252.875" style="stroke:#0A9EFD;stroke-width:2.0;" width="640.5" x="10" y="691.1875"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="158" x="25" y="706.7207">Join multiple channels</text><polygon fill="#0A9EFD" points="287.5,730.4063,297.5,734.4063,287.5,738.4063,291.5,734.4063" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="39.5" x2="293.5" y1="734.4063" y2="734.4063"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="236" x="51.5" y="729.3301">Start multi-channel live streaming</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="341.5" y1="766.0156" y2="766.0156"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="341.5" x2="341.5" y1="766.0156" y2="779.0156"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="300.5" x2="341.5" y1="779.0156" y2="779.0156"/><polygon fill="#0A9EFD" points="310.5,775.0156,300.5,779.0156,310.5,783.0156,306.5,779.0156" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="152" x="306.5" y="760.9395">Create a new channel</text><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="341.5" y1="828.2344" y2="828.2344"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="341.5" x2="341.5" y1="828.2344" y2="841.2344"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="300.5" x2="341.5" y1="841.2344" y2="841.2344"/><polygon fill="#0A9EFD" points="310.5,837.2344,300.5,841.2344,310.5,845.2344,306.5,841.2344" style="stroke:#0A9EFD;stroke-width:1.0;"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="173" x="306.5" y="805.5488">Set the user role as host</text><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140" x="310.5" y="823.1582">for the new channel</text><polygon fill="#0A9EFD" points="595.5,868.8438,605.5,872.8438,595.5,876.8438,599.5,872.8438" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="872.8438" y2="872.8438"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="150" x="378.5" y="867.7676">Join the new channel</text><polygon fill="#0A9EFD" points="310.5,900.4531,300.5,904.4531,310.5,908.4531,306.5,904.4531" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="304.5" x2="606.5" y1="904.4531" y2="904.4531"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99" x="404" y="899.377">Join accepted</text><polygon fill="#0A9EFD" points="595.5,932.0625,605.5,936.0625,595.5,940.0625,599.5,936.0625" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="936.0625" y2="936.0625"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="358.5" y="930.9863">Publish to the new channel</text><polygon fill="#0A9EFD" points="287.5,970.6719,297.5,974.6719,287.5,978.6719,291.5,974.6719" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="39.5" x2="293.5" y1="974.6719" y2="974.6719"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="219" x="60" y="969.5957">Leave the live streaming event</text><polygon fill="#0A9EFD" points="595.5,1002.2813,605.5,1006.2813,595.5,1010.2813,599.5,1006.2813" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="1006.2813" y2="1006.2813"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="138" x="384.5" y="1001.2051">Stop media relaying</text><polygon fill="#0A9EFD" points="595.5,1033.8906,605.5,1037.8906,595.5,1041.8906,599.5,1037.8906" style="stroke:#0A9EFD;stroke-width:1.0;"/><line style="stroke:#0A9EFD;stroke-width:2.0;" x1="299.5" x2="601.5" y1="1037.8906" y2="1037.8906"/><text fill="#0A9EFD" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="158" x="374.5" y="1032.8145">Leave all the channels</text><!--MD5=[d810ecc0477faa7c17deede9b621933a]
@startuml

!include agora_skin.iuml

actor "User" as USR

box "Your app"

participant "Video SDK" as APP

end box

box "Agora"

participant "SD-RTN" as API

end box

USR -> APP: Open App
APP -> APP: Initiate the Agora engine
group Join a channel
USR -> APP: Start live streaming
APP -> API: Set the user role as host
APP -> API: Join a channel as host
APP -> API: Publish local media to the channel
end

group Channel media relay
USR -> APP: Start multi-channel live streaming
APP -> APP: Set the source channel info: \nSource channel name, token, and uid
APP -> APP: Set the destination channel info: \n Destination channel name, token, and uid
APP -> API: Call the method to \nstart media relaying
API -> API: Relay stream to the\n destination channel
API -> APP: Report the media relaying\n state with a callback functions
end

group Join multiple channels
USR -> APP: Start multi-channel live streaming
APP -> APP: Create a new channel
APP -> APP: Set the user role as host\n for the new channel 
APP -> API: Join the new channel
API -> APP: Join accepted
APP -> API: Publish to the new channel
end

USR -> APP: Leave the live streaming event
APP -> API: Stop media relaying
APP -> API: Leave all the channels

@enduml

@startuml


scale max 1000 width
skinparam linetype ortho
hide stereotype

skinparam backgroundColor transparent
skinparam Shadowing false
skinparam BoundaryBackgroundColor transparent
skinparam BoundaryBorderColor #0a9efdff
skinparam DiagramBorderColor #0a9efdff
skinparam defaultTextAlignment center
skinparam SequenceMessageAlign center
skinparam ReferenceBorderThickness 2

skinparam sequence {

    ActorBorderThickness 3
   	ActorBorderColor #0a9efdff
	ActorBackgroundColor transparent
	ActorFontColor #0a9efdff
	ActorFontName Roboto
    ActorFontStyle bold
    ActorFontSize 14

    AgentBackgroundColor #0a9efdff

   	ArrowFontColor #0a9efdff
   	ArrowFontSize 14
   	ArrowFontStyle bold
    ArrowColor #ee4c14
    ArrowThickness 2

    RectangleBorderThickness 3
    BoxBackgroundColor #f3f3f3
    BoxBorderColor #0a9efdff

   	BoxFontColor #0a9efdff
   	BoxFontName Roboto
   	BoxFontStyle bold
   	BoxFontSize 16

    BoundaryBackgroundColor #0a9efdff
    BoundaryBorderColor #0a9efdff
    BoundaryFontColor #0a9efdff
    BoundryFontName Roboto
    BoundaryStereotypeFontColor #0a9efdff

    ClassBorderColor #0a9efdff
    ComponentBorderColor #0a9efdff

    DividerBackgroundColor white
    DividerBorderColor #0a9efdff
    DividerBorderThickness 3
    DividerFontColor #0a9efdff
    DividerFontName Roboto
    DividerFontSize bold
    DividerFontStyle 14

    GroupBorderColor #0a9efdff
    GroupBorderThickness 2
    GroupFontName Roboto
    GroupFontSize 14
    GroupFontColor #0a9efdff
    GroupHeaderFontColor #0a9efdff
    GroupHeaderFontName Roboto
    GroupHeaderFontSize 14
    GroupHeaderFontStyle bold

   	LifeLineBorderColor #0a9efdff
   	LifeLineBackgroundColor #0a9efdff
   	LifeLineFontColor  #0a9efdff

   	ParticipantBorderColor #0a9efdff
   	ParticipantBackgroundColor white
   	ParticipantFontSize 14
   	ParticipantFontStyle bold
   	ParticipantFontName Roboto
   	ParticipantFontColor #0a9efdff
    ParticipantBorderThickness 2

    ReferenceBorderThickness 2



    TitleFontColor #0a9efdff
    TitleFontName Roboto
    TitleFontSize 18
    TitleBorderThickness 5

}
skinparam interface {
  BackgroundColor #FFFFFF
  BorderColor #0a9efdff
  BorderThickness 1
  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bolds

}


skinparam usecase {
  BackgroundColor #FFFFFF
  BorderColor #ee4c14
  BorderThickness 1
  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam note {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 1

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam activity {

  BackgroundColor #FFFFFF
  DiamondBackgroundColor #FFFFFF
  DiamondBorderColor #0a9efdff
  BorderColor #0a9efdff
  BorderThickness 4
  DiamondBackgroundColor #FFFFFF
  DiamondBorderColor #0a9efdff
  DiamondFontColor #0a9efdff
  activityDiamondFontName Roboto
  activityDiamondFontSize 14
  DiamondFontStyle bold
  StartColor #0a9efdff
  StopColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam card {
  BackgroundColor transparent
  BorderColor transparent
  BorderThickness 0
  FontColor transparent
}


skinparam rectangle {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam agent {

  BackgroundColor #FFFFFF
  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam folder {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam file {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

  shadowing true
}

skinparam cloud {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 4

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam class {

  BackgroundColor #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 1

  StartColor #0a9efdff
  BarColor #0a9efdff
  EndColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold



}

skinparam component {

  BackgroundColor  #FFFFFF

  BorderColor #0a9efdff
  BorderThickness 2

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold
}



skinparam database {

  BackgroundColor #f3f3f3

  BorderColor #0a9efdff
  BorderThickness 2

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}


skinparam frame {

  ArrowColor #0a9efdff

  BackgroundColor #f3f3f3
  BorderColor #0a9efdff
  BorderThickness 4

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold
}


skinparam node {

  ArrowColor #0a9efdff

  BorderThickness 2
  BackgroundColor #FFFFFF
  BorderColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam package {
  BorderThickness 2
  BackgroundColor #FFFFFF
  BorderColor #0a9efdff

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}


skinparam partition {

  BackgroundColor #f3f3f3

  BorderColor #0a9efdff
  BorderThickness 2

  FontColor #0a9efdff
  FontName Roboto
  FontSize 14
  FontStyle bold

}

skinparam ArrowFontColor #0a9efdff
skinparam ArrowFontSize 14
skinparam ArrowFontStyle bold
skinparam ArrowColor #0a9efdff
skinparam ArrowThickness 2
skinparam ArrowFontName Roboto

skinparam linetype ortho
hide stereotype








actor "User" as USR

box "Your app"

participant "Video SDK" as APP

end box

box "Agora"

participant "SD-RTN" as API

end box

USR -> APP: Open App
APP -> APP: Initiate the Agora engine
group Join a channel
USR -> APP: Start live streaming
APP -> API: Set the user role as host
APP -> API: Join a channel as host
APP -> API: Publish local media to the channel
end

group Channel media relay
USR -> APP: Start multi-channel live streaming
APP -> APP: Set the source channel info: \nSource channel name, token, and uid
APP -> APP: Set the destination channel info: \n Destination channel name, token, and uid
APP -> API: Call the method to \nstart media relaying
API -> API: Relay stream to the\n destination channel
API -> APP: Report the media relaying\n state with a callback functions
end

group Join multiple channels
USR -> APP: Start multi-channel live streaming
APP -> APP: Create a new channel
APP -> APP: Set the user role as host\n for the new channel 
APP -> API: Join the new channel
API -> APP: Join accepted
APP -> API: Publish to the new channel
end

USR -> APP: Leave the live streaming event
APP -> API: Stop media relaying
APP -> API: Leave all the channels

@enduml

PlantUML version 1.2022.1(Tue Feb 01 23:19:58 PKT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>
import Authorization from '@docs/shared/common/channel-management-api/authorization.mdx';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

This method updates the expiration time of a specified banning rule.

### Prototype

- Method: `PUT`
- Endpoint: `https://api.agora.io/dev/v1/kicking-rule`

### Request parameters

**Request header**

<Authorization/>

**Request body**

Pass in the following parameters in the request body:

<CodeBlock language="json" showLineNumbers>
  {`{
  "appid": "4855xxxxxxxxxxxxxxxxxxxxxxxxeae2",
  "id": 1953,
  "time": 60
}`}
</CodeBlock>

| Parameter     | Type |Required/Optional  | Description                     |
| :---------------- | :-----|:-----  | :--------------------------------------- |
| `appid`           | String | Required | The App ID of the project. You can get it through one of the following methods:<li>Copy from the <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link>.</li><li> Call the [Get all projects](/realtime-communication/channel-management-api/agora-console-rest-api#get-all-projects) API, and read the value of the `vendor_key` field in the response body.</li>          |
| `id`              | Number | Required |The ID of the rule that you want to update.                                |
| `time`            | Number | Required | The time duration (in minutes) to ban the user. The value range is [1,1440].<p> **Note**<li>If the set value is between `0` and `1`, Agora automatically sets the value to `1`.</li><li>If the set value is greater than `1440`, Agora automatically sets the value to `1440`.</li><li>If the set value is `0`, the banning rule does not take effect. The server sets all users that conform to the rule offline, and users can log in again to rejoin the channel.</li><li>Use either `time` or `time_in_seconds`. If you set both parameters, the `time_in_seconds` parameter takes effect; if you set neither of these parameters, the Agora server automatically sets the banning time duration to 60 minutes, that is, 3600 seconds.</li></p>|
| `time_in_seconds` | Number | Required | The time duration (in seconds) to ban the user. The value range is [10,86430].<p>**Note**<li>If the set value is between `0` and `10`, Agora automatically sets the value to `10`.</li><li>If the set value is greater than `86430`, Agora automatically sets the value to `86430`.</li><li>If the set value is `0`, the banning rule does not take effect. The server sets all users that conform to the rule offline, and users can log in again to rejoin the channel.</li><li>Use either `time` or `time_in_seconds`. If you set both parameters, the `time_in_seconds` parameter takes effect; if you set neither of these parameters, the Agora server automatically sets the banning time duration to 60 minutes, that is, 3600 seconds.</li></p> |

### Request examples
Test this request in [Postman](https://documenter.getpostman.com/view/6319646/SVSLr9AM#ed57bf68-671c-4a1d-93ed-e545d9901745) or use one of the following code examples:

<Tabs groupId="language">
<TabItem value="curl" label="Curl" default>
<CodeBlock language="bash">{`curl --request PUT \\
    --url https://api.sd-rtn.com/dev/v1/kicking-rule \\
    --header 'Accept: application/json' \\
    --header 'Authorization: ' \\
    --header 'Content-Type: application/json' \\
    --data '{
    "appid": "4855xxxxxxxxxxxxxxxxxxxxxxxxeae2",
    "id": 1953,
    "time": 60
  }'`}</CodeBlock>
</TabItem>

<TabItem value="node" label="Node.js">
  <CodeBlock language="js">{`const http = require('http');\n
const options = {
  method: 'PUT',
  hostname: 'api.sd-rtn.com',
  port: null,
  path: '/dev/v1/kicking-rule',
  headers: {
    Authorization: '',
    'Content-Type': 'application/json',
    Accept: 'application/json'
  }
};\n
const req = http.request(options, function (res) {
  const chunks = [];\n
  res.on('data', function (chunk) {
    chunks.push(chunk);
  });\n
  res.on('end', function () {
    const body = Buffer.concat(chunks);
    console.log(body.toString());
  });
});\n
req.write(JSON.stringify({appid: '4855xxxxxxxxxxxxxxxxxxxxxxxxeae2', id: 1953, time: 60}));
req.end();`}</CodeBlock>
</TabItem>

<TabItem value="python" label="Python">
  <CodeBlock language="python">{`import http.client\n
conn = http.client.HTTPConnection("api.sd-rtn.com")\n
payload = "{\n  \"appid\": \"4855xxxxxxxxxxxxxxxxxxxxxxxxeae2\",\n  \"id\": 1953,\n  \"time\": 60\n}"\n
headers = {
    'Authorization': "",
    'Content-Type': "application/json",
    'Accept': "application/json"
}\n
conn.request("PUT", "/dev/v1/kicking-rule", payload, headers)\n
res = conn.getresponse()
data = res.read()\n
print(data.decode("utf-8"))`}</CodeBlock>
</TabItem>

</Tabs>

### Response parameters

For details about possible response status codes, see [Response status codes](../../response-status-code).

If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure.

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

| Parameter | Type   | Description                                                  |
| :-------- | :----- | :----------------------------------------------------------- |
| `status`  | String | The status of this request. `success` means the request succeeds. |
| `result`  | Object | The result of the update:<li>`id`: String. The rule ID.</li><li>`ts`: String. The UTC time when the rule expires.</li> |

### Response example

The following is a response example for a successful request:

<CodeBlock language="json" showLineNumbers>
  {`{
  "status": "success",
  "result": {
    "id": 1953,
    "ts": "2018-01-09T08:45:54.545Z"
  }
}`}
</CodeBlock>
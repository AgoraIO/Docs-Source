---
title: 'Communicate with Video SDK'
sidebar_position: 1
type: docs
description: >
  Stream audio and video to and from Video SDK.
---

If your business scenarios require not only high-quality audio and video transmission, but also easy integration, low memory usage, and low power consumption, such as smart cameras and smart doorbells, Agora recommends that you use the <Vg k="VSDK"/> (v4.x) with the <Vpd k="SDK" />.

The following table shows the data formats supported when the <Vpd k="SDK" /> communicates with the <Vg k="VSDK"/> (v4.x):

| <Vg k="VSDK"/> Type | <Vpd k="SDK"/> |
|----|---------------|
| Native/third-party framework (v4.x) | <ul><li>Audio: G722, G711, Opus, AAC</li><li>Video: H.264, JPEG</li></ul> |
| Web (v4.x) | <ul><li>Audio: G722, G711, Opus</li><li>Video: H.264</li></ul> |
| applet | <ul><li>Audio: G711, Opus</li><li>Video: H.264, JPEG</li></ul> |

The sending and receiving ends can realize intercommunication only if the set data format is consistent and complies with the above table.

The following sections describe how to set the audio and video data format in the SDK.

## Setup <Vpd k="SDK" />

**Audio**

<Vpd k="SDK" /> only supports mono audio data, and the data sending interval is 20 ms.

To send and receive AAC audio data, set `audio_frame_info_t.data_typeto` `AUDIO_DATA_TYPE_AACLC` or `AUDIO_DATA_TYPE_HEAAC` data type, and the corresponding data size, when calling the `agora_rtc_send_audio_data` method to send audio data, The size of AAC audio data needs to be resolved by the user.

**Video**

In <Vpd k="SDK" />, H.264 video data is sent and received by default.

To send and receive JPEG video data, when calling the `agora_rtc_send_video_data` method to send video data, set `video_frame_info_t.data_type` to `VIDEO_DATA_TYPE_GENERIC_JPEG`.

## Set up <Vg k="VSDK"/> for Native/third-party framework (v4.x)

**Audio**

In Native/third-party framework SDK (v4.x), Opus or AAC audio data is sent and received by default.

To send and receive G722 or G711 audio data, use the following methods:

| <Vg k="VSDK"/> type | G722 | G711 (PCMA) | G711 (PCMU) |
|---|------|-------|------|
| Android | `mRtcEngine.setAudioProfile(6)` or `mRtcEngine.setParameters("{\"che.audio. custom_payload_type\":9}")` | `mRtcEngine.setParameters("{\"che.audio. custom_payload_type\":8}")` | `mRtcEngine.setParameters("{\"che.audio. custom_payload_type\":0}")` |
| iOS/macOS | `agoraKit.setAudioProfile(6)` or `agoraKit.setParameters("{\"che.audio. custom_payload_type\":9}")` | `agoraKit.setParameters("{\"che.audio. custom_payload_type\":8}")` | `agoraKit.setParameters("{\"che.audio. custom_payload_type\":0}")` |
| Windows | `m_rtcEngine->setAudioProfile(6)` or `agora::base::AParameter apm(m_rtcEngine); apm->setParameters("{\"che.audio. custom_payload_type\":9}")` | `agora::base::AParameter apm(m_rtcEngine);apm->m_rtcEngine->setParameters("{\"che.audio. custom_payload_type\":8}")` | `agora::base::AParameter apm(m_rtcEngine);apm->m_rtcEngine->setParameters("{\"che.audio. custom_payload_type\":0}")` |
| Electron | `this.rtcEngine?.setAudioProfile(6)` or `this.rtcEngine?.setParameters("{\"che.audio. custom_payload_type\":9}")` | `this.rtcEngine?.setParameters("{\"rtc.audio. custom_payload_type\":8}")` | `this.rtcEngine?.setParameters("{\"rtc.audio. custom_payload_type\":0}")` |
| Unity | `await _engine.setAudioProfile(profile: AudioProfileType.audioProfileIot)` or `await _engine.setParameters("{\"che.audio. custom_payload_type\":9}")` | `await _engine.setParameters("{\"che.audio. custom_payload_type\":8}")` | `await _engine.setParameters("{\"che.audio. custom_payload_type\":0}")` |
| Flutter | `await _engine.setAudioProfile(profile: AudioProfileType.audioProfileIot)` or `await _engine.setParameters("{\"che.audio. custom_payload_type\":9}")` | `await _engine.setParameters("{\"che.audio. custom_payload_type\":8}")` | `await _engine.setParameters("{\"che.audio. custom_payload_type\":0}")` |
| React Native | `await _engine.current?.setAudioProfile(6)` or `await _engine.current?.setParameters("{\"che.audio. custom_payload_type\":9}")` | `await _engine.current?.setParameters("{\"che.audio. custom_payload_type\":8}")` | `await _engine.current?.setParameters("{\"che.audio. custom_payload_type\":0}")` | 

**Video**

In Native/third-party framework SDK (v4.x), H.264 video data is sent and received by default.

To send and receive JPEG video data, use the following methods:

| <Vg k="VSDK"/> type | Method |
|--|:-----------|
| Android | `mRtcEngine.setParameters("{\"engine.video.codec_type\": \"20\"}")` |
| iOS/macOS | `agoraKit.setParameters("{\"engine.video.codec_type\": \"20\"}")` |
| Windows | `agora::base::AParameter apm(m_rtcEngine);`<br/>`apm->setParameters("{\"engine.video.codec_type\": \"20\"}")` |
| Electron | `this.engine.setParameters("{\"engine.video.codec_type\": \"20\"}");` |
| Unity | `RtcEngine.SetParameters("{\"engine.video.codec_type\": \"20\"}");` |
| Flutter | `await _engine.setParameters("{\"engine.video.codec_type\": \"20\"}");` |
| React Native | `this.engine.setParameters("{\"engine.video.codec_type\": \"20\"}");` |

## Set <Vg k="VSDK"/> for Web (v4.x)

**Audio**

In <Vg k="VSDK"/> for Web (v4.x), Opus audio data is sent and received by default.

To send and receive G722, G711 audio data, call the following method:

* G711 (PCMA): `AgoraRTC.createClient({mode: "live", codec: "h264", audioCodec: "pcma"})`
* G711 (PCMU): `AgoraRTC.createClient({mode: "live", codec: "h264", audioCodec: "pcmu"})`
* G722: `AgoraRTC.createClient({mode: "live", codec: "h264", audioCodec: "g722"})`

Only the Web SDK version 4.9.0 or higher supports setting the audio encoding format.

**Video**

In Web SDK (v4.x), VP8 video data is sent and received by default. You call `createClient` to set the video data format to `"h264"`.

## Set applet <Vg k="VSDK"/>  

In the applet SDK, Opus audio data and H.264 video data are sent and received by default. If you want to receive JPEG video data or send and receive G711 audio data, contact iot@agora.io to activate .

The applet SDK does not support sending JPEG video data.
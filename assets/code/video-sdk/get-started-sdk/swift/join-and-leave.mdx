<PlatformWrapper platform="macos">

    <ProductWrapper product="video-calling">
        ``` swift
        func joinChannel() {

            let option = AgoraRtcChannelMediaOptions()

            // Set the client role option as broadcaster or audience.
            if self.userRole == .broadcaster {
                option.clientRoleType = .broadcaster
                setupLocalVideo()
            } else {
                option.clientRoleType = .audience
            }

            // For a video call scenario, set the channel profile as communication.
            option.channelProfile = .communication

            // Join the channel with a temp token. Pass in your token and channel name here
            let result = agoraEngine.joinChannel(
                byToken: token, channelId: channelName, uid: 0, mediaOptions: option,
                joinSuccess: { (channel, uid, elapsed) in }
            )
                // Check if joining the channel was successful and set joined Bool accordingly
            if result == 0 {
                joined = true
                showMessage(title: "Success", text: "Successfully joined the channel as \(self.userRole)")
            }
        }

        func leaveChannel() {
            agoraEngine.stopPreview()
            let result = agoraEngine.leaveChannel(nil)
            // Check if leaving the channel was successful and set joined Bool accordingly
            if result == 0 { joined = false }
        }
        ```
    </ProductWrapper>

    <ProductWrapper product={"interactive-live-streaming"}>
        ``` swift
        func joinChannel() {

            let option = AgoraRtcChannelMediaOptions()

            // Set the client role option as broadcaster or audience.
            if self.userRole == .broadcaster {
                option.clientRoleType = .broadcaster
                setupLocalVideo()
            } else {
                option.clientRoleType = .audience
            }
            // For a live streaming scenario, set the channel profile as liveBroadcasting.
            option.channelProfile = .liveBroadcasting
            // Join the channel with a temp token. Pass in your token and channel name here
            let result = agoraEngine.joinChannel(
                byToken: token, channelId: channelName, uid: 0, mediaOptions: option,
                joinSuccess: { (channel, uid, elapsed) in }
            )
            // Check if joining the channel was successful and set joined Bool accordingly
            if result == 0 {
                joined = true
                showMessage(title: "Success", text: "Successfully joined the channel as \(self.userRole)")
            }
        }

        func leaveChannel() {
            agoraEngine.stopPreview()
            let result = agoraEngine.leaveChannel(nil)
            // Check if leaving the channel was successful and set joined Bool accordingly
            if result == 0 { joined = false }
        }
        ```
    </ProductWrapper>
    <ProductWrapper product={"broadcast-streaming"}>
        ``` swift
        func joinChannel() {

            let option = AgoraRtcChannelMediaOptions()

            // Set the client role option as broadcaster or audience.
            if self.userRole == .broadcaster {
                option.clientRoleType = .broadcaster
                setupLocalVideo()
            } else {
                option.clientRoleType = .audience
                option.audienceLatencyLevel = .lowLatency
            }
            // For a live streaming scenario, set the channel profile as liveBroadcasting.
            option.channelProfile = .liveBroadcasting
            // Join the channel with a temp token. Pass in your token and channel name here
            let result = agoraEngine.joinChannel(
                byToken: token, channelId: channelName, uid: 0, mediaOptions: option,
                joinSuccess: { (channel, uid, elapsed) in }
            )
            // Check if joining the channel was successful and set joined Bool accordingly
            if result == 0 {
                joined = true
                showMessage(title: "Success", text: "Successfully joined the channel as \(self.userRole)")
            }
        }

        func leaveChannel() {
            agoraEngine.stopPreview()
            let result = agoraEngine.leaveChannel(nil)
            // Check if leaving the channel was successful and set joined Bool accordingly
            if (result == 0) { joined = false }
        }
        ```
        For <Vg k="BS" />, use `AgoraAudienceLatencyLevelLowLatency` for audience roles. This ensures low latency, which is a feature of <Vg k="BS" /> and its use is subject to special [pricing](../reference/pricing#unit-pricing).
    </ProductWrapper>

</PlatformWrapper>

<PlatformWrapper platform="ios">
    <ProductWrapper product="video-calling">
        ``` swift
        func joinChannel() async {
            if await !self.checkForPermissions() {
                showMessage(title: "Error", text: "Permissions were not granted")
                return
            }

            let option = AgoraRtcChannelMediaOptions()

            // Set the client role option as broadcaster or audience.
            if self.userRole == .broadcaster {
                option.clientRoleType = .broadcaster
                setupLocalVideo()
            } else {
                option.clientRoleType = .audience
            }

            // For a video call scenario, set the channel profile as communication.
            option.channelProfile = .communication

            // Join the channel with a temp token. Pass in your token and channel name here
            let result = agoraEngine.joinChannel(
                byToken: token, channelId: channelName, uid: 0, mediaOptions: option,
                joinSuccess: { (channel, uid, elapsed) in }
            )
                // Check if joining the channel was successful and set joined Bool accordingly
            if result == 0 {
                joined = true
                showMessage(title: "Success", text: "Successfully joined the channel as \(self.userRole)")
            }
        }

        func leaveChannel() {
            agoraEngine.stopPreview()
            let result = agoraEngine.leaveChannel(nil)
            // Check if leaving the channel was successful and set joined Bool accordingly
            if result == 0 { joined = false }
        }
        ```
    </ProductWrapper>

    <ProductWrapper product={"interactive-live-streaming"}>
        ``` swift
        func joinChannel() async {
            if await !self.checkForPermissions() {
                showMessage(title: "Error", text: "Permissions were not granted")
                return
            }

            let option = AgoraRtcChannelMediaOptions()

            // Set the client role option as broadcaster or audience.
            if self.userRole == .broadcaster {
                option.clientRoleType = .broadcaster
                setupLocalVideo()
            } else {
                option.clientRoleType = .audience
            }
            // For a live streaming scenario, set the channel profile as liveBroadcasting.
            option.channelProfile = .liveBroadcasting
            // Join the channel with a temp token. Pass in your token and channel name here
            let result = agoraEngine.joinChannel(
                byToken: token, channelId: channelName, uid: 0, mediaOptions: option,
                joinSuccess: { (channel, uid, elapsed) in }
            )
            // Check if joining the channel was successful and set joined Bool accordingly
            if result == 0 {
                joined = true
                showMessage(title: "Success", text: "Successfully joined the channel as \(self.userRole)")
            }
        }

        func leaveChannel() {
            agoraEngine.stopPreview()
            let result = agoraEngine.leaveChannel(nil)
            // Check if leaving the channel was successful and set joined Bool accordingly
            if result == 0 { joined = false }
        }
        ```
    </ProductWrapper>
    <ProductWrapper product={"broadcast-streaming"}>
        ``` swift
        func joinChannel() {
            if !self.checkForPermissions() {
                showMessage(title: "Error", text: "Permissions were not granted")
                return
            }

            let option = AgoraRtcChannelMediaOptions()

            // Set the client role option as broadcaster or audience.
            if self.userRole == .broadcaster {
                option.clientRoleType = .broadcaster
                setupLocalVideo()
            } else {
                option.clientRoleType = .audience
                option.audienceLatencyLevel = .lowLatency
            }
            // For a live streaming scenario, set the channel profile as liveBroadcasting.
            option.channelProfile = .liveBroadcasting
            // Join the channel with a temp token. Pass in your token and channel name here
            let result = agoraEngine.joinChannel(
                byToken: token, channelId: channelName, uid: 0, mediaOptions: option,
                joinSuccess: { (channel, uid, elapsed) in }
            )
            // Check if joining the channel was successful and set joined Bool accordingly
            if result == 0 {
                joined = true
                showMessage(title: "Success", text: "Successfully joined the channel as \(self.userRole)")
            }
        }

        func leaveChannel() {
            agoraEngine.stopPreview()
            let result = agoraEngine.leaveChannel(nil)
            // Check if leaving the channel was successful and set joined Bool accordingly
            if (result == 0) { joined = false }
        }
        ```
        For <Vg k="BS" />, use `AgoraAudienceLatencyLevelLowLatency` for audience roles. This ensures low latency, which is a feature of <Vg k="BS" /> and its use is subject to special [pricing](../reference/pricing#unit-pricing).
    </ProductWrapper>
</PlatformWrapper>
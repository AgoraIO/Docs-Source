import ProjectImplement from '@docs/shared/video-sdk/develop/spatial-audio/project-implementation/index.mdx';
import Reference from '@docs/shared/video-sdk/develop/spatial-audio/reference/index.mdx';
import NotAvailable from '@docs/shared/common/not-available.mdx'

<Vg k="SPATIAL" /> brings the real-world sound experience to the virtual world, providing an immersive audio experience for users. <Vg k="COMPANY" />'s spatial audio technology enables you to simulate the propagation characteristics of sound in a physical environment within a virtual interactive scene.

![Spatial audio comparison](/images/video-sdk/spatial-audio-comparison.png)
 
- Ultra-realistic space shaping effect

    Utilize technologies such as range audio, sound blur, and air attenuation simulation to perfectly simulate the real auditory experience.

    - Set the spatial positions of users in real time to give a sense of change in the distance, direction, and orientation of other users.
    - Update the spatial position of the media player, to add a sense of space to background sounds, accompaniments, and other media resources.
    - Add <Vg k="SPATIAL" /> effects such as sound blurring and air attenuation by adjusting audio settings to perfectly simulate the real audio experience.

- 3D High Fidelity

    - Sound effects are processed and rendered based on the facial orientation, sound source orientation, and relative position of the sound source in 3D space.
    - Supports 48 kHz full-band sampling and 3D high-fidelity audio processing and rendering.

- Multi-platform support

    Supports iOS, Android, macOS, Windows, Web, Unity, Flutter, React Native, Electron, Unreal and other platforms.

- Ultra-low latency, low power consumption, and low cost

    The spatial audio algorithm adopts an advanced front-end processing mode and synchronizes spatial coordinates through cloud services. The end-cloud collaborative processing mode effectively reduces overall latency and power consumption.

Compared to traditional stereo, which relies on left and right channels, spatial audio technology greatly enhances the depth and realism of sound. The following table highlights these enhancements:

| Feature    | Traditional Stereo | Agora Spatial Audio   |
|:-----------|:------------------|:-----------------------|
| Dimensionality  | Left and right dimensions      | Represents sound in a full 3D space using the x, y, and z axes of the world coordinate system, corresponding to right, top, and front dimensions   |
| Spatial Perception     | Adjust the volume of the left and right channels to create a spatial sound| Utilizes advanced spatial audio algorithms to create a realistic soundscape by manipulating parameters like distance, direction, and orientation |
| User Experience    | Flat     | Immersive, three-dimensional, and natural, delivering a realistic auditory experience     |

<PlatformWrapper platform="android, ios, macos, windows, unity">

This page shows you how to implement <Vg k="SPATIAL" /> in your <Vpl k="CLIENT" />.

## Understand the tech

<Vg k="COMPANY" /> provides a local Cartesian coordinate system calculation scheme for setting up <Vg k="SPATIAL" /> positions for users and the media player.

#### <Vg k="SPATIAL" /> for users

<PlatformWrapper notAllowed="ios,macos">
Use an instance of `ILocalSpatialAudioEngine` to implement <Vg k="SPATIAL" />. Call `updateSelfPosition` and `updateRemotePosition` to specify the spatial coordinates of local and remote users in the channel. <Vpd k="SDK"/> calculates the relative positions of local and remote users. This enables local users to experience the <Vg k="SPATIAL" /> of remote users.
</PlatformWrapper>

<PlatformWrapper platform="ios,macos">
Use an instance of `AgoraLocalSpatialAudioKit` to implement <Vg k="SPATIAL" />. Call `updateSelfPosition` and `updateRemotePosition` to specify the spatial coordinates of local and remote users in the channel. <Vpd k="SDK"/> calculates the relative positions of local and remote users. This enables local users to experience the <Vg k="SPATIAL" /> of remote users.
</PlatformWrapper> 
![SpatialAudio](/images/video-sdk/spatial-audio-effect-user.svg)

#### <Vg k="SPATIAL" /> for media player

<PlatformWrapper notAllowed="ios,macos">
Call `updateSelfPosition` and `updatePlayerPositionInfo` methods of the `ILocalSpatialAudioEngine` class to update the spatial coordinates of local users and the media player. The SDK calculates the relative positions of local users and the media player. This enables local users to experience the <Vg k="SPATIAL" /> effect of the media player.
</PlatformWrapper> 

<PlatformWrapper platform="ios,macos">
Call `updateSelfPosition` and `updatePlayerPositionInfo` methods of the `AgoraLocalSpatialAudioKit` class to update the spatial coordinates of local users and the media player. The SDK calculates the relative positions of local users and the media player. This enables local users to experience the <Vg k="SPATIAL" /> effect of the media player.
</PlatformWrapper> 

![SpatialAudio](/images/video-sdk/spatial-audio-effect-player.svg)

## Prerequisites

Ensure that you have implemented the [SDK quickstart](../get-started/get-started-sdk) in your project. 

<PlatformWrapper platform="windows">

To maintain <Vg k="SPATIAL" /> during broadcasts with Bluetooth headphones, best practice is to adhere to the following structured guidelines:

1. Use the A2DP (Advanced Audio Distribution Profile) transmission protocol for audio playback.
1. Employ Bluetooth headphones exclusively for audio playback purposes.
1. Use alternate devices for audio capture tasks.

Not adhering to these guidelines might result in difficulty experiencing <Vg k="SPATIAL" />.

</PlatformWrapper>

## Implement <Vg k="SPATIAL" />
The following figure shows the workflow you implement to provide <Vg k="SPATIAL" /> for users and the media player:

![Spatial audio steps](/images/video-sdk/spatial-audio-steps.svg)
<ProjectImplement/>

## Reference
This section contains content that completes the information on this page, or points you to documentation that explains other aspects to this product.

<Reference/>

</PlatformWrapper>
<PlatformWrapper notAllowed="android, ios, macos, windows, unity">
<NotAvailable />
</PlatformWrapper>

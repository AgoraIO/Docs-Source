import {PlatformWrapper} from "../../../src/mdx-components/PlatformWrapper";

import Prerequisites from '@docs/shared/common/prerequities.mdx';
import ProjectImplement from '@docs/shared/extensions-marketplace/ai-noise-suppression/project-implementation/index.mdx';
import Reference from '@docs/shared/extensions-marketplace/ai-noise-suppression/reference/index.mdx';
import ProjectTest from '@docs/shared/extensions-marketplace/ai-noise-suppression/project-test/poc3.mdx';

Agora's <Vg k="RTEE_NS" />, enables you to suppress hundreds of types of noise and reduce distortion in human voices when multiple people speak at the same time. In scenarios such as online meetings, online chat rooms, video consultations with doctors, and online gaming, <Vg k="RTEE_NS" /> makes virtual communication as smooth as face-to-face interaction.

<a name="type"></a>
<Vg k="RTEE_NS" /> reduces the following types of noise:

- Television
- Kitchen
- Street, such as birds chirping, traffic, and subway sounds
- Machine, such as fans, air conditioners, vacuum cleaners, and copiers
- Office, such as keyboard and mouse clicks
- Household, such as doors opening, creaking chairs, crying babies, and house renovations
- Constant knocking
- Beeps and clapping
- Music

You can use the following noise reduction strategies:
- Default: Reduces noise to a comfortable level without distorting human voice.
- Custom: A more enhanced or customized noise reduction strategy for your business scenario. Contact [support@agora.io](mailto:support@agora.io) for details.

Want to try out <Vg k="RTEE_NS" />? Use the <a href="https://webdemo.agora.io/aiDenoiser/index.html">online demo</a>.

## Understand the tech

In the pre-processing stage, <Vg k="RTEE_NS"/> uses deep learning noise reduction algorithms to modify <audio src=""></audio> data in the extensions pipeline.

![](/images/extensions-marketplace/ai-noise-suppression.png)

<PlatformWrapper notAllowed="unreal">

## Prerequisites

<Prerequisites />
- [Noise type](#type) matches your business scenario.  For example, if you want the microphone to collect background music, the extension is not applicable because it categorizes such background music as noise.

## Implementation

This section explains how to use the latest version of the <Vg k="RTEE_NS" /> extension. Implementation for previous versions might be different. For details, see the [release notes](/extensions-marketplace/overview/release-notes#ai-noise-suppression).

<PlatformWrapper notAllowed="web, android, ios, macos, unity">
To activate <Vg k="RTEE_NS" /> in your <Vpl k="CLIENT" /> and set the noise reduction mode, call:

<ProductWrapper notAllowed="voice-calling">

<PlatformWrapper platform="ios">
* <Link to = "{{global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setainsmode(_:mode:)">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="macos">
  * <Link to = "{{global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setainsmode(_:mode:)">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="android">
  * <Link to = "{{global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="windows">
* <Link to = "{{global.API_REF_WINDOWS_ROOT_CPP}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="electron">
  * <Link to = "{{global.API_REF_ELECTRON_ROOT}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="unity">
  * <Link to = "{{global.API_REF_UNITY_ROOT}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="flutter">
  * <Link to = "{{global.API_REF_FLUTTER_ROOT}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="react-native">
  * <Link to = "{{global.API_REF_RN_ROOT}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>

</ProductWrapper>

<ProductWrapper product="voice-calling" >
<PlatformWrapper platform="ios">
* <Link to = "{{global.API_REF_IOS_ROOT_RTC_ENGINE_KIT_VOICE_SDK}}/setainsmode(_:mode:)">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="macos">
  * <Link to = "{{global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT_VOICE_SDK}}/setainsmode(_:mode:)">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="android">
  * <Link to = "{{global.API_REF_ANDROID_ROOT_VOICE_SDK}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="windows">
* <Link to = "{{global.API_REF_WINDOWS_ROOT_CPP_VOICE_SDK}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="electron">
  * <Link to = "{{global.API_REF_ELECTRON_ROOT_VOICE_SDK}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="unity">
  * <Link to = "{{global.API_REF_UNITY_ROOT_VOICE_SDK}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="flutter">
  * <Link to = "{{global.API_REF_FLUTTER_ROOT_VOICE_SDK}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
<PlatformWrapper platform="react-native">
  * <Link to = "{{global.API_REF_RN_ROOT_VOICE}}/class_irtcengine.html#api_irtcengine_setainsmode">setAINSMode</Link>
</PlatformWrapper>
</ProductWrapper>

</PlatformWrapper>

<PlatformWrapper platform="web,react-js ,android, ios, macos, unity">
<ProjectImplement />
</PlatformWrapper>

<PlatformWrapper platform="ios">

When <Vg k="RTEE_NS" /> is enabled, if <Vg k="VSDK" /> detects that the device performance is not sufficient, it:

- Disables <Vg k="RTEE_NS" />
- Enables traditional noise reduction
- Throws the `WARN_APM_AINS_CLOSED` (-1054) error code.

</PlatformWrapper>

<ProjectTest />

## Reference

This section completes the information on this page, or points you to documentation that explains other aspects about this product.

<PlatformWrapper platform="web">

<Reference/>

</PlatformWrapper>

<PlatformWrapper platform="ios">
### Minimum device requirements
- iOS iPhone 6S
- iPadOS
- iPad Pro (2nd generation)
- iPad mini (5th generation)
- iPad Air (3rd generation)
- macOS MacBook Pro 2015

</PlatformWrapper>

### Considerations

Currently,  <Vg k="RTEE_NS" /> has the following limitations:

- If the sample rate of the input signal is not 16 kHz,  <Vg k="RTEE_NS" />:
    1. Downsamples the signal to 16 kHz.
    1. Removes noise
    1. Resamples the output signal to the original sample rate.
    This means that audio data above 8 kHz is removed in the output signal.

- In some scenarios, <Vg k="RTEE_NS" /> could cause audio quality to decrease by a certain degree.
- When multiple people speak at the same time, the audio quality of lowest human voices could be decreased by a certain degree.

<PlatformWrapper platform="web">
- If only some of the audio tracks on the current web page enable <Vg k="RTEE_NS" />, audio tracks that do not enable <Vg k="RTEE_NS" /> could be affected. This is because <Vg k="RTEE_NS" /> turns on AEC and AGC and turns off NS in the browser.
- Although <Vg k="RTEE_NS" /> supports Safari v14.1 and greater, there are performance issues. Best practice is to not support Safari.
- <Vg k="RTEE_NS" /> does not support browsers on mobile devices.
</PlatformWrapper>

</PlatformWrapper>
import * as data from '@site/data/variables';
import ProjectImplement from '@docs/shared/signaling/storage/project-implementation/index.mdx';
import ProjectTest from '@docs/shared/signaling/storage/project-test/index.mdx';
import Reference from '@docs/shared/signaling/storage/reference/index.mdx';

<Vpd k="NAME" /> storage is a powerful feature that enables you to store and manage channel and user attributes in a serverless storage system. It acts as an extension of your database, offering synchronization across all participants. By using signaling storage, you can develop innovative, reliable, and scalable applications without the hassle of setting up your own database. This seamless integration ensures that data is readily available and up-to-date for all users, making it easier to build real-time and collaborative applications. 

Your <Vpl k="CLIENT" /> receives metadata modification events in real-time enabling you to update the front-end accordingly. You can leverage user and channel metadata in <Vpd k="NAME" /> apps to:

* **Personalize user profiles**: Create user profiles that include additional information such as the user's full name, a profile picture URL, geographic location, and availability status. 

* **Maintain search history**: Enable users to quickly search for specific messages, users, or topics within the app.

* **Customize notifications**: Enable users to customize their notification settings, such as choosing notifications to receive and setting custom alert tones. 

* **Enhance security**: Enforce security measures, such as verifying user identity and encrypting messages. 

## Understand the tech

Using <Vpd k="NAME" /> storage you associate metadata with a particular channel or a specific user:

* **Channel metadata**: store and distribute contextual channel data in your <Vpl k="CLIENT" />, such as props, announcements, member lists, and relationship chains.
When channel properties are set, updated, or deleted by a user, an event notification is triggered, and other users in the channel receive this information within 100ms.

* **User metadata**: store and distribute contextual data about users in your <Vpl k="CLIENT" />.  A user has one
set of metadata with one or more attributes. When an attribute is set, updated or deleted, an event notification is
triggered, and users who subscribe to this users metadata will receive this information within 100ms.

This section presents an overview of the steps required to integrate <Vpd k="NAME" /> storage into your <Vpl k="CLIENT" />. The following figure shows the basic workflow you implement to read and write channel and user metadata:

![Signaling workflow](/images/signaling/signaling-metadata-workflow.svg)

<PlatformWrapper notAllowed="web,android,ios">
**The <Vpl k="NAME" /> implementation is coming soon.**
</PlatformWrapper>

<PlatformWrapper notAllowed="macos,windows,electron,linux-cpp,linux-java,unity">

## Prerequisites

To follow this page, you must have:

- Setup the [<Vg k="MESS_SDK"/> reference app](/en/signaling/get-started/get-started-sdk#project-setup).


## Implement storage

In the `storage` reference app, after the local user logs in to <Vpd k="NAME" />, you set their metadata in the form of key-value pairs. When the user modifies a value stored as metadata, you call the update method to save the new value. You show a list of all users currently in the channel. When the local user selects another user from the list, you retrieve and display their metadata. You subscribe to the metadata of remote users to be notified of changes.

To demonstrate the use of channel storage, the <Vpl k="CLIENT" /> sets the `lastUser` key in the channel metadata to the current time, whenever a user subscribes to the channel. Since the channel metadata is shared by all users in the channel, the value of the `lastUser` key holds the time of the last subscription to the channel. You access the identity of the `lastUser` by referring to the `AuthorUid` of the metadata key.

<ProjectImplement />

## Test storage

This section explains how to run the `storage` reference app and test channel and user metadata features. To run the project, take the following steps:

<ProjectTest />

## Reference

This section contains additional information that either supplements the content on this page or directs you to documentation that covers other aspects of this product.

<Reference />

</PlatformWrapper>

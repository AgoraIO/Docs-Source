---
title: LocalUserObserver Class
---

<span className="index-group-localuserobserver" style={{display: 'none'}}>LocalUserObserver</span>

<span className="index-desc-localuserobserver">`LocalUserObserver` class.</span>

<h2 className="anchor index-group-item-localuserobserver index-api-onlocalaudiotrackstatechanged" id="onlocalaudiotrackstatechanged">on_local_audio_track_state_changed</h2>

```python
def on_local_audio_track_state_changed(self, agora_local_user, agora_local_audio_track, state, error)
```

<span className="index-desc-onlocalaudiotrackstatechanged">Triggered when the local audio track state changes.</span>

#### Parameters

| Parameter | Description |
|---------------|----------------------------------------------------------------------|
| `agora_local_user` | `LocalUserObserver` class. |
| `agora_local_audio_track` | Local audio track. See [`LocalAudioTrack`](./localaudiotrack). |
| `state` | The current state of the audio track. |
| `error` | Error information. |


<h2 className="anchor index-group-item-localuserobserver index-api-onuseraudiotrackstatechanged" id="onuseraudiotrackstatechanged">on_user_audio_track_state_changed</h2>

```python
def on_user_audio_track_state_changed(self, agora_local_user, user_id, agora_remote_audio_track, state, reason, elapsed)
```

<span className="index-desc-onuseraudiotrackstatechanged">Occurs when the remote audio track state changes.</span>

#### Parameters

| Parameter | Description |
|---------------|----------------------------------------------------------------------|
| `agora_local_user` | `LocalUserObserver` class. |
| `user_id` | The remote user ID. |
| `agora_remote_audio_track` | Remote audio track. |
| `state` | The current state of the audio track. |
| `reason` | The reason for the state change. |
| `elapsed` | The time elapsed after the remote user connects to the channel (ms). |


<h2 className="anchor index-group-item-localuserobserver index-api-onstreammessage" id="onstreammessage">on_stream_message</h2>

```python
def on_stream_message(self, agora_local_user, user_id, stream_id, data, length)
```

<span className="index-desc-onstreammessage">Callback for receiving data stream messages. This callback indicates that the local user has received the stream message sent by the remote user through the [`send_stream_message`](./rtcconnection#sendstreammessage) method.</span>

#### Parameters

| Parameter | Description |
|---------------|----------------------------------------------------------------------|
| `agora_local_user` | `LocalUserObserver` class. |
| `user_id` | The user ID that sends the message. |
| `stream_id` | The Stream ID of the received message. |
| `data` | The received data. |
| `length` | The data length (bytes). |

<h2 className="anchor index-group-item-localuserobserver index-api-onuserinfoupdated" id="onuserinfoupdated">on_user_info_updated</h2>

```python
def on_user_info_updated(self, agora_local_user, user_id, msg, val)
```

<span className="index-desc-onuserinfoupdated">Occurs when the user media information is updated.</span>

#### Parameters

export const TableHeaderh6khiuhj9o = [
  {
    label: 'Parameter'
  },
  {
    label: 'Description'
  }
];

<Table header={TableHeaderh6khiuhj9o}>
  <Tr>
    <Td>`agora_local_user`</Td>
    <Td>`LocalUserObserver` class.</Td>
  </Tr>
  <Tr>
    <Td>`user_id`</Td>
    <Td>The user ID that sends the message.</Td>
  </Tr>
  <Tr>
    <Td>`msg`</Td>
    <Td>
    User media information:
    - `0`: The user has stopped publishing audio streams.
    - `1`: The user has stopped publishing video streams.
    - `4`: The user has enabled video functionality.
    </Td>
  </Tr>
  <Tr>
    <Td>`val`</Td>
    <Td>
    Whether the user stops sending streams.
    - `0`: Do not stop sending streams.
    - `1`: Stop sending streams.
    </Td>
  </Tr>
</Table>
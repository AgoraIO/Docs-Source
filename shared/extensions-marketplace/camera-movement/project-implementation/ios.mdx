<PlatformWrapper platform="ios">

### Register the extension

After initializing `RtcEngine`, call `registerExtension` to register the <Vg k="RTEE_CM"/> extension.

<Admonition type="caution" title="Note">
Register <Vg k="RTEE_CM"/> before calling `enableVideo` to enable the video module.
</Admonition>

```swift
// Register the Camera Movement extension
agoraEngine.registerExtension(
    withVendor: "agora_video_filters_portrait_rhythm",
    extension: "portrait_rhythm",
    sourceType: .primaryCamera
)
// Enable the video module
agoraEngine.enableVideo()
```

### Enable <Vg k="RTEE_CM"/>

Call `startPreview` to start the video preview, then call `enableExtension` to turn on or off the <Vg k="RTEE_CM"/> extension.

```swift
// Turn on Camera Movement
agoraEngine.enableExtension(
    withVendor: "agora_video_filters_portrait_rhythm",
    extension: "portrait_rhythm",
    enabled: true
)
```

### Set or switch camera movement effects

To set or switch the camera movement effect, call `setExtensionPropertyWithVendor` and pass in key and value to achieve effects such as heartbeat rhythm, portrait rhythm, and front and back camera movement. For details, see the [key-value description](#key-value-description).

```swift
// Set to heartbeat rhythm effect
agoraEngine.setExtensionPropertyWithVendor(
    "agora_video_filters_portrait_rhythm",
    extension: "portrait_rhythm",
    key: "mode",
    value: "1"
)
```

</PlatformWrapper>

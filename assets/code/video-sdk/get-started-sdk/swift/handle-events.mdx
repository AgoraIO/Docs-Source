<ProductWrapper product="video-calling">
``` swift
/**
 The delegate is telling us that the local user has successfully joined the channel.
 - Parameters:
    - engine: The Agora RTC engine kit object.
    - channel: The channel name.
    - uid: The ID of the user joining the channel.
    - elapsed: The time elapsed (ms) from the user calling `joinChannel` until this method is called.
*/

 If the client's role is `.broadcaster`, this method also adds the broadcaster's
 userId (``localUserId``) to the ``allUsers`` set.
open func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinChannel channel: String, withUid uid: UInt, elapsed: Int) {
    self.localUserId = uid
    if self.role == .broadcaster {
        self.allUsers.insert(uid)
    }
}

/**
 The delegate is telling us that a remote user has joined the channel.

 - Parameters:
    - engine: The Agora RTC engine kit object.
    - uid: The ID of the user joining the channel.
    - elapsed: The time elapsed (ms) from the user calling `joinChannel` until this method is called.

This method adds the remote user to the `allUsers` set.
*/
open func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinedOfUid uid: UInt, elapsed: Int) {
    self.allUsers.insert(uid)
}

/**
 The delegate is telling us that a remote user has left the channel.

 - Parameters:
     - engine: The Agora RTC engine kit object.
     - uid: The ID of the user who left the channel.
     - reason: The reason why the user left the channel.

This method removes the remote user from the `allUsers` set.
*/
open func rtcEngine(_ engine: AgoraRtcEngineKit, didOfflineOfUid uid: UInt, reason: AgoraUserOfflineReason) {
    self.allUsers.remove(uid)
}
```
</ProductWrapper>

<ProductWrapper product={["interactive-live-streaming", "broadcast-streaming"]}>
``` swift
/**
 The delegate is telling us that the local user has successfully joined the channel.
 - Parameters:
    - engine: The Agora RTC engine kit object.
    - channel: The channel name.
    - uid: The ID of the user joining the channel.
    - elapsed: The time elapsed (ms) from the user calling `joinChannel` until this method is called.
*/

 If the client's role is `.broadcaster`, this method also adds the broadcaster's
 userId (``localUserId``) to the ``allUsers`` set.
open func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinChannel channel: String, withUid uid: UInt, elapsed: Int) {
    self.localUserId = uid
    if self.role == .broadcaster {
        self.allUsers.insert(uid)
    }
}

/**
 The delegate is telling us that a remote user has joined the channel.

 - Parameters:
    - engine: The Agora RTC engine kit object.
    - uid: The ID of the user joining the channel.
    - elapsed: The time elapsed (ms) from the user calling `joinChannel` until this method is called.

This method adds the remote user to the `allUsers` set.
*/
open func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinedOfUid uid: UInt, elapsed: Int) {
    self.allUsers.insert(uid)
}

/**
 The delegate is telling us that a remote user has left the channel.

 - Parameters:
     - engine: The Agora RTC engine kit object.
     - uid: The ID of the user who left the channel.
     - reason: The reason why the user left the channel.

This method removes the remote user from the `allUsers` set.
*/
open func rtcEngine(_ engine: AgoraRtcEngineKit, didOfflineOfUid uid: UInt, reason: AgoraUserOfflineReason) {
    self.allUsers.remove(uid)
}
```
</ProductWrapper>

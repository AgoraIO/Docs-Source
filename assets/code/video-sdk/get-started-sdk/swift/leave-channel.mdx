<ProductWrapper product="video-calling">
``` swift
/**
Leaves the channel and stops the preview for the session.

- Parameter leaveChannelBlock: An optional closure that will be called when the client leaves the channel.
     The closure takes an `AgoraChannelStats` object as its parameter.

This method also empties all entries in ``allUsers``.
*/
@discardableResult
open func leaveChannel(
    leaveChannelBlock: ((AgoraChannelStats) -> Void)? = nil
) -> Int32 {
    let leaveErr = self.agoraEngine.leaveChannel(leaveChannelBlock)
    self.agoraEngine.stopPreview()
    defer { AgoraRtcEngineKit.destroy() }
    self.allUsers.removeAll()
    return leaveErr
}
```
</ProductWrapper>

<ProductWrapper product={["interactive-live-streaming", "broadcast-streaming"]}>
``` swift
/**
Leaves the channel and stops the preview for the session.

- Parameter leaveChannelBlock: An optional closure that will be called when the client leaves the channel.
     The closure takes an `AgoraChannelStats` object as its parameter.

This method also empties all entries in ``allUsers``.
*/
@discardableResult
open func leaveChannel(
    leaveChannelBlock: ((AgoraChannelStats) -> Void)? = nil
) -> Int32 {
    let leaveErr = self.agoraEngine.leaveChannel(leaveChannelBlock)
    self.agoraEngine.stopPreview()
    defer { AgoraRtcEngineKit.destroy() }
    self.allUsers.removeAll()
    return leaveErr
}
```
</ProductWrapper>
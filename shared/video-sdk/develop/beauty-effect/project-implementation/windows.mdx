<PlatformWrapper platform="windows">

### Beautification

#### Apply preset beauty effects

Use the `setFaceShapeBeautyOptions` method to enable beauty effects. Set `enable` to `true` and configure the beauty style and intensity using `FaceShapeBeautyOptions`.

```cpp
agora::rtc::FaceShapeBeautyOptions beauty_options;
// Set the beauty style to male
beauty_options.shapeStyle = agora::rtc::FaceShapeBeautyOptions::FACE_SHAPE_BEAUTY_STYLE_MALE;
// Set the intensity
beauty_options.styleIntensity = 100;

mRtcEngine->setFaceShapeBeautyOptions(true, beauty_options);
```

#### Fine-tune facial areas

Use the `setFaceShapeAreaOptions` method to fine-tune specific facial features. This method immediately applies changes to individual areas without affecting the preset values.

```cpp
agora::rtc::FaceShapeAreaOptions area_options;

// Adjust the head size
area_options.shapeArea = agora::rtc::FaceShapeAreaOptions::FACE_SHAPE_AREA_HEADSCALE;
area_options.shapeIntensity = 100;

mRtcEngine->setFaceShapeAreaOptions(area_options);
```

#### Disable beauty effects

To turn off beauty effects, call `setFaceShapeBeautyOptions` and pass `false` to the `enable` parameter.

```cpp
mRtcEngine->setFaceShapeBeautyOptions(false, beauty_options);
```

### Makeup

#### Enable makeup effects

To enable makeup effects, call the `setExtensionProperty` method and set the following parameters:

- `provider`: `"agora_video_filters_clear_vision"`
- `extension`: `"clear_vision"`
- `key`: `"makeup_options"`
- `value`: A JSON string that defines the makeup options. See [Makeup JSON fieldsâ€‹](#makeup-json-fields).
- `sourceType`: One of the following:
  - `PRIMARY_CAMERA_SOURCE`: For camera input (default)
  - `CUSTOM_VIDEO_SOURCE`: For custom video sources

The following code sample shows how to enable makeup effects:

```cpp
// Create a struct for configuring makeup effects
struct MakeupOptions {
    bool enable_mu;
    int browStyle;
    int browColor;
    float browStrength;
    int lashStyle;
    int lashColor;
    float lashStrength;
    int shadowStyle;
    float shadowStrength;
    int pupilStyle;
    float pupilStrength;
    int blushStyle;
    int blushColor;
    float blushStrength;
    int lipStyle;
    int lipColor;
    float lipStrength;

    MakeupOptions() {
        enable_mu = false;
        browStyle = 0;
        browColor = 0;
        browStrength = 0.5f;
        lashStyle = 0;
        lashColor = 0;
        lashStrength = 0.5f;
        shadowStyle = 0;
        shadowStrength = 0.5f;
        pupilStyle = 0;
        pupilStrength = 0.5f;
        blushStyle = 0;
        blushColor = 0;
        blushStrength = 0.5f;
        lipStyle = 0;
        lipColor = 0;
        lipStrength = 0.5f;
    }

    std::string toJsonString() {
        std::string jsonStr = "{\"enable_mu\":" + std::string(enable_mu ? "true" : "false");
        jsonStr += ",\"browStyle\":" + std::to_string(browStyle);
        jsonStr += ",\"browColor\":" + std::to_string(browColor);
        jsonStr += ",\"browStrength\":" + std::to_string(browStrength);
        jsonStr += ",\"lashStyle\":" + std::to_string(lashStyle);
        jsonStr += ",\"lashColor\":" + std::to_string(lashColor);
        jsonStr += ",\"lashStrength\":" + std::to_string(lashStrength);
        jsonStr += ",\"shadowStyle\":" + std::to_string(shadowStyle);
        jsonStr += ",\"shadowStrength\":" + std::to_string(shadowStrength);
        jsonStr += ",\"pupilStyle\":" + std::to_string(pupilStyle);
        jsonStr += ",\"pupilStrength\":" + std::to_string(pupilStrength);
        jsonStr += ",\"blushStyle\":" + std::to_string(blushStyle);
        jsonStr += ",\"blushColor\":" + std::to_string(blushColor);
        jsonStr += ",\"blushStrength\":" + std::to_string(blushStrength);
        jsonStr += ",\"lipStyle\":" + std::to_string(lipStyle);
        jsonStr += ",\"lipColor\":" + std::to_string(lipColor);
        jsonStr += ",\"lipStrength\":" + std::to_string(lipStrength);
        jsonStr += "}";
        return jsonStr;
    }
};

// Enable makeup
MakeupOptions options;
options.enable_mu = true;
options.lashStyle = 1;
options.lashColor = 2;
options.lashStrength = 0.5f;

std::string json = options.toJsonString();
mRtcEngine->setExtensionProperty("agora_video_filters_clear_vision", "clear_vision", "makeup_options", json.c_str(), PRIMARY_CAMERA_SOURCE);
```

#### Modify makeup effects

To adjust the makeup settings, update the struct and call `setExtensionProperty` again:

```cpp
MakeupOptions options;
options.lashStrength = 0.8f;
std::string json = options.toJsonString();

mRtcEngine->setExtensionProperty("agora_video_filters_clear_vision", "clear_vision", "makeup_options", json.c_str(), PRIMARY_CAMERA_SOURCE);
```

#### Disable makeup effects

To turn off makeup effects, set `enable_mu` to `false` and apply the configuration:

```cpp
MakeupOptions options;
options.enable_mu = false;
std::string json = options.toJsonString();

mRtcEngine->setExtensionProperty("agora_video_filters_clear_vision", "clear_vision", "makeup_options", json.c_str(), PRIMARY_CAMERA_SOURCE);
```

</PlatformWrapper>

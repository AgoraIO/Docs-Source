import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

import ProjectImplement from '@docs/shared/video-sdk/token-authentication/use-tokens/project-implementation/index.mdx';
import Reference from '@docs/shared/video-sdk/token-authentication/use-tokens/reference/index.mdx';

To protect your business, it is best practice to authenticate every client that joins a channel. This guide explains how to fetch an authentication token from your token server, use it to join a channel, and renew the token when it expires.

## Understand the tech

When a user attempts to connect to an <Vg k="COMPANY" /> channel, your <Vpl k="CLIENT" /> retrieves a token from the token server in your security infrastructure. Your <Vpl k="CLIENT" /> then sends this token to <Vg k="AGORA_BACKEND" /> for authentication. <Vg k="AGORA_BACKEND" /> reads the information stored in the token to validate the request.

The following figure shows the call flow you implement to create step-up-authentication with <Vg k="COMPANY" /> <Vpd k="NAME"/>:

<details>
<summary>Token authentication flow</summary>

![token authentication flow](/images/rtc-sdk/token-authentication.svg)
</details>

<ProductWrapper notAllowed="cloud-recording, on-premise-recording">

## Prerequisites

Before starting, ensure that you have:

* Implemented the [Quickstart](../get-started/get-started-sdk) in your project.

* Deployed a token server using either of the following guides:

    <ProductWrapper notAllowed="iot">
    - [Deploy a token server](../token-authentication/deploy-token-server)
    - [Deploy a middleware server](../token-authentication/middleware-token-server)
    </ProductWrapper>

    <ProductWrapper product="iot">
    - [Deploy a token server](/realtime-communication/token-authentication/deploy-token-server)
    - [Deploy a middleware server](/realtime-communication/token-authentication/middleware-token-server)
    </ProductWrapper>    

</ProductWrapper>

## Implement basic authentication

This section shows you how to implement basic authentication by acquiring a token and using it to join a channel. 

<ProjectImplement />

<Admonition type="caution" title="Note">
The user ID and channel name used to join a channel must be consistent with the values used to generate the token.
</Admonition>

## Reference

This section contains content that completes the information on this page, or points you to documentation that explains other aspects to this product.

<Reference />
import Status from '../shared/_rtmstatus-en.mdx';
import * as code from '../shared/_error-codes.mdx'
import * as enumv from '../shared/_enumv.mdx';
import * as config from '../shared/_configuration.mdx';
import * as channel from '../shared/_channel.mdx';
import * as topic from '../shared/_topic.mdx'

## Troubleshooting

Refer to the following information for troubleshooting API calls.

### ErrorInfo

When calling the Signaling Swift API, if an error occurs, the SDK returns a value of type `AgoraRtmErrorInfo`:

| Properties | Type | Description |
| :------------------ | :--------------------: | ------------------------------------- |
| `errorCode` | `AgoraRtmErrorCode` | Error code for this operation. |
| `reason` | String | Error reason for this operation. |
| `operation` | String | Operation type. |

To find out the cause of the error and get the corresponding solution, use the `errorCode` field with the <a href="#error-codes-table">error codes table</a >.

### Error codes table
 
Refer to the following error codes table to identify and troubleshoot the problem:

| Error code| Error description| Cause and solution |
| :------ | :---------------------- | :------------------------------------------------------------|
| `0` | <code>{code.ok[props.ag_platform]}</code> | Correct call |
| `-10001` | <code>{code.notinit[props.ag_platform]}</code> | The SDK is not initialized. Please initialize the `RtmClient` instance by calling the <code>{config.create[props.ag_platform]}</code> method before performing other operations. |
| `-10002` | <code>{code.notlogin[props.ag_platform]}</code> | The user called the API without logging in to Signaling, disconnected due to timeout, or actively logged out. Please log in to Signaling first. |
| `-10003` | <code>{code.invalidapp[props.ag_platform]}</code> | Invalid App ID: <br/> - Check that the App ID is correct. <br/> - Ensure that Signaling has been activated for the App ID. |
| `-10005` | <code>{code.invalidtoken[props.ag_platform]}</code> | Invalid Token: <br/> - The token is invalid, check whether the Token Provider generates a valid Signaling Token. |
| `-10006` | <code>{code.invaliduser[props.ag_platform]}</code> | Invalid User ID: <br/> - Check if user ID is empty. <br/> - Check if the user ID contains illegal characters. |
| `-10007` | <code>{code.initservicefailed[props.ag_platform]}</code> | SDK initialization failed. Please reinitialize by calling the <code>{config.create[props.ag_platform]}</code> method. |
| `-10008` | <code>{code.invalidchanel[props.ag_platform]}</code> | Invalid channel name: <br/> - Check if the channel name is empty. <br/> - Check if the channel name contains illegal characters. |
| `-10009` | <code>{code.tokenexpired[props.ag_platform]}</code> | Token expired. Call `renewToken` to reacquire the Token. |
| `-10010` | <code>{code.loginnoserverresources[props.ag_platform]}</code> | Server resources are limited. It is recommended to log in again. |
| `-10011` | <code>{code.logintimeout[props.ag_platform]}</code> | Login timeout. Check whether the current network is stable and switch to a stable network environment. |
| `-10012` | <code>{code.loginrejected[props.ag_platform]}</code> | SDK login rejected by the server: <br/> - Check tha Signaling is activated on your App ID. <br/> - Check if the token or `userId` is banned. |
| `-10013` | <code>{code.loginaborted[props.ag_platform]}</code> | SDK login interrupted due to unknown problem: <br/> - Check that the current network is stable and switch to a stable network environment. <br/> - The current `userId` is logged in. |
| `-10014` | <code>{code.invalidparameter[props.ag_platform]}</code> | Invalid parameter. Please check if the parameters you provided are correct. |
| `-10015` | <code>{code.loginnotauthorized[props.ag_platform]}</code> | No RTM service permissions. Check that the console opens Signaling services. |
| `-10016` | <code>{code.logininconsistentappid[props.ag_platform]}</code> | Inconsistent App ID. Please check whether the App ID used for initialization, login, and joining a channel are consistent. |
| `-10017` | <code>{code.duplicateoperation[props.ag_platform]}</code> | Duplicate operation. |
| `-10018` | <code>{code.instancealreadyreleased[props.ag_platform]}</code> | Repeat `rtm` instantiation or `RTMStreamChannel` instantiation. |
| `-10019` | <code>{code.invalidchanneltype[props.ag_platform]}</code> | Invalid channel type. The SDK only supports the following channel types. Please use the correct value: <br/> - <code>{enumv.channeltypemessage[props.ag_platform]}</code>: Message Channel <br/> - <code>{enumv.channeltypestream[props.ag_platform]}</code>: Stream Channel <br/> - <code>{enumv.channeltypeuser[props.ag_platform]}</code>: User Channel |
| `-10020` | <code>{code.invalidencryptionparameter[props.ag_platform]}</code> | Message encryption parameters are invalid. <ul> <li> Check that the encryption key generated is a String. </li> <li> Check that the generated encryption salt is `Uint8Array` type and that the length is 32 bytes. </li> <li> Check that the encryption method matches the encryption key and the encryption salt. </li> </ul> |
| `-10021` | <code>{code.operationrateexceedlimitation[props.ag_platform]}</code> | Channel metadata or User Metadata -related API call frequency is exceeding the limit. Please control the call frequency within 10/second. |
| `-10022` | <code>{code.servicenotsupported[props.ag_platform]}</code> | The service type is not supported. Check whether the service type you set in <code>{enumv.rtmservicetype[props.ag_platform]}</code> is correct. This error code is only applicable to the private deployment function. |
| `-10023` | <code>{code.logincanceled[props.ag_platform]}</code> | The login operation has been canceled. Possible reasons are as follows: <ul><li> After calling the <code>{config.login[props.ag_platform]}</code> method, if you call the method again before receiving the call result, the previous call operation will be canceled and the SDK will execute the next call.</li> <li>Calling the <code>{config.logout[props.ag_platform]}</code> method to log out before successfully logging in.</li></ul> |
| `-10024` | <code>{code.invalidprivateconfig[props.ag_platform]}</code> | The private deployment parameter settings are invalid. Please check whether the service type and server address you set in <code>{config.privateconfig[props.ag_platform]}</code> are valid. |
| `-10025` | <code>{code.rtmnotconnected[props.ag_platform]}</code> | Not connected to the Signaling server. |
| `-11001` | <code>{code.channelnotjoined[props.ag_platform]}</code> | The user has not joined the channel: <br/> - The user is not online, offline or has not joined the channel<br/> - Check for typos in `userId`. |
| `-11002` | <code>{code.channelnotsub[props.ag_platform]}</code> | The user has not subscribed to the channel: <br/> - The user is not online, offline or has not joined the channel<br/> - Check for typos in `userId`. |
| `-11003` | <code>{code.channeluserexceed[props.ag_platform]}</code> | The number of subscribers to this topic exceeds the limit. |
| `-11004` | <code>{code.inresue[props.ag_platform]}</code> | In co-channel mode, RTM released the Stream Channel. |
| `-11005` | <code>{code.instanceexceed[props.ag_platform]}</code> | The number of created or subscribed channels exceeds the limit. See <a href="/en/signaling/reference/limitations">API usage limits</a> for details. |
| `-11006` | <code>{code.inerror[props.ag_platform]}</code> | Channel is not available. Please recreate the Stream Channel or resubscribe to the Message Channel. |
| `-11007` | <code>{code.channeljoinfailed[props.ag_platform]}</code> | Failed to join this channel: <br/> - Check if the number of joined channels exceeds the limit. <br/> - Check if the channel name is illegal. <br/> - Check if the network is disconnected. |
| `-11008` | <code>{code.invalidtopic[props.ag_platform]}</code> | Invalid topic name: <br/> - Check whether the topic name contains illegal characters. <br/> - Check if the topic name is empty. |
| `-11009` | <code>{code.invalidmessage[props.ag_platform]}</code> | Invalid message. Check whether the message type is legal, Signaling only supports `string`, `Uint8Array` type messages. |
| `-11010` | <code>{code.lengthexceed[props.ag_platform]}</code> | Message length exceeded limit. Check if the message payload size exceeds the limit: <br/> - Message Channel single message package limit is 32 KB. <br/> - Stream Channel single message package limit is 1 KB. |
| `-11011` | <code>{code.invalidlist[props.ag_platform]}</code> | Invalid user list: <br/> - Check if the user list is empty. <br/> - Check if the user list contains invalid entries. |
| `-11012` | <code>{code.channelnotavailable[props.ag_platform]}</code> | Invalid user list: <br/> - Check if the user list is empty<br/> - Check if the user list contains illegal items. |
| `-11013` | <code>{code.topicnotsub[props.ag_platform]}</code> | The topic is not subscribed. |
| `-11014` | <code>{code.topicexceed[props.ag_platform]}</code> | The number of topics exceeds the limit. |
| `-11015` | <code>{code.topicjoinfailed[props.ag_platform]}</code> | Failed to join this topic. Check whether the number of added topics exceeds the limit. |
| `-11016` | <code>{code.topicnotjoined[props.ag_platform]}</code> | The topic has not been joined. To send a message, you need to join the Topic first. |
| `-11017` | <code>{code.topicnotexist[props.ag_platform]}</code> | The topic does not exist. Check that the topic name is correct. |
| `-11018` | <code>{code.invalidtopicmeta[props.ag_platform]}</code> | The `meta` parameters in the topic are invalid. Check if the `meta` parameter exceeds 256 bytes. |
| `-11019` | <code>{code.subtimeout[props.ag_platform]}</code> | Channel subscription timed out. Check for broken connections. |
| `-11020` | <code>{code.subfrequent[props.ag_platform]}</code> | The channel subscription operation is too frequent. Make sure that the subscription operation of the same channel within a 5 seconds interval does not exceed 2 attempts. |
| `-11021` | <code>{code.subfailed[props.ag_platform]}</code> | Channel subscription failed.11003 Check if the number of subscribed channels exceeds the limit. |
| `-11022` | <code>{code.unsubfailed[props.ag_platform]}</code> | Failed to unsubscribe from the channel. Check if the connection is disconnected. |
| `-11023` | <code>{code.encryptfailed[props.ag_platform]}</code> | Message encryption failed: <br/> - Check that the `cipherKey` is valid. <br/> - Check that the `salt` is valid. <br/> - Check if `encryptionMode` mode matches the `cipherKey` and `salt`. |
| `-11024` | <code>{code.publishfailed[props.ag_platform]}</code> | Message publishing failed. Check for broken connections. |
| `-11026` | <code>{code.publishtimeout[props.ag_platform]}</code> | Message publishing timed out. Check for broken connections. |
| `-11027` | <code>{code.channelnotconnected[props.ag_platform]}</code> | The SDK is disconnected from the Signaling server. Please log in again. |
| `-11028` | <code>{code.channelleavefailed[props.ag_platform]}</code> | Failed to leave the channel. Check for broken connections. |
| `-11029` | <code>{code.customoverflow[props.ag_platform]}</code> | Custom type length overflow. The length of the `customType` field must to be within 32 characters. |
| `-11030` | <code>{code.custominvalid[props.ag_platform]}</code> | `customType` field is invalid. Check the `customType` field for illegal characters. |
| `-11031` | <code>{code.unsupportedmessagetype[props.ag_platform]}</code> | Message type is not supported. |
| `-11032` | <code>{code.presencenotready[props.ag_platform]}</code> | Presence service is not ready. Please rejoin the Stream Channel or resubscribe to the Message Channel. |
| `-11033` | <code>{code.channelreceiveroffline[props.ag_platform]}</code> | When sending a user message, the remote user is offline: <br/> - Check if the user ID set when calling the method is correct.<br/> - Check if the remote user is logged in and online. |
| `-11034` | <code>{code.channeljoincanceled[props.ag_platform]}</code> | The join channel operation has been canceled. After calling the <code>{channel.join[props.ag_platform]}</code> method, if you call the method again before receiving the call result, the previous call operation will be canceled and the SDK will execute the next call. |
| `-12001` | <code>{code.storagefailed[props.ag_platform]}</code> | Storage operation failed. |
| `-12002` | <code>{code.metadataexceed[props.ag_platform]}</code> | The number of Storage Metadata Items exceeds the limit. |
| `-12003` | <code>{code.invalidmetadata[props.ag_platform]}</code> | Invalid Metadata Item. |
| `-12004` | <code>{code.storageinvalidarg[props.ag_platform]}</code> | Invalid argument. |
| `-12005` | <code>{code.invalidrevision[props.ag_platform]}</code> | Invalid Revision parameter. |
| `-12006` | <code>{code.storageoverflow[props.ag_platform]}</code> | Metadata overflows. |
| `-12007` | <code>{code.invalidlock[props.ag_platform]}</code> | Invalid Lock name. |
| `-12008` | <code>{code.storagelocknotacquired[props.ag_platform]}</code> | The Lock was not acquired. |
| `-12009` | <code>{code.storageinvalidkey[props.ag_platform]}</code> | Invalid Metadata key. |
| `-12010` | <code>{code.storageinvalidvalue[props.ag_platform]}</code> | Invalid metadata value. |
| `-12011` | <code>{code.storagekeyoverflow[props.ag_platform]}</code> | Metadata key length overflow. |
| `-12012` | <code>{code.storagevalueoverflow[props.ag_platform]}</code> | Metadata value length overflow. |
| `-12013` | <code>{code.storageduplicatekey[props.ag_platform]}</code> | Duplicate Metadata Item key. |
| `-12014` | <code>{code.outdatedrevision[props.ag_platform]}</code> | Outdated Revision parameter. |
| `-12015` | <code>{code.storagenotsub[props.ag_platform]}</code> | This channel is not subscribed. |
| `-12016` | <code>{code.storageinvalidmetadata[props.ag_platform]}</code> | Metadata instance does not exist. Please create a Metadata instance. |
| `-12017` | <code>{code.storagesubexceed[props.ag_platform]}</code> | The number of subscribers exceeds the limit. |
| `-12018` | <code>{code.storagetimeout[props.ag_platform]}</code> | Storage operation timed out. |
| `-12019` | <code>{code.storagenotavailable[props.ag_platform]}</code> | The Storage service is not available. |
| `-13001` | <code>{code.presencenotconnected[props.ag_platform]}</code> | The user is not connected to the system. |
| `-13002` | <code>{code.notwritable[props.ag_platform]}</code> | Presence service is unavailable. |
| `-13003` | <code>{code.presenceinvalidarg[props.ag_platform]}</code> | Invalid argument. |
| `-13004` | <code>{code.cachestates[props.ag_platform]}</code> | The temporary user state cached before joining the channel exceeds the limit. See <a href="/en/signaling/reference/limitations">API usage limits</a> for details. |
| `-13005` | <code>{code.stateoverflow[props.ag_platform]}</code> | The number of temporary user state key/value pairs exceeds the limit. See <a href="/en/signaling/reference/limitations">API usage limits</a> for details. |
| `-13006` | <code>{code.invalidstatekey[props.ag_platform]}</code> | Invalid state key. |
| `-13007` | <code>{code.invalidstatevalue[props.ag_platform]}</code> | Invalid state value. |
| `-13008` | <code>{code.presencekeyoverflow[props.ag_platform]}</code> | Presence key length overflow. |
| `-13009` | <code>{code.presencevalueoverflow[props.ag_platform]}</code> | Presence value overflow |
| `-13010` | <code>{code.presenceduplicatekey[props.ag_platform]}</code> | Repeated state key. |
| `-13011` | <code>{code.usernotexist[props.ag_platform]}</code> | The user does not exist. |
| `-13012` | <code>{code.presencetimeout[props.ag_platform]}</code> | Presence operation timed out. |
| `-13013` | <code>{code.presencefailed[props.ag_platform]}</code> | Presence operation failed. |
| `-14001` | <code>{code.lockfailed[props.ag_platform]}</code> | Lock operation failed. |
| `-14002` | <code>{code.locktimeout[props.ag_platform]}</code> | Lock operation timed out. |
| `-14003` | <code>{code.performing[props.ag_platform]}</code> | Lock operation in progress. |
| `-14004` | <code>{code.lockexist[props.ag_platform]}</code> | Lock already exists. |
| `-14005` | <code>{code.lockinvalidname[props.ag_platform]}</code> | Invalid Lock name. |
| `-14006` | <code>{code.locknotacquired[props.ag_platform]}</code> | The Lock was not acquired. |
| `-14007` | <code>{code.lockacquirefailed[props.ag_platform]}</code> | Failed to acquire the Lock. |
| `-14008` | <code>{code.locknotexist[props.ag_platform]}</code> | The Lock does not exist. |
| `-14009` | <code>{code.locknotavailable[props.ag_platform]}</code> | Lock service is not available. |
import Authorization from '@docs/shared/media-gateway/reference/rest-api/authorization.mdx';

## Base URL

ALl requests are sent to `https://api.agora.io/`.

## Authentication

<Authorization/>

## RESTful API overview

<Vpd k="NAME" /> can push media streams to <Vg k="AGORA_BACKEND" /> using standard push protocols (RTMP and SRT), and then publish them to the corresponding channels as the host. <Vpd k="NAME" /> includes the following sets of APIs:

- Streaming key API

    Before pushing streams, you need to create a streaming key to ensure that the media stream is pushed to the correct channel and under the correct host UID. This set of RESTful APIs allows you to create, query, and delete streaming keys.

- Flow configuration template API

    When using <Vpd k="NAME" /> to push streams into a channel, you can control the pre-processing of the stream with a flow configuration template. For example, enable audio or video transcoding and set transcoding parameters. You can also create a global configuration template for an app ID or a particular streaming key. This set of RESTful APIs allows you to create, query, and delete flow configuration templates.

- Streaming information API

    This set of RESTful APIs allows you to query the list of streams being pushed under the specified app ID, including the domain name used, the streaming key, and the basic parameters of the audio and video streams (resolution, bit rate, number of channels, sampling rate, GOP, and other information). You can also forcefully disconnect the pushed stream.

Make sure that the channel profile is set to live broadcasting, not communication. Otherwise, <Vpd k="NAME" /> will fail. See [channel profile](../../overview/core-concepts#channel-profile) for details.

To let you monitor the status of <Vpd k="NAME" />, <Vg k="COMPANY" /> provides the <Vg k="NCS_LONG" /> service. After activating <Vg k="NCS_LONG" />, you can receive relevant event callbacks using [webhooks](webhooks/media-gateway-event-type). Because <Vpd k="COMPANY" /> frequently updates the IP address of the <Vg k="NCS_LONG" /> server, you need to regularly [query its IP address](endpoints/message-notification-service/query-ip-address) and update your firewall whitelist configuration.

In case of problems, refer to [Integration best practice](../best-practice) to check whether the settings and restrictions have been handled correctly.
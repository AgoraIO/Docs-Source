<PlatformWrapper platform="unity">
```csharp
internal class AuthenticationWorkflowEventHandler : UserEventHandler
{
    private AuthenticationWorkflowManager authenticationWorkflowManager;

    internal AuthenticationWorkflowEventHandler(AuthenticationWorkflowManager refAuthenticationWorkflow) : base(refAuthenticationWorkflow)
    {
        authenticationWorkflowManager =
         refAuthenticationWorkflow;
    }

    public override async void OnTokenPrivilegeWillExpire(RtcConnection connection, string token)
    {
        Debug.Log("Token Expired");
        // Retrieve a fresh token from the token server.
        await authenticationWorkflowManager.FetchToken();
        authenticationWorkflowManager.RenewToken();
    }

    public override async void OnClientRoleChanged(RtcConnection connection, CLIENT_ROLE_TYPE oldRole, CLIENT_ROLE_TYPE newRole, ClientRoleOptions newRoleOptions)
    {
        // Retrieve a fresh token from the token server for the new role.
        Debug.Log("Role is set to " + newRole.ToString());
        await authenticationWorkflowManager.FetchToken();
        authenticationWorkflowManager.RenewToken();
    }
}
```
-   <Link target="_blank" to="{{global.API_REF_UNITY_ROOT}}/class_irtcengineeventhandler.html#callback_irtcengineeventhandler_onproxyconnected">OnTokenPrivilegeWillExpire</Link>
-   <Link target="_blank" to="{{global.API_REF_UNITY_ROOT}}/class_irtcengineeventhandler.html#callback_irtcengineeventhandler_onclientrolechanged">OnClientRoleChanged</Link>

</PlatformWrapper>
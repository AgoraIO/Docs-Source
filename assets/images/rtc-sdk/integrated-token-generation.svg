<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="633px" preserveAspectRatio="none" style="width:701px;height:633px;" version="1.1" viewBox="0 0 701 633" width="701px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="631.9258" style="stroke:#0A9EFD;stroke-width:1;" width="699.0598" x="0" y="0"/><rect fill="#999999" fill-opacity="0.33333" height="621.9258" style="stroke:#0A9EFD;stroke-width:0.5;" width="367.8374" x="134.4468" y="6"/><text fill="#0A9EFD" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.6899" x="255.5205" y="19.4951">Implemented by you</text><rect fill="#999999" fill-opacity="0.33333" height="621.9258" style="stroke:#0A9EFD;stroke-width:0.5;" width="84.019" x="580.5649" y="6"/><text fill="#0A9EFD" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74.4072" x="583.5649" y="19.4951">Provided by</text><text fill="#0A9EFD" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37.5591" x="603.7949" y="35.8467">Agora</text><rect fill="#0A9EFD" fill-opacity="0.06667" height="420.1797" style="stroke:#0A9EFD;stroke-width:2;" width="685.0598" x="10" y="106.6475"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="454.1797" width="8" x="33.7793" y="89.6475"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="89.6475" y2="543.8271"/></g><g><title>App</title><rect fill="#000000" fill-opacity="0.00000" height="454.1797" width="8" x="153.9019" y="89.6475"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="157.4468" x2="157.4468" y1="89.6475" y2="543.8271"/></g><g><title>Developer's </title><rect fill="#000000" fill-opacity="0.00000" height="454.1797" width="8" x="440.9741" y="89.6475"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="444.6641" x2="444.6641" y1="89.6475" y2="543.8271"/></g><g><title>SDRTN&#174;</title><rect fill="#000000" fill-opacity="0.00000" height="454.1797" width="8" x="618.5745" y="89.6475"/><line style="stroke:#0A9EFD;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="622.3064" x2="622.3064" y1="89.6475" y2="543.8271"/></g><g class="participant participant-head" data-participant="USR"><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="20" y="86.6807">User</text><ellipse cx="37.7793" cy="19.5488" fill="none" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3;"/><path d="M37.7793,27.5488 L37.7793,54.5488 M24.7793,35.5488 L50.7793,35.5488 M37.7793,54.5488 L24.7793,69.5488 M37.7793,54.5488 L50.7793,69.5488" fill="none" style="stroke:#0A9EFD;stroke-width:3;"/></g><g class="participant participant-tail" data-participant="USR"><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="20" y="555.959">User</text><ellipse cx="37.7793" cy="569.9258" fill="none" rx="8" ry="8" style="stroke:#0A9EFD;stroke-width:3;"/><path d="M37.7793,577.9258 L37.7793,604.9258 M24.7793,585.9258 L50.7793,585.9258 M37.7793,604.9258 L24.7793,619.9258 M37.7793,604.9258 L50.7793,619.9258" fill="none" style="stroke:#0A9EFD;stroke-width:3;"/></g><g class="participant participant-head" data-participant="APP"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="38.9102" x="138.4468" y="58.5488"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="24.9102" x="145.4468" y="78.6807">App</text></g><g class="participant participant-tail" data-participant="APP"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="38.9102" x="138.4468" y="542.8271"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="24.9102" x="145.4468" y="562.959">App</text></g><g class="participant participant-head" data-participant="SVR"><rect fill="none" height="62.2959" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="106.6201" x="391.6641" y="26.3516"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="73.4863" x="406.2861" y="46.4834">Developer's</text><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="88.7305" x="398.6641" y="62.582">Authentication</text><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="421.6362" y="78.6807">System</text></g><g class="participant participant-tail" data-participant="SVR"><rect fill="none" height="62.2959" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="106.6201" x="391.6641" y="542.8271"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="73.4863" x="406.2861" y="562.959">Developer's</text><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="88.7305" x="398.6641" y="579.0576">Authentication</text><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="421.6362" y="595.1563">System</text></g><g class="participant participant-head" data-participant="API"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="72.5361" x="586.3064" y="58.5488"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="58.5361" x="593.3064" y="78.6807">SDRTN&#174;</text></g><g class="participant participant-tail" data-participant="API"><rect fill="none" height="30.0986" rx="2.5" ry="2.5" style="stroke:#0A9EFD;stroke-width:2;" width="72.5361" x="586.3064" y="542.8271"/><text fill="#0A9EFD" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="58.5361" x="593.3064" y="562.959">SDRTN&#174;</text></g><path d="M10,106.6475 L254.4624,106.6475 L254.4624,113.5962 L244.4624,123.5962 L10,123.5962 L10,106.6475" fill="#EEEEEE" style="stroke:#0A9EFD;stroke-width:1.5;"/><rect fill="none" height="420.1797" style="stroke:#0A9EFD;stroke-width:2;" width="685.0598" x="10" y="106.6475"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="199.4624" x="25" y="119.8413">Join a Channel with Authentication</text><g class="message" data-participant-1="USR" data-participant-2="APP"><polygon fill="#0A9EFD" points="145.9019,140.5449,155.9019,144.5449,145.9019,148.5449,149.9019,144.5449" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="37.7793" x2="151.9019" y1="144.5449" y2="144.5449"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="74.439" x="60.6211" y="139.79">Start the app</text></g><g class="message" data-participant-1="APP" data-participant-2="SVR"><polygon fill="#0A9EFD" points="432.9741,184.4424,442.9741,188.4424,432.9741,192.4424,436.9741,188.4424" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="157.9019" x2="438.9741" y1="188.4424" y2="188.4424"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="75.1626" x="262.0508" y="168.7388">Login to your</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="169.0762" x="216.8999" y="183.6875">identity management system.</text></g><g class="message" data-participant-1="USR" data-participant-2="APP"><polygon fill="#0A9EFD" points="145.9019,213.3911,155.9019,217.3911,145.9019,221.3911,149.9019,217.3911" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="37.7793" x2="151.9019" y1="217.3911" y2="217.3911"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="96.1226" x="49.7793" y="212.6362">Select a channel</text></g><g class="message" data-participant-1="APP" data-participant-2="SVR"><polygon fill="#0A9EFD" points="432.9741,257.2886,442.9741,261.2886,432.9741,265.2886,436.9741,261.2886" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="157.9019" x2="438.9741" y1="261.2886" y2="261.2886"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="259.4604" x="169.9019" y="241.585">Request an Agora authentication token using</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="246.4351" x="178.2205" y="256.5337">channel name, role, token type and user Id</text></g><g class="message" data-participant-1="SVR" data-participant-2="SVR"><line style="stroke:#0A9EFD;stroke-width:2;" x1="444.9741" x2="486.9741" y1="305.186" y2="305.186"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="486.9741" x2="486.9741" y1="305.186" y2="318.186"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="445.9741" x2="486.9741" y1="318.186" y2="318.186"/><polygon fill="#0A9EFD" points="455.9741,314.186,445.9741,318.186,455.9741,322.186,451.9741,318.186" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="122.8525" x="457.0269" y="285.4824">Validate user request</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="136.5698" x="451.9741" y="300.4312">against internal security</text></g><g class="message" data-participant-1="SVR" data-participant-2="SVR"><line style="stroke:#0A9EFD;stroke-width:2;" x1="444.9741" x2="486.9741" y1="362.0835" y2="362.0835"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="486.9741" x2="486.9741" y1="362.0835" y2="375.0835"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="445.9741" x2="486.9741" y1="375.0835" y2="375.0835"/><polygon fill="#0A9EFD" points="455.9741,371.0835,445.9741,375.0835,455.9741,379.0835,451.9741,375.0835" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="161.8589" x="451.9741" y="342.3799">Use integrated Agora library</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="112.0298" x="478.6946" y="357.3286">to generate a token</text></g><g class="message" data-participant-1="SVR" data-participant-2="APP"><polygon fill="#0A9EFD" points="168.9019,400.0322,158.9019,404.0322,168.9019,408.0322,164.9019,404.0322" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="162.9019" x2="443.9741" y1="404.0322" y2="404.0322"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="166.2134" x="218.3313" y="399.2773">Return the token to the client</text></g><g class="message" data-participant-1="APP" data-participant-2="API"><polygon fill="#0A9EFD" points="610.5745,428.981,620.5745,432.981,610.5745,436.981,614.5745,432.981" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="157.9019" x2="616.5745" y1="432.981" y2="432.981"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="307.144" x="236.6661" y="428.2261">Join a channel with user Id, channel name, and token</text></g><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#0A9EFD;stroke-width:2;" x1="622.5745" x2="664.5745" y1="476.8784" y2="476.8784"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="664.5745" x2="664.5745" y1="476.8784" y2="489.8784"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="623.5745" x2="664.5745" y1="489.8784" y2="489.8784"/><polygon fill="#0A9EFD" points="633.5745,485.8784,623.5745,489.8784,633.5745,493.8784,629.5745,489.8784" style="stroke:#0A9EFD;stroke-width:1;"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="46.979" x="631.0217" y="457.1748">Validate</text><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="53.4854" x="629.5745" y="472.1235">the token</text></g><g class="message" data-participant-1="API" data-participant-2="APP"><polygon fill="#0A9EFD" points="168.9019,514.8271,158.9019,518.8271,168.9019,522.8271,164.9019,518.8271" style="stroke:#0A9EFD;stroke-width:1;"/><line style="stroke:#0A9EFD;stroke-width:2;" x1="162.9019" x2="621.5745" y1="518.8271" y2="518.8271"/><text fill="#0A9EFD" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="299.9014" x="240.2875" y="514.0723">Trigger the callback after adding user to the channel</text></g><!--SRC=[NL9BRjim4Dtp55Djkabo02C8O3GR1q5XM4bM1e8nDQ49KqEMdpIwL0_HasL4oKxLZI1nEE-hRvQrAnq16X_nDPqitzZIEwLGPn-XUKuK6y04p-rEgOF_W6RJ1qSzSQOE3WCClZGgOCnMsu2SeLc7K5VMs-roS4_lv7oW-3t1djSb7mN5QipMinoqGyhKrzNsPQU81Tz_pApRwDzjDr7AxYZtFzhsVlVqy- -VcNhpjM-YBm4Ul6L0-754PdBms-OZB2KeyGZNTwFk5RHPi476W24eEHed8ci5Zzu8KlQZyoXQH9L0v05wP3Gr6KZLoiqIaHpfB1Bq9641kgDVXP9C6Qetm6KwsP-8eIJBHYXd163iwGgYT_ASRkGXY69nNgGus7HAq2yaB-XiXvccOPmfzw8QBSkRbKuZeuD4kaInjDYMNw7UC177wYUPpXuYnc5V0p74D0x5uwIcMhozFblC9NADTDRgwuTsLeogSnnItUfSblwthDdH5IpTZsOhdW1iBW0Ngtk-47vTa3QUeZL60Ai2TEw0-WJu9W40TjqOS-KxQvmhatzAVG80]--></g></svg>
import Authorization from '@docs/shared/common/channel-management-api/authorization.mdx';
import CodeBlock from '@theme/CodeBlock';
import MultiCodeBlock, { CodeGroup, CodeItem } from '@app/mdx-components/MultiCodeBlock';
import RestAPILayout from '@site/src/components/rest-api/RestAPILayout';
import LeftColumn from '@site/src/components/rest-api/LeftColumn';
import RightColumn, { Section } from '@site/src/components/rest-api/RightColumn';
import ParameterList, { Parameter } from '@site/src/components/rest-api/ParameterList';
import PathParameter from '@site/src/components/rest-api/PathParameter';
import { Tabs, TabItem } from '@site/src/components/rest-api/Tabs';

<RestAPILayout>

  <LeftColumn
    title="Delete rule"
    method="DELETE"
    endpoint="https://api.agora.io/dev/v1/kicking-rule"
  >

This method deletes a specified banning rule.

### Request

**Request header**

<Authorization/>

**Request body**

<ParameterList title="BODY" required={true}>
  <Parameter name="appid" type="string" required={true}>
      The App ID of the project. You can get it through one of the following methods:
    <ul>
      <li>Copy from the <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link></li>
      <li> Call the [Get all projects](../../agora-console-rest-api#get-all-projects) API, and read the value of the `vendor_key` field in the response body.</li>
    </ul>
  </Parameter>
  <Parameter name="id" type="number" required={true}>
      The ID of the rule that you want to delete.
  </Parameter>
</ParameterList>

### Response

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

  <ParameterList title="OK">
    <Parameter 
      name="status" 
      type="string" 
      possibleValues="success, failed"
    >
      Indicates whether the request was successful.
    </Parameter>
    <Parameter name="id" type="integer">
      The ID of the rule that you want to delete.
    </Parameter>
  </ParameterList>

If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure. For details about possible response status codes, see [Response status codes](../../response-status-code).

</LeftColumn>
<RightColumn>

<Section title="Authorization">
The endpoint requires [RESTful authentication](/video-calling/channel-management-api/restful-authentication).
</Section>
<Section title="Request example">
  <Tabs groupId="code-examples">
    <TabItem value="curl" label="curl" default>
      ```bash
      curl --request DELETE \
        --url http://api.sd-rtn.com/dev/v1/kicking-rule \
        --header "Authorization: Bearer YOUR_ACCESS_TOKEN" \
        --header "Content-Type: application/json" \
        --data '{
          "appid": "4855xxxxxxxxxxxxxxxxxxxxxxxxeae2",
          "id": 1953
        }'
      ```
    </TabItem>
        <TabItem value="python" label="Python" default>
      ```python
      import http.client

      conn = http.client.HTTPConnection("api.sd-rtn.com")

      headers = {
          'Authorization': "",
          'Accept': "application/json"
      }

      conn.request("DELETE", "/dev/v1/kicking-rule", headers=headers)

      res = conn.getresponse()
      data = res.read()

      print(data.decode("utf-8"))
      ```
    </TabItem>
        <TabItem value="node" label="Node.js" default>
      ```js
      const url = 'http://api.sd-rtn.com/dev/v1/kicking-rule';
      const options = {method: 'DELETE', headers: {Authorization: '', Accept: 'application/json'}};

      try {
        const response = await fetch(url, options);
        const data = await response.json();
        console.log(data);
      } catch (error) {
        console.error(error);
      }
      ```
    </TabItem>
  </Tabs>
</Section>
<Section title="Response example">
<CodeBlock language="json" showLineNumbers>
{`{
  "status": "success",
  "id": 1953
}`}
</CodeBlock>
</Section>
</RightColumn>
</RestAPILayout>

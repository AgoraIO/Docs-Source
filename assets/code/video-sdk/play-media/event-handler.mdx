<PlatformWrapper platform="unity">
```csharp
// Internal class for handling media player events
internal class PlayMediaEventHandler : IMediaPlayerSourceObserver
{
    private PlayMediaManager playMediaManager;

    internal PlayMediaEventHandler(PlayMediaManager refPlayMedia)
    {
        playMediaManager = refPlayMedia;
    }

    public override void OnPlayerSourceStateChanged(MEDIA_PLAYER_STATE state, MEDIA_PLAYER_ERROR error)
    {
        Debug.Log(state.ToString());
        playMediaManager.state = state;

        if (state == MEDIA_PLAYER_STATE.PLAYER_STATE_OPEN_COMPLETED)
        {
            // Media file opened successfully. Get the duration of the file to set up the progress bar.
            playMediaManager.mediaPlayer.GetDuration(ref playMediaManager.mediaDuration);
        }
        else if (state == MEDIA_PLAYER_STATE.PLAYER_STATE_PLAYING)
        {
            playMediaManager.PreviewMediaTrack(true);
            playMediaManager.PublishMediaFile();
        }
        else if (state == MEDIA_PLAYER_STATE.PLAYER_STATE_PLAYBACK_ALL_LOOPS_COMPLETED)
        {
            playMediaManager.PreviewMediaTrack(false);
            playMediaManager.UnpublishMediaFile();
            // Clean up
            playMediaManager.mediaPlayer.Dispose();
            playMediaManager.mediaPlayer = null;
        }
        else if (state == MEDIA_PLAYER_STATE.PLAYER_STATE_PAUSED)
        {
            playMediaManager.PreviewMediaTrack(false);
            playMediaManager.UnpublishMediaFile();
        }
        else if (state == MEDIA_PLAYER_STATE.PLAYER_STATE_FAILED)
        {
            Debug.Log("Media player failed :" + error);
        }
    }

    public override void OnPositionChanged(long position)
    {
        if (playMediaManager.mediaDuration > 0)
        {
            // Update the ProgressBar
            playMediaManager.position = position;
        }
    }

    public override void OnPlayerEvent(MEDIA_PLAYER_EVENT eventCode, long elapsedTime, string message)
    {
        // Required to implement IMediaPlayerObserver
    }

    public override void OnMetaData(byte[] type, int length)
    {
        // Required to implement IMediaPlayerObserver
    }

    public override void OnAudioVolumeIndication(int volume)
    {
        // Required to implement IMediaPlayerObserver
    }

    public override void OnPlayBufferUpdated(Int64 playCachedBuffer)
    {
        // Required to implement IMediaPlayerObserver
    }

    public override void OnPlayerInfoUpdated(PlayerUpdatedInfo info)
    {
        // Required to implement IMediaPlayerObserver
    }

    public override void OnPlayerSrcInfoChanged(SrcInfo from, SrcInfo to)
    {
        // Required to implement IMediaPlayerObserver
    }

    public override void OnPreloadEvent(string src, PLAYER_PRELOAD_EVENT @event)
    {
        // Required to implement IMediaPlayerObserver
    }
}
```
* <Link to = "{{global.API_REF_UNITY_ROOT}}/class_imediaplayersourceobserver.html#class_imediaplayersourceobserver">IMediaPlayerSourceObserver</Link>

</PlatformWrapper>
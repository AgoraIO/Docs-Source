## AgoraService class

Provides core functionality for initializing and managing Agora services.

| API | Description |
|---|---|
|[`AgoraService`](#agoraservice) | Constructs an [`AgoraService`](#agoraservice) instance and initializes native components. |
|[`release`](#release) | Releases the [`AgoraService`](#agoraservice) object and its associated resources. |
|[`initialize`](#initialize) | Initializes the [`AgoraService`](#agoraservice) object using the specified configuration. |
|[`createMediaRtcRecorder`](#createmediartcrecorder) | Creates a new [`AgoraMediaRtcRecorder`](#agoramediartcrecorder) instance. |
|[`getAgoraParameter`](#getagoraparameter) | Creates and returns an `AgoraParameter` object for parameter management. |
|[`getSdkVersion`](#getsdkversion) | Gets the SDK version information. |
|[`setLogFile`](#setlogfile) | Sets the path and size of the SDK log file. |
|[`setLogLevel`](#setloglevel) | Sets the log output level for the SDK. |
|[`setGlobalLocalAccessPoint`](#setgloballocalaccesspoint) | Sets the global local access point address in local AP mode. |

This class serves as the main entry point for using the Agora recording feature.

### AgoraService

```java
public AgoraService()
```

Constructs an [`AgoraService`](#agoraservice) instance and initializes native components.

Only one [`AgoraService`](#agoraservice) instance can be initialized at a time.

### release

```java
public int release()
```

Releases the [`AgoraService`](#agoraservice) object and its associated resources.

After calling this method, the instance becomes invalid and can no longer be used.

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.

### initialize

```java
public int initialize(AgoraServiceConfiguration config)
```

Initializes the [`AgoraService`](#agoraservice) object using the specified configuration.

#### Parameters

| Parameter | Data type | Description |
|-----------|-----------|-------------|
| `config` | `AgoraServiceConfiguration` | Configuration object for initialization. See [`AgoraServiceConfiguration`](#agoraserviceconfiguration). |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.  
  - `ERR_INVALID_ARGUMENT`: Returned on Android if the `context` field in [`AgoraServiceConfiguration`](#agoraserviceconfiguration) is not provided.  
  - `ERR_INIT_NET_ENGINE`: Returned when the network engine fails to initialize. On Windows, this is typically caused by the local port being blocked by a firewall. Try restarting the firewall to resolve the issue.

### createMediaRtcRecorder

```java
public AgoraMediaRtcRecorder createMediaRtcRecorder()
```

Creates a new [`AgoraMediaRtcRecorder`](#agoramediartcrecorder) instance.

#### Return value

If the method call succeeds, returns an [`AgoraMediaRtcRecorder`](#agoramediartcrecorder) instance.

### getAgoraParameter

```java
public AgoraParameter getAgoraParameter()
```

Creates and returns an `AgoraParameter` object for parameter management.

#### Return value

If the method call succeeds, returns an `AgoraParameter` instance.  
If the method call fails, returns `null`.

### getSdkVersion

```java
public static String getSdkVersion()
```

Gets the SDK version information.

#### Return value

If the method call succeeds, returns the SDK version string.  
If the method call fails, returns an empty string.

### setLogFile

```java
public int setLogFile(String filePath, int fileSize)
```

Sets the path and size of the SDK log file.

During runtime, the SDK writes all log data to two log files. Each file has a default size of 512 KB.  
If `fileSize` is set to 1024 KB, the total log file size becomes 2 MB. When the total size exceeds the set limit, new logs overwrite the old ones.

<Admonition type="caution" title="Note">
To ensure complete log output, call this method immediately after calling [`initialize`](#initialize).
</Admonition>

#### Parameters

| Parameter | Data type | Description |
|-----------|-----------|-------------|
| `filePath` | `String` | Path to the log file. Ensure the directory has write permissions. |
| `fileSize` | `int` | Size of each log file in bytes. For example, `1024 * 1024` means each file is 1 MB. |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.

### setLogLevel

```java
public int setLogLevel(Constants.LogLevel level)
```

Sets the log output level for the SDK.

You can select a log level, and the SDK will output logs for that level and higher. For example, if the log level is set to `WARNING`, the SDK outputs logs for `CRITICAL`, `ERROR`, and `WARNING`.

#### Parameters

| Parameter | Data type | Description |
|-----------|-----------|-------------|
| `level` | `Constants.LogLevel` | Log output level:<br/>- `LOG_LEVEL_NONE (0x0000)`: Do not output any log files.<br/>- `LOG_LEVEL_INFO (0x0001)`: (Recommended) Output logs at INFO level.<br/>- `LOG_LEVEL_WARN (0x0002)`: Output logs at WARN level.<br/>- `LOG_LEVEL_ERROR (0x0004)`: Output logs at ERROR level.<br/>- `LOG_LEVEL_FATAL (0x0008)`: Output logs at FATAL level. See `Constants.LogLevel`. |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.

### setGlobalLocalAccessPoint

```java
public int setGlobalLocalAccessPoint(LocalAccessPointConfiguration config)
```

Sets the global local access point address in local AP mode.

You must call this method before calling [`initialize`](#initialize).

#### Parameters

| Parameter | Data type | Description |
|-----------|-----------|-------------|
| `config` | `LocalAccessPointConfiguration` | Local access point configuration object. See [`LocalAccessPointConfiguration`](#localaccesspointconfiguration). |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.

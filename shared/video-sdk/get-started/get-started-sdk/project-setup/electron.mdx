import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<PlatformWrapper platform = "electron">

<Tabs>
<TabItem value="new" label="Create a new project" default>

1. Create a new project by following the [Electron Quickstart](https://www.electronjs.org/docs/latest/tutorial/quick-start) guide. 

1. In `main.js`, update `webPreferences` in the `createWindow` method as follows:

    ```js
    webPreferences: {
        preload: path.join(__dirname, 'preload.js'),
        // Set nodeIntegration to true and contextIsolation to false
        nodeIntegration: true,
        contextIsolation: false,
    },
    ```

</TabItem>

<TabItem value="existing" label="Add to an existing project">

1. Open your Electron project. 

1. In `main.js`, under `webPreferences` set `nodeIntegration` to `true` and `contextIsolation` to `false`.

</TabItem>
</Tabs>

3. Create a user interface for your app based on your use-case. 

    <ProductWrapper notAllowed="voice-calling">A basic user interface consists of an element for local video and an element for remote video.</ProductWrapper> Refer to [Create a user interface](#create-a-user-interface) to get a bare bones sample layout.

### Install the SDK

Add the <Vpd k="SDK"/> to your project using `npm`:

1. Add the following to `package.json`:

    * macOS

        ```json
        "agora_electron": {
            "platform": "darwin",
            "prebuilt": true
        },
        "dependencies": { "agora-electron-sdk": "latest" }
        ```
    
    * Windows

        ```json
        "agora_electron": {
            "platform": "win32",
            "prebuilt": true,
            "arch": "ia32"
        },
        "dependencies": { "agora-electron-sdk": "latest" }
        ```

    For `agora-electron-sdk`, use a specific version number or set it to `latest` to use the latest version. For other versions, see [`agora-electron-sdk`](https://www.npmjs.com/package/agora-electron-sdk).


    <Admonition title="Note" style="info">
    Different versions of Electron have different environment requirements. If you see errors due to a mismatched environment when running the project, refer to the official [Electron documentation](https://releases.electronjs.org/releases/stable) to choose the appropriate Electron and Node.js versions.
    </Admonition>

1. Open a terminal in the project root folder and run the following commands to install the dependencies:

    * macOS

        ```bash
        npm install
        ```

    * Windows
    
        ```bash
        npm install -D --arch=ia32 electron
        npm install
        ```

</PlatformWrapper>
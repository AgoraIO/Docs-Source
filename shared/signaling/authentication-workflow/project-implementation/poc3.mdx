import RTMToken from '@docs/assets/code/signaling/authentication-workflow/retrieve-rtm-token.mdx'
import Login from '@docs/assets/code/signaling/authentication-workflow/login.mdx'
import RTCToken from '@docs/assets/code/signaling/authentication-workflow/retrieve-rtc-token.mdx'
import JoinStreamChannel from '@docs/assets/code/signaling/authentication-workflow/join-stream-channel.mdx'
import ExpireEvent from '@docs/assets/code/signaling/authentication-workflow/handle-expire-event.mdx'
import RenewToken from '@docs/assets/code/signaling/authentication-workflow/renew-token.mdx'

In <Vg k="MESS" />, each authentication token you create is specific for a user ID in your <Vpl k="CLIENT" />. You create a token for each user who logs in to <Vg k="MESS" />. When you initiate the <Vg k="MESS_ENGINE" />, ensure that the UID is the same one you used to create the token.

In order to make HTTPS calls to a token server and interpret the JSON return parameters, integrate HTTP and JSON libraries in your <Vpl k="CLIENT"/>.

To retrieve tokens from the token server and use them to authenticate your <Vpl k="CLIENT" /> with <Vg k="MESS" /> using  <Vpd k="SDK" />:

### Retrieve an RTM token from the server

    <RTMToken/>

### Use the token to login into the <Vg k="MESS_ENGINE" />

    Call `fetchToken` to get a fresh RTM token. Use the token in the config to initiate the <Vg k="MESS_ENGINE" />.

    <Login/>

<PlatformWrapper notAllowed={['ios','macos']}>

### Retrieve a Stream Channel token

    To join a stream channel you retrieve an RTC token from the token server by specifying the `uid` and `channelName`.

    <RTCToken/>

</PlatformWrapper>

<PlatformWrapper notAllowed={['ios','macos']}>
### Use the Stream Channel token to join a stream channel

    <JoinStreamChannel/>
</PlatformWrapper>
<PlatformWrapper platform={['ios','macos']}>
### Use the Stream Channel token to join a stream channel

    <JoinStreamChannel/>
</PlatformWrapper>

<PlatformWrapper notAllowed={['ios','macos']}>
### Handle the event triggered by <Vg k="AGORA_BACKEND" /> when the token is about to expire

    <ExpireEvent/>
</PlatformWrapper>
<PlatformWrapper platform={['ios','macos']}>
### Handle the event triggered by <Vg k="AGORA_BACKEND" /> when the token is about to expire
    <ExpireEvent/>
</PlatformWrapper>

<PlatformWrapper notAllowed={['ios','macos']}>
### Renew the token

    <RenewToken/>
</PlatformWrapper>
<PlatformWrapper platform={['ios','macos']}>
### Renew the token

    <RenewToken/>
</PlatformWrapper>



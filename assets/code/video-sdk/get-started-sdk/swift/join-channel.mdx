<ProductWrapper product="video-calling">
```swift
func joinVideoCall(
    _ channel: String, token: String? = nil, uid: UInt = 0
) async -> Int32 {
    /// See ``AgoraManager/checkForPermissions()``, or Apple's docs for details of this method.
    if await !AgoraManager.checkForPermissions() {
        await self.updateLabel(key: "invalid-permissions")
        return -3
    }

    let opt = AgoraRtcChannelMediaOptions()
    opt.channelProfile = .communication

    return self.agoraEngine.joinChannel(
        byToken: token, channelId: channel,
        uid: uid, mediaOptions: opt
    )
}
```
</ProductWrapper>

<ProductWrapper product="voice-calling">
```swift
func joinVoiceCall(
    _ channel: String, token: String? = nil, uid: UInt = 0
) async -> Int32 {
    /// See ``AgoraManager/checkForPermissions()``, or Apple's docs for details of this method.
    if await !AgoraManager.checkForPermissions() {
        await self.updateLabel(key: "invalid-permissions")
        return -3
    }

    let opt = AgoraRtcChannelMediaOptions()
    opt.channelProfile = .communication

    return self.agoraEngine.joinChannel(
        byToken: token, channelId: channel,
        uid: uid, mediaOptions: opt
    )
}
```
<ProductWrapper>

<ProductWrapper product={["interactive-live-streaming", "broadcast-streaming"]}>
```swift
func joinBroadcastStream(
    _ channel: String, token: String? = nil,
    uid: UInt = 0, isBroadcaster: Bool = true
) async -> Int32 {
    /// See ``AgoraManager/checkForPermissions()``, or Apple's docs for details of this method.
    if isBroadcaster, await !AgoraManager.checkForPermissions() {
        await self.updateLabel(key: "invalid-permissions")
        return -3
    }

    let opt = AgoraRtcChannelMediaOptions()
    opt.channelProfile = .liveBroadcasting
    opt.clientRoleType = isBroadcaster ? .broadcaster : .audience
    opt.audienceLatencyLevel = isBroadcaster ? .ultraLowLatency : .lowLatency

    return self.agoraEngine.joinChannel(
        byToken: token, channelId: channel,
        uid: uid, mediaOptions: opt
    )
}
```
</ProductWrapper>

import Authorization from '@docs/shared/common/channel-management-api/authorization.mdx';
import CodeBlock from '@theme/CodeBlock';

This method gets the status of a specified user. It checks if the specified user is in the specified channel. If the user is present, it returns the role of this user in the channel and the time of joining.

### Prototype

- Method: `GET`
- Endpoint: `https://api.agora.io/dev/v1/channel/user/property/{appid}/{uid}/{channelName}`

### Request parameters

**Path parameters**

Pass the following path parameters in the request URL:

| Parameter     | Type   | Required/Optional | Description                                                  |
| :------ | :-----  |:----- | :---------------------- |
| `appid` | String | Required | The App ID of the project. You can get it through one of the following methods:<li>Copy from the <Link to="{{Global.AGORA_CONSOLE_URL}}"><Vg k="CONSOLE" /></Link>.</li><li> Call the [Get all projects](/interactive-live-streaming/reference/agora-console-rest-api#get-all-projects) API, and read the value of the `vendor_key` field in the response body.</li>|
| `uid` | Number | Required | The user ID. <p>**Note**: This parameter does not support string user accounts. Ensure that you use the integer user ID.</p> |
| `channelName` | String | Required | The channel name. |

**Request header**

<Authorization/>

### Request examples
Test this request in [Postman](https://documenter.getpostman.com/view/6319646/SVSLr9AM#6d8e52b7-3273-4dd5-94ee-389448429d96) or use one of the following code examples:

<details>
    <summary>Request URL</summary>

    <CodeBlock language="shell" showLineNumbers>
      {`https://api.agora.io/dev/v1/channel/user/property/12sfegxxxxxxxxxxxx365/2845863044/test`}
    </CodeBlock>
    </details>

<details>
<summary>Shell</summary>

  - <details>
    <summary>curl</summary>

    <CodeBlock language="shell" showLineNumbers>
      {`curl --request GET \\
      --url http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName \\
      --header 'Accept: application/json' \\
      --header 'Authorization: '`}
    </CodeBlock>
    </details>

  - <details>
    <summary>HTTPie</summary>

    <CodeBlock language="shell" showLineNumbers>
      {`http GET http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName \\
      Accept:application/json \\
      Authorization:''\\`}
    </CodeBlock>
    </details>

  - <details>
    <summary>wget</summary>

    <CodeBlock language="shell" showLineNumbers>
      {`wget --quiet \\
      --method GET \\
      --header 'Authorization: ' \\
      --header 'Accept: application/json' \\
      --output-document \\
      - http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName`}
    </CodeBlock>
    </details>
</details>


<details>
<summary>Javascript</summary>

  - <details>
    <summary>Fetch</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const url = 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName';
    const options = {method: 'GET', headers: {Authorization: '', Accept: 'application/json'}};

    try {
      const response = await fetch(url, options);
      const data = await response.json();
      console.log(data);
    } catch (error) {
      console.error(error);
    }`}
    </CodeBlock>
    </details>

  - <details>
    <summary>XMLHTTPRequest</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const data = null;

    const xhr = new XMLHttpRequest();
    xhr.withCredentials = true;

    xhr.addEventListener('readystatechange', function () {
      if (this.readyState === this.DONE) {
        console.log(this.responseText);
      }
    });

    xhr.open('GET', 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName');
    xhr.setRequestHeader('Authorization', '');
    xhr.setRequestHeader('Accept', 'application/json');

    xhr.send(data);`}
    </CodeBlock>
    </details>

  - <details>
    <summary>jQuery</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const settings = {
      async: true,
      crossDomain: true,
      url: 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName',
      method: 'GET',
      headers: {
        Authorization: '',
        Accept: 'application/json'
      }
    };

    $.ajax(settings).done(function (response) {
      console.log(response);
    });`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Axios</summary>

    <CodeBlock language="js" showLineNumbers>
      {`import axios from 'axios';

    const options = {
      method: 'GET',
      url: 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName',
      headers: {Authorization: '', Accept: 'application/json'}
    };

    try {
      const { data } = await axios.request(options);
      console.log(data);
    } catch (error) {
      console.error(error);
    }`}
    </CodeBlock>
    </details>
</details>

<details>
<summary>Node</summary>

  - <details>
    <summary>Native</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const http = require('http');

    const options = {
      method: 'GET',
      hostname: 'api.sd-rtn.com',
      port: null,
      path: '/dev/v1/channel/user/property/appid/uid/channelName',
      headers: {
        Authorization: '',
        Accept: 'application/json'
      }
    };

    const req = http.request(options, function (res) {
      const chunks = [];

      res.on('data', function (chunk) {
        chunks.push(chunk);
      });

      res.on('end', function () {
        const body = Buffer.concat(chunks);
        console.log(body.toString());
      });
    });

    req.end();`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Request</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const request = require('request');

    const options = {
      method: 'GET',
      url: 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName',
      headers: {Authorization: '', Accept: 'application/json'}
    };

    request(options, function (error, response, body) {
      if (error) throw new Error(error);

      console.log(body);
    });`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Unirest</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const unirest = require('unirest');

    const req = unirest('GET', 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName');

    req.headers({
      Authorization: '',
      Accept: 'application/json'
    });

    req.end(function (res) {
      if (res.error) throw new Error(res.error);

      console.log(res.body);
    });`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Fetch</summary>
    <CodeBlock language="js" showLineNumbers>
      {`const fetch = require('node-fetch');

    const url = 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName';
    const options = {method: 'GET', headers: {Authorization: '', Accept: 'application/json'}};

    try {
      const response = await fetch(url, options);
      const data = await response.json();
      console.log(data);
    } catch (error) {
      console.error(error);
    }`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Axios</summary>

    <CodeBlock language="js" showLineNumbers>
      {`const axios = require('axios').default;

    const options = {
      method: 'GET',
      url: 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName',
      headers: {Authorization: '', Accept: 'application/json'}
    };

    try {
      const { data } = await axios.request(options);
      console.log(data);
    } catch (error) {
      console.error(error);
    }`}
    </CodeBlock>
    </details>
</details>

<details>
<summary>Python</summary>

  - <details>
    <summary>Python 3</summary>

    <CodeBlock language="python" showLineNumbers>
      {`import http.client

    conn = http.client.HTTPConnection("api.sd-rtn.com")

    headers = {
        'Authorization': "",
        'Accept': "application/json"
    }

    conn.request("GET", "/dev/v1/channel/user/property/appid/uid/channelName", headers=headers)

    res = conn.getresponse()
    data = res.read()

    print(data.decode("utf-8"))`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Requests</summary>

    <CodeBlock language="python" showLineNumbers>
      {`import requests

    url = "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName"

    headers = {
        "Authorization": "",
        "Accept": "application/json"
    }

    response = requests.get(url, headers=headers)

    print(response.json())`}
    </CodeBlock>
    </details>
</details>

<details>
<summary>Go</summary>

<CodeBlock language="go" showLineNumbers>
  {`package main

import (
  "fmt"
  "net/http"
  "io"
)

func main() {

  url := "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName"

  req, _ := http.NewRequest("GET", url, nil)

  req.Header.Add("Authorization", "")
  req.Header.Add("Accept", "application/json")

  res, _ := http.DefaultClient.Do(req)

  defer res.Body.Close()
  body, _ := io.ReadAll(res.Body)

  fmt.Println(res)
  fmt.Println(string(body))
}`}
</CodeBlock>
</details>

<details>
<summary>C</summary>
<CodeBlock language="c" showLineNumbers>
  {`CURL *hnd = curl_easy_init();

curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "GET");
curl_easy_setopt(hnd, CURLOPT_URL, "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName");

struct curl_slist *headers = NULL;
headers = curl_slist_append(headers, "Authorization: ");
headers = curl_slist_append(headers, "Accept: application/json");
curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);

CURLcode ret = curl_easy_perform(hnd);`}
</CodeBlock>
</details>

<details>
<summary>Objective-C</summary>

<CodeBlock language="python" showLineNumbers>
  {`#import <Foundation/Foundation.h>

NSDictionary *headers = @{ @"Authorization": @"",
                           @"Accept": @"application/json" };

NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName"]
                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy
                                                   timeoutInterval:10.0];
[request setHTTPMethod:@"GET"];
[request setAllHTTPHeaderFields:headers];

NSURLSession *session = [NSURLSession sharedSession];
NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request
                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {
                                                if (error) {
                                                    NSLog(@"%@", error);
                                                } else {
                                                    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;
                                                    NSLog(@"%@", httpResponse);
                                                }
                                            }];
[dataTask resume];`}
</CodeBlock>
</details>

<details>
<summary>OCaml</summary>

<CodeBlock language="ocaml" showLineNumbers>
  {`open Cohttp_lwt_unix
open Cohttp
open Lwt

let uri = Uri.of_string "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName" in
let headers = Header.add_list (Header.init ()) [
  ("Authorization", "");
  ("Accept", "application/json");
] in

Client.call ~headers \`GET uri
\>\>= fun (res, body_stream) -\>
  (* Do stuff with the result *)`}
</CodeBlock>
</details>

<details>
<summary>C#</summary>
  - <details>
    <summary>HTTPClient</summary>

    <CodeBlock language="csharp" showLineNumbers>
      {`using System.Net.Http.Headers;
    var client = new HttpClient();
    var request = new HttpRequestMessage
    {
        Method = HttpMethod.Get,
        RequestUri = new Uri("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName"),
        Headers =
        {
            { "Authorization", "" },
            { "Accept", "application/json" },
        },
    };
    using (var response = await client.SendAsync(request))
    {
        response.EnsureSuccessStatusCode();
        var body = await response.Content.ReadAsStringAsync();
        Console.WriteLine(body);
    }`}
    </CodeBlock>
    </details>

  - <details>
    <summary>RestSharp</summary>

    <CodeBlock language="csharp" showLineNumbers>
      {`var client = new RestClient("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName");
    var request = new RestRequest(Method.GET);
    request.AddHeader("Authorization", "");
    request.AddHeader("Accept", "application/json");
    IRestResponse response = client.Execute(request);`}
    </CodeBlock>
    </details>
</details>


<details>
<summary>Java</summary>
  - <details>
    <summary>AsyncHttp</summary>

    <CodeBlock language="java" showLineNumbers>
      {`AsyncHttpClient client = new DefaultAsyncHttpClient();
    client.prepare("GET", "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName")
      .setHeader("Authorization", "")
      .setHeader("Accept", "application/json")
      .execute()
      .toCompletableFuture()
      .thenAccept(System.out::println)
      .join();

    client.close();`}
    </CodeBlock>
    </details>

  - <details>
    <summary>NetHttp</summary>

    <CodeBlock language="java" showLineNumbers>
      {`HttpRequest request = HttpRequest.newBuilder()
        .uri(URI.create("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName"))
        .header("Authorization", "")
        .header("Accept", "application/json")
        .method("GET", HttpRequest.BodyPublishers.noBody())
        .build();
    HttpResponse<String> response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
    System.out.println(response.body());`}
    </CodeBlock>
    </details>

  - <details>
    <summary>OkHttp</summary>

    <CodeBlock language="java" showLineNumbers>
      {`OkHttpClient client = new OkHttpClient();

    Request request = new Request.Builder()
      .url("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName")
      .get()
      .addHeader("Authorization", "")
      .addHeader("Accept", "application/json")
      .build();

    Response response = client.newCall(request).execute();`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Unirest</summary>

    <CodeBlock language="java" showLineNumbers>
      {`HttpResponse<String> response = Unirest.get("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName")
      .header("Authorization", "")
      .header("Accept", "application/json")
      .asString();`}
    </CodeBlock>
    </details>
</details>

<details>
<summary>Http 1.1</summary>

<CodeBlock language="http" showLineNumbers>
  {`GET /dev/v1/channel/user/property/appid/uid/channelName HTTP/1.1
Authorization:
Accept: application/json
Host: api.sd-rtn.com`}
</CodeBlock>
</details>

<details>
<summary>Clojure</summary>

<CodeBlock language="clojure" showLineNumbers>
  {`(require '[clj-http.client :as client])

(client/get "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName" {:headers {:Authorization ""}
                                                                                        :accept :json})`}
</CodeBlock>
</details>

<details>
<summary>Kotlin</summary>

<CodeBlock language="kotlin" showLineNumbers>
  {`val client = OkHttpClient()

val request = Request.Builder()
  .url("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName")
  .get()
  .addHeader("Authorization", "")
  .addHeader("Accept", "application/json")
  .build()

val response = client.newCall(request).execute()`}
</CodeBlock>
</details>


<details>
<summary>PHP</summary>
  - <details>
    <summary>cURL</summary>

    <CodeBlock language="php" showLineNumbers>
      {`<?php

    $curl = curl_init();

    curl_setopt_array($curl, [
      CURLOPT_URL => "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName",
      CURLOPT_RETURNTRANSFER => true,
      CURLOPT_ENCODING => "",
      CURLOPT_MAXREDIRS => 10,
      CURLOPT_TIMEOUT => 30,
      CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
      CURLOPT_CUSTOMREQUEST => "GET",
      CURLOPT_HTTPHEADER => [
        "Accept: application/json",
        "Authorization: "
      ],
    ]);

    $response = curl_exec($curl);
    $err = curl_error($curl);

    curl_close($curl);

    if ($err) {
      echo "cURL Error #:" . $err;
    } else {
      echo $response;
    }`}
    </CodeBlock>
    </details>

  - <details>
    <summary>Guzzle</summary>

    <CodeBlock language="php" showLineNumbers>
      {`<?php

    $client = new GuzzleHttp\\Client();

    $response = $client->request('GET', 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName', [
      'headers' => [
        'Accept' => 'application/json',
        'Authorization' => '',
      ],
    ]);

    echo $response->getBody();`}
    </CodeBlock>
    </details>
</details>

<details>
<summary>PowerShell</summary>
  - <details>
    <summary>WebRequest</summary>

    <CodeBlock language="shell" showLineNumbers>
      {`$headers=@{}
    $headers.Add("Authorization", "")
    $headers.Add("Accept", "application/json")
    $response = Invoke-WebRequest -Uri 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName' -Method GET -Headers $headers`}
    </CodeBlock>
    </details>

 -  <details>
    <summary>RestMethod</summary>

    <CodeBlock language="shell" showLineNumbers>
      {`$headers=@{}
    $headers.Add("Authorization", "")
    $headers.Add("Accept", "application/json")
    $response = Invoke-RestMethod -Uri 'http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName' -Method GET -Headers $headers`}
    </CodeBlock>
    </details>
</details>

<details>
<summary>R</summary>

<CodeBlock language="r" showLineNumbers>
  {`library(httr)

url \<- "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName"

response <- VERB("GET", url, add_headers('Authorization' = ''), content_type("application/octet-stream"), accept("application/json"))

content(response, "text")`}
</CodeBlock>
</details>

<details>
<summary>Ruby</summary>
<CodeBlock language="ruby" showLineNumbers>
  {`require 'uri'
require 'net/http'

url = URI("http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName")

http = Net::HTTP.new(url.host, url.port)

request = Net::HTTP::Get.new(url)
request["Authorization"] = ''
request["Accept"] = 'application/json'

response = http.request(request)
puts response.read_body`}
</CodeBlock>
</details>

<details>
<summary>Swift</summary>
<CodeBlock language="swift" showLineNumbers>
  {`import Foundation

let headers = [
  "Authorization": "",
  "Accept": "application/json"
]

let request = NSMutableURLRequest(url: NSURL(string: "http://api.sd-rtn.com/dev/v1/channel/user/property/appid/uid/channelName")! as URL,
                                        cachePolicy: .useProtocolCachePolicy,
                                    timeoutInterval: 10.0)
request.httpMethod = "GET"
request.allHTTPHeaderFields = headers

let session = URLSession.shared
let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in
  if (error != nil) {
    print(error as Any)
  } else {
    let httpResponse = response as? HTTPURLResponse
    print(httpResponse)
  }
})

dataTask.resume()`}
</CodeBlock>
</details>

### Response parameters

For details about possible response status codes, see [Response status codes](../../response-status-code).

If the status code is not `200`, the request fails. See the `message` field in the response body for the reason for this failure.

If the status code is `200`, the request succeeds, and the response body includes the following parameters:

| Parameter | Type    | Description                                                  |
| :-------- | :------ | :----------------------------------------------------------- |
| `success` | Boolean | The state of this request:<ul><li>`true`: Success. </li><li>`false`: Reserved for future use.</li></ul> |
| `data`    | Object  | User statistics, includes the following fields: <ul><li>`in_channel`: Boolean. Whether the user is in the channel. When the value of `in_channel` is `false`, all other fields are not returned .</li>	<li>`uid`: Number. The User ID.</li><li>`join`: Number. The Unix timestamp in seconds of when the user joins the channel. </li><li>`role`: Number. The role of the user in the channel:<ul><li>`0`: Unknown user role.</li><li>`1`: User, in a communication channel.</li><li>`2`: Host, in the channel.</li><li>`3`: Audience, in the channel.</li></ul></li><li>`platform`: Number. The platform of the user's device. Common return values include:<ul><li>`1`: Android</li><li>`2`: iOS</li><li>`5`: Windows</li><li>`6`: Linux</li><li>`7`: Web</li><li>`8`: macOS</li><li>`0`: Others </li></ul></li></ul>|

###  Response example

The following is a response example for a successful request:

<CodeBlock language="json" showLineNumbers>
  {`{
    "success": true,
    "data": {
        "join": 1640330382,
        "uid": 2845863044,
        "in_channel": true,
        "platform": 7,
        "role": 2
    }
}`}
</CodeBlock>


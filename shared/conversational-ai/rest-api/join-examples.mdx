
<Tabs groupId="code-examples" categories={[
    { value: "basic", label: "Basic configuration" },
    { value: "advanced", label: "Advanced configuration" },
    { value: "string-uid", label: "Using string uid" },
    { value: "mcp", label: "MCP server" },
    ]}>

<TabItem value="curl" label="curl" default category="basic">

```bash
curl --request post \
--url https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join \
--header 'Authorization: Basic <your_base64_encoded_credentials>' \
--data '
{
    "name": "unique_name",
    "properties": {
        "channel": "channel_name",
        "token": "token",
        "agent_rtc_uid": "1001",
        "remote_rtc_uids": [
            "1002"
        ],
        "idle_timeout": 120,
        "llm": {
            "url": "https://api.openai.com/v1/chat/completions",
            "api_key": "<your_llm_key>",
            "system_messages": [
                {
                    "role": "system",
                    "content": "You are a helpful chatbot."
                }
            ],
            "max_history": 32,
            "greeting_message": "Hello, how can I assist you today?",
            "failure_message": "Please hold on a second.",
            "params": {
                "model": "gpt-4o-mini"
            }
        },
        "tts": {
            "vendor": "microsoft",
            "params": {
                "key": "<your_tts_api_key>",
                "region": "eastus",
                "voice_name": "en-US-AndrewMultilingualNeural"
            }
        },
        "asr": {
            "language": "en-US"
        }
    }
}'
```
</TabItem>
<TabItem value="python" label="Python" category="basic">

```python
import requests
import json

url = "https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join"

headers = {"Authorization": "Basic <your_base64_encoded_credentials>"}

data = {
    "name": "unique_name",
    "properties": {
        "channel": "channel_name",
        "token": "token",
        "agent_rtc_uid": "1001",
        "remote_rtc_uids": ["1002"],
        "idle_timeout": 120,
        "llm": {
            "url": "https://api.openai.com/v1/chat/completions",
            "api_key": "<your_llm_key>",
            "system_messages": [
                {
                    "role": "system",
                    "content": "You are a helpful chatbot."
                }
            ],
            "max_history": 32,
            "greeting_message": "Hello, how can I assist you today?",
            "failure_message": "Please hold on a second.",
            "params": {
                "model": "gpt-4o-mini"
            }
        },
        "tts": {
            "vendor": "microsoft",
            "params": {
                "key": "<your_tts_api_key>",
                "region": "eastus",
                "voice_name": "en-US-AndrewMultilingualNeural"
            }
        },
        "asr": {
            "language": "en-US"
        }
    }
}

response = requests.post(url, headers=headers, data=json.dumps(data))

print(response.status_code)
print(response.json())
```
</TabItem>

<TabItem value="node" label="Node.js" category="basic">

```js
const axios = require("axios");

const url = "https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join";

const headers = {
    "Authorization": "Basic <your_base64_encoded_credentials>"
};

const data = {
    name: "unique_name",
    properties: {
    channel: "channel_name",
    token: "token",
    agent_rtc_uid: "1001",
    remote_rtc_uids: ["1002"],
    idle_timeout: 120,
    llm: {
        url: "https://api.openai.com/v1/chat/completions",
        api_key: "<your_llm_key>",
        system_messages: [
        {
            role: "system",
            content: "You are a helpful chatbot."
        }
        ],
        max_history: 32,
        greeting_message: "Hello, how can I assist you today?",
        failure_message: "Please hold on a second.",
        params: {
        model: "gpt-4o-mini"
        }
    },
    tts: {
        vendor: "microsoft",
        params: {
        key: "<your_tts_api_key>",
        region: "eastus",
        voice_name: "en-US-AndrewMultilingualNeural"
        }
    },
    asr: {
        language: "en-US"
    }
    }
};

axios
    .post(url, data, { headers })
    .then(response => {
    console.log("Status:", response.status);
    console.log("Response:", response.data);
    })
    .catch(error => {
    console.error("Error:", error.response ? error.response.data : error.message);
    });
```
</TabItem>


<TabItem value="curl" label="curl" category="mcp">

```bash
curl --request POST \
  --url https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join \
  --header 'Authorization: Basic <credentials>' \
  --data '
{
  "name": "unique_name",
  "properties": {
    "channel": "channel_name",
    "token": "token",
    "agent_rtc_uid": "1001",
    "remote_rtc_uids": [
      "1002"
    ],
    "idle_timeout": 120,
    "llm": {
      "url": "https://api.openai.com/v1/chat/completions",
      "api_key": "<your_llm_key>",
      "system_messages": [
        {
          "role": "system",
          "content": "You are a helpful assistant. User name is {{user_name}}, and their account ID is {{account_id}}."
        }
      ],
      "greeting_message": "Hello {{user_name}}, how can I help you?",
      "failure_message": "Sorry, {{user_name}}, I cannot answer this question. Please try again later.",
      "max_history": 32,
      "params": {
        "model": "gpt-4o-mini"
      },
      "template_variables": {
        "user_name": "John",
        "account_id": "ACC123456",
        "silent_prompt": "If the user does not respond for an extended period, please inquire whether you require continued service."
      },
      "mcp_servers": [
          {
              "name": "mcpserver",
              "transport": "streamable_http",
              "endpoint": "https://registry.run.mcp.com.ai/mcp",
              "allowed_tools": [
                  "getV01Servers"
              ],
          }
      ]
    },
    "asr": {
      "language": "en-US"
    },
    "tts": {
      "vendor": "minimax",
      "skip_patterns": [
        1
      ],
      "params": {
        "group_id": "xxxx",
        "key": "xxxx",
        "model": "speech-01-turbo",
        "voice_setting": {
          "voice_id": "English_captivating_female1",
          "speed": 1,
          "vol": 1,
          "pitch": 0,
          "emotion": "happy"
        },
        "audio_setting": {
          "sample_rate": 16000
        }
      }
    },
    "parameters": {
      "silence_config": {
        "timeout_ms": 10000,
        "action": "think",
        "content": "{{silent_prompt}}"
      }
    }
  }
}'
```
</TabItem>

<TabItem value="python" label="Python" category="mcp">

```python
import requests

url = "https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join"

payload = {
    "name": "unique_name",
    "properties": {
        "channel": "channel_name",
        "token": "token",
        "agent_rtc_uid": "1001",
        "remote_rtc_uids": ["1002"],
        "idle_timeout": 120,
        "llm": {
            "url": "https://api.openai.com/v1/chat/completions",
            "api_key": "<your_llm_key>",
            "system_messages": [
                {
                    "role": "system",
                    "content": "You are a helpful assistant. User name is {{user_name}}, and their account ID is {{account_id}}."
                }
            ],
            "greeting_message": "Hello {{user_name}}, how can I help you?",
            "failure_message": "Sorry, {{user_name}}, I cannot answer this question. Please try again later.",
            "max_history": 32,
            "params": {
                "model": "gpt-4o-mini"
            },
            "template_variables": {
                "user_name": "John",
                "account_id": "ACC123456",
                "silent_prompt": "If the user does not respond for an extended period, please inquire whether you require continued service."
            },
            "mcp_servers": [
                {
                    "name": "mcpserver",
                    "transport": "streamable_http",
                    "endpoint": "https://registry.run.mcp.com.ai/mcp",
                    "allowed_tools": ["getV01Servers"]
                }
            ]
        },
        "asr": {
            "language": "en-US"
        },
        "tts": {
            "vendor": "minimax",
            "skip_patterns": [1],
            "params": {
                "group_id": "xxxx",
                "key": "xxxx",
                "model": "speech-01-turbo",
                "voice_setting": {
                    "voice_id": "English_captivating_female1",
                    "speed": 1,
                    "vol": 1,
                    "pitch": 0,
                    "emotion": "happy"
                },
                "audio_setting": { "sample_rate": 16000 }
            }
        },
        "parameters": { "silence_config": {
                "timeout_ms": 10000,
                "action": "think",
                "content": "{{silent_prompt}}"
            } }
    }
}
headers = {"Authorization": "Basic <credentials>"}

response = requests.post(url, json=payload, headers=headers)

print(response.text)
```
</TabItem>

<TabItem value="node" label="Node.js" category="mcp">

```js
const url = 'https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join';
const options = {
  method: 'POST',
  headers: {Authorization: 'Basic <credentials>'},
  body: JSON.stringify({
    name: 'unique_name',
    properties: {
      channel: 'channel_name',
      token: 'token',
      agent_rtc_uid: '1001',
      remote_rtc_uids: ['1002'],
      idle_timeout: 120,
      llm: {
        url: 'https://api.openai.com/v1/chat/completions',
        api_key: '<your_llm_key>',
        system_messages: [
          {
            role: 'system',
            content: 'You are a helpful assistant. User name is {{user_name}}, and their account ID is {{account_id}}.'
          }
        ],
        greeting_message: 'Hello {{user_name}}, how can I help you?',
        failure_message: 'Sorry, {{user_name}}, I cannot answer this question. Please try again later.',
        max_history: 32,
        params: {model: 'gpt-4o-mini'},
        template_variables: {
          user_name: 'John',
          account_id: 'ACC123456',
          silent_prompt: 'If the user does not respond for an extended period, please inquire whether you require continued service.'
        },
        mcp_servers: [
          {
            name: 'mcpserver',
            transport: 'streamable_http',
            endpoint: 'https://registry.run.mcp.com.ai/mcp',
            allowed_tools: ['getV01Servers']
          }
        ]
      },
      asr: {language: 'en-US'},
      tts: {
        vendor: 'minimax',
        skip_patterns: [1],
        params: {
          group_id: 'xxxx',
          key: 'xxxx',
          model: 'speech-01-turbo',
          voice_setting: {voice_id: 'English_captivating_female1', speed: 1, vol: 1, pitch: 0, emotion: 'happy'},
          audio_setting: {sample_rate: 16000}
        }
      },
      parameters: {
        silence_config: {timeout_ms: 10000, action: 'think', content: '{{silent_prompt}}'}
      }
    }
  })
};

fetch(url, options)
  .then(res => res.json())
  .then(json => console.log(json))
  .catch(err => console.error(err));
```
</TabItem>


<TabItem value="curl" label="curl" category="advanced">

```bash
curl --request POST \
  --url https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join \
  --header 'Authorization: Basic <credentials>' \
  --data '
{
  "name": "full_config_agent",
  "properties": {
    "channel": "full_channel_name",
    "token": "full_token_value",
    "agent_rtc_uid": "12345",
    "remote_rtc_uids": [
      "67890"
    ],
    "enable_string_uid": false,
    "idle_timeout": 180,
    "silence_timeout": 30,
    "advanced_features": {
      "enable_rtm": true,
      "enable_sal": true
    },
    "asr": {
      "language": "en-US",
      "vendor": "microsoft",
      "params": {
        "key": "your_microsoft_key",
        "region": "eastus",
        "language": "en-US",
        "phrase_list": [
          "agora",
          "fengming"
        ]
      }
    },
    "tts": {
      "vendor": "microsoft",
      "skip_patterns": [
        1,
        2
      ],
      "params": {
        "key": "your_microsoft_key",
        "region": "eastus",
        "voice_name": "en-US-AndrewMultilingualNeural",
        "speed": 1,
        "volume": 70,
        "sample_rate": 24000
      }
    },
    "llm": {
      "url": "https://api.openai.com/v1/chat/completions",
      "api_key": "your_openai_api_key",
      "system_messages": [
        {
          "role": "system",
          "content": "You are a professional AI assistant. User name is {{user_name}}."
        }
      ],
      "greeting_message": "Hello {{user_name}}, I am your smart assistant. How can I help you?",
      "greeting_configs": {
        "mode": "single_every"
      },
      "failure_message": "Sorry, there was a system problem. Please try again later.",
      "max_history": 64,
      "input_modalities": [
        "text",
        "image"
      ],
      "output_modalities": [
        "text"
      ],
      "params": {
        "model": "gpt-4o",
        "temperature": 0.8,
        "max_tokens": 2048,
        "stream": true
      },
      "template_variables": {
        "user_name": "John",
        "company_name": "Agora"
      }
    },
    "avatar": {
      "vendor": "heygen",
      "enable": true,
      "params": {
        "api_key": "<heygen_key>",
        "quality": "medium",
        "agora_uid": "<avatar_rtc_uid>",
        "agora_token": "<avatar_rtc_token>",
        "avatar_id": "",
        "disable_idle_timeout": false,
        "activity_idle_timeout": 60
      }
    },
    "turn_detection": {
      "mode": "default",
      "config": {
        "speech_threshold": 0.5,
        "start_of_speech": {
          "mode": "vad",
          "vad_config": {
            "interrupt_duration_ms": 160,
            "speaking_interrupt_duration_ms": 320,
            "prefix_padding_ms": 800
          }
        },
        "end_of_speech": {
          "mode": "semantic",
          "semantic_config": {
            "silence_duration_ms": 320,
            "max_wait_ms": 3000
          }
        }
      }
    },
    "sal": {
      "sal_mode": "locking",
      "sample_urls": {
        "speaker1": "https://example.com/voiceprint1.pcm"
      }
    },
    "labels": {
      "campaign_id": "spring_2025",
      "customer_group": "vip",
      "region": "eastus"
    },
    "rtc": {
      "encryption_key": "your_32_byte_encryption_key_here",
      "encryption_salt": "TsP4fLLyxxxxxxxxxroLA9oE=",
      "encryption_mode": 8
    },
    "filler_words": {
      "enable": true,
      "trigger": {
        "mode": "fixed_time",
        "config": {
          "response_wait_ms": 1500
        }
      },
      "content": {
        "mode": "static",
        "config": {
          "phrases": [
            "Please wait a moment.",
            "OK",
            "Uh-huh."
          ],
          "selection_rule": "shuffle"
        }
      }
    },
    "parameters": {
      "silence_config": {
        "timeout_ms": 15000,
        "action": "think",
        "content": "User has not responded for an extended period. Please inquire whether continued service is needed."
      },
      "farewell_config": {
        "graceful_enabled": true,
        "graceful_timeout_seconds": 60
      },
      "data_channel": "rtm",
      "enable_metrics": true,
      "enable_error_message": true
    }
  }
}'
```
</TabItem>

<TabItem value="python" label="Python" category="advanced">

```python
import requests

url = "https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join"

payload = {
    "name": "full_config_agent",
    "properties": {
        "channel": "full_channel_name",
        "token": "full_token_value",
        "agent_rtc_uid": "12345",
        "remote_rtc_uids": ["67890"],
        "enable_string_uid": False,
        "idle_timeout": 180,
        "silence_timeout": 30,
        "advanced_features": {
            "enable_rtm": True,
            "enable_sal": True
        },
        "asr": {
            "language": "en-US",
            "vendor": "microsoft",
            "params": {
                "key": "your_microsoft_key",
                "region": "eastus",
                "language": "en-US",
                "phrase_list": ["agora", "fengming"]
            }
        },
        "tts": {
            "vendor": "microsoft",
            "skip_patterns": [1, 2],
            "params": {
                "key": "your_microsoft_key",
                "region": "eastus",
                "voice_name": "en-US-AndrewMultilingualNeural",
                "speed": 1,
                "volume": 70,
                "sample_rate": 24000
            }
        },
        "llm": {
            "url": "https://api.openai.com/v1/chat/completions",
            "api_key": "your_openai_api_key",
            "system_messages": [
                {
                    "role": "system",
                    "content": "You are a professional AI assistant. User name is {{user_name}}."
                }
            ],
            "greeting_message": "Hello {{user_name}}, I am your smart assistant. How can I help you?",
            "greeting_configs": { "mode": "single_every" },
            "failure_message": "Sorry, there was a system problem. Please try again later.",
            "max_history": 64,
            "input_modalities": ["text", "image"],
            "output_modalities": ["text"],
            "params": {
                "model": "gpt-4o",
                "temperature": 0.8,
                "max_tokens": 2048,
                "stream": True
            },
            "template_variables": {
                "user_name": "John",
                "company_name": "Agora"
            }
        },
        "avatar": {
            "vendor": "heygen",
            "enable": True,
            "params": {
                "api_key": "<heygen_key>",
                "quality": "medium",
                "agora_uid": "<avatar_rtc_uid>",
                "agora_token": "<avatar_rtc_token>",
                "avatar_id": "",
                "disable_idle_timeout": False,
                "activity_idle_timeout": 60
            }
        },
        "turn_detection": {
            "mode": "default",
            "config": {
                "speech_threshold": 0.5,
                "start_of_speech": {
                    "mode": "vad",
                    "vad_config": {
                        "interrupt_duration_ms": 160,
                        "speaking_interrupt_duration_ms": 320,
                        "prefix_padding_ms": 800
                    }
                },
                "end_of_speech": {
                    "mode": "semantic",
                    "semantic_config": {
                        "silence_duration_ms": 320,
                        "max_wait_ms": 3000
                    }
                }
            }
        },
        "sal": {
            "sal_mode": "locking",
            "sample_urls": { "speaker1": "https://example.com/voiceprint1.pcm" }
        },
        "labels": {
            "campaign_id": "spring_2025",
            "customer_group": "vip",
            "region": "eastus"
        },
        "rtc": {
            "encryption_key": "your_32_byte_encryption_key_here",
            "encryption_salt": "TsP4fLLyxxxxxxxxxroLA9oE=",
            "encryption_mode": 8
        },
        "filler_words": {
            "enable": True,
            "trigger": {
                "mode": "fixed_time",
                "config": { "response_wait_ms": 1500 }
            },
            "content": {
                "mode": "static",
                "config": {
                    "phrases": ["Please wait a moment.", "OK", "Uh-huh."],
                    "selection_rule": "shuffle"
                }
            }
        },        
        "parameters": {
            "silence_config": {
                "timeout_ms": 15000,
                "action": "think",
                "content": "User has not responded for an extended period. Please inquire whether continued service is needed."
            },
            "farewell_config": {
                "graceful_enabled": True,
                "graceful_timeout_seconds": 60
            },
            "data_channel": "rtm",
            "enable_metrics": True,
            "enable_error_message": True
        }
    }
}
headers = {"Authorization": "Basic <credentials>"}

response = requests.post(url, json=payload, headers=headers)

print(response.text)
```
</TabItem>

<TabItem value="node" label="Node.js" category="advanced">

```js
const url = 'https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join';
const options = {
  method: 'POST',
  headers: {Authorization: 'Basic <credentials>'},
  body: JSON.stringify({
    name: 'full_config_agent',
    properties: {
      channel: 'full_channel_name',
      token: 'full_token_value',
      agent_rtc_uid: '12345',
      remote_rtc_uids: ['67890'],
      enable_string_uid: false,
      idle_timeout: 180,
      silence_timeout: 30,
      advanced_features: {enable_rtm: true, enable_sal: true},
      asr: {
        language: 'en-US',
        vendor: 'microsoft',
        params: {
          key: 'your_microsoft_key',
          region: 'eastus',
          language: 'en-US',
          phrase_list: ['agora', 'fengming']
        }
      },
      tts: {
        vendor: 'microsoft',
        skip_patterns: [1, 2],
        params: {
          key: 'your_microsoft_key',
          region: 'eastus',
          voice_name: 'en-US-AndrewMultilingualNeural',
          speed: 1,
          volume: 70,
          sample_rate: 24000
        }
      },
      llm: {
        url: 'https://api.openai.com/v1/chat/completions',
        api_key: 'your_openai_api_key',
        system_messages: [
          {
            role: 'system',
            content: 'You are a professional AI assistant. User name is {{user_name}}.'
          }
        ],
        greeting_message: 'Hello {{user_name}}, I am your smart assistant. How can I help you?',
        greeting_configs: {mode: 'single_every'},
        failure_message: 'Sorry, there was a system problem. Please try again later.',
        max_history: 64,
        input_modalities: ['text', 'image'],
        output_modalities: ['text'],
        vendor: 'custom',
        params: {model: 'gpt-4o', temperature: 0.8, max_tokens: 2048, stream: true},
        template_variables: {user_name: 'John', company_name: 'Agora'}
      },
      avatar: {
        vendor: 'heygen',
        enable: true,
        params: {
          api_key: '<heygen_key>',
          quality: 'medium',
          agora_uid: '<avatar_rtc_uid>',
          agora_token: '<avatar_rtc_token>',
          avatar_id: '',
          disable_idle_timeout: false,
          activity_idle_timeout: 60
        }
      },
      turn_detection: {
        mode: 'default',
        config: {
          speech_threshold: 0.5,
          start_of_speech: {
            mode: 'vad',
            vad_config: {
              interrupt_duration_ms: 160,
              speaking_interrupt_duration_ms: 320,
              prefix_padding_ms: 800
            }
          },
          end_of_speech: {
            mode: 'semantic',
            semantic_config: {silence_duration_ms: 320, max_wait_ms: 3000}
          }
        }
      },
      sal: {
        sal_mode: 'locking',
        sample_urls: {speaker1: 'https://example.com/voiceprint1.pcm'}
      },
      labels: {campaign_id: 'spring_2025', customer_group: 'vip', region: 'eastus'},
      rtc: {
        encryption_key: 'your_32_byte_encryption_key_here',
        encryption_salt: 'TsP4fLLyxxxxxxxxxroLA9oE=',
        encryption_mode: 8
      },
      filler_words: {
        enable: true,
        trigger: {mode: 'fixed_time', config: {response_wait_ms: 1500}},
        content: {
          mode: 'static',
          config: {phrases: ['Please wait a moment.', 'OK', 'Uh-huh.'], selection_rule: 'shuffle'}
        }
      },      
      parameters: {
        silence_config: {timeout_ms: 15000, action: 'think', content: 'User has not responded for an extended period. Please inquire whether continued service is needed.'},
        farewell_config: {graceful_enabled: true, graceful_timeout_seconds: 60},
        data_channel: 'rtm',
        enable_metrics: true,
        enable_error_message: true
      }
    }
  })
};

fetch(url, options)
  .then(res => res.json())
  .then(json => console.log(json))
  .catch(err => console.error(err));
```
</TabItem>

<TabItem value="curl" label="curl" category="string-uid">

```bash
curl --request POST \
  --url https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join \
  --header 'Authorization: Basic <credentials>' \
  --data '
{
  "name": "unique_name",
  "properties": {
    "channel": "channel_name",
    "token": "token",
    "agent_rtc_uid": "friday",
    "remote_rtc_uids": [
      "1002"
    ],
    "enable_string_uid": true,
    "idle_timeout": 120,
    "llm": {
      "url": "https://api.openai.com/v1/chat/completions",
      "api_key": "<your_llm_key>",
      "system_messages": [
        {
          "role": "system",
          "content": "You are a helpful chatbot."
        }
      ],
      "greeting_message": "Hello, how can I help you?",
      "failure_message": "I'm sorry, I can't answer that question.",
      "max_history": 32,
      "params": {
        "model": "gpt-4o-mini"
      }
    },
    "asr": {
      "language": "en-US"
    },
    "tts": {
      "vendor": "microsoft",
      "params": {
        "key": "<your_tts_api_key>",
        "region": "eastus",
        "voice_name": "en-US-AndrewMultilingualNeural"
      }
    }
  }
}'
```
</TabItem>

<TabItem value="python" label="Python" category="string-uid">

```python
import requests

url = "https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join"

payload = {
    "name": "unique_name",
    "properties": {
        "channel": "channel_name",
        "token": "token",
        "agent_rtc_uid": "friday",
        "remote_rtc_uids": ["1002"],
        "enable_string_uid": True,
        "idle_timeout": 120,
        "llm": {
            "url": "https://api.openai.com/v1/chat/completions",
            "api_key": "<your_llm_key>",
            "system_messages": [
                {
                    "role": "system",
                    "content": "You are a helpful chatbot."
                }
            ],
            "greeting_message": "Hello, how can I help you?",
            "failure_message": "I'm sorry, I can't answer that question.",
            "max_history": 32,
            "params": {
                "model": "gpt-4o-mini"
            }
        },
        "asr": {
            "language": "en-US"
        },
        "tts": {
            "vendor": "microsoft",
            "params": {
                "key": "<your_tts_api_key>",
                "region": "eastus",
                "voice_name": "en-US-AndrewMultilingualNeural"
            }
        }
    }
}
headers = {"Authorization": "Basic <credentials>"}

response = requests.post(url, json=payload, headers=headers)

print(response.text)
```
</TabItem>

<TabItem value="node" label="Node.js" category="string-uid">

```js
const url = 'https://api.agora.io/api/conversational-ai-agent/v2/projects/:appid/join';
const options = {
  method: 'POST',
  headers: {Authorization: 'Basic <credentials>'},
  body: JSON.stringify({
    name: 'unique_name',
    properties: {
      channel: 'channel_name',
      token: 'token',
      agent_rtc_uid: 'friday',
      remote_rtc_uids: ['1002'],
      enable_string_uid: true,
      idle_timeout: 120,
      llm: {
        url: 'https://api.openai.com/v1/chat/completions',
        api_key: '<your_llm_key>',
        system_messages: [{role: 'system', content: 'You are a helpful chatbot.'}],
        greeting_message: 'Hello, how can I help you?',
        failure_message: 'I'm sorry, I can't answer that question.',
        max_history: 32,
        params: {model: 'gpt-4o-mini'}
      },
      asr: {language: 'en-US'},
      tts: {
        vendor: 'microsoft',
        params: {
          key: '<your_tts_api_key>',
          region: 'eastus',
          voice_name: 'en-US-AndrewMultilingualNeural'
        }
      }
    }
  })
};

fetch(url, options)
  .then(res => res.json())
  .then(json => console.log(json))
  .catch(err => console.error(err));
```
</TabItem>
</Tabs>
    Use this event to see when an attempt to connect directly to <Vg k="AGORA_BACKEND" /> fails.

<PlatformWrapper platform="android">
    ```java
    @Override
    public void onConnectionStateChanged(int state, int reason) {
        if (state ==  CONNECTION_STATE_FAILED
            && reason == CONNECTION_CHANGED_JOIN_FAILED) {
            // Connection failed
            directConnectionFailed = true;
        } else if (state == CONNECTION_CHANGED_SETTING_PROXY_SERVER) {
            // Proxy server setting changed
        }
    }
    ```
</PlatformWrapper>
<PlatformWrapper platform={["ios","macos"]}>
    ```swift
    func rtcEngine(
        _ engine: AgoraRtcEngineKit,
        connectionChangedTo state: AgoraConnectionState,
        reason: AgoraConnectionChangedReason
    ) {
        if state == .failed, reason == .reasonJoinFailed {
            // connection failed, try connect with proxy
        }
    }
    ```
</PlatformWrapper>

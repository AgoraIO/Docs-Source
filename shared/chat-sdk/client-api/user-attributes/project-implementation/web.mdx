<PlatformWrapper platform="web">

### Set user attributes

Chat users can set and update their own attributes. Refer to the code example to set all the user attributes:

```javascript
// Sets all user attributes
let options = {
    nickname: 'The nickname',
    avatarurl: 'http://avatarurl',
    mail: '123@qq.com',
    phone: '16888888888',
    gender: 'female',
    birth: '2000-01-01',
    sign: 'a sign',
    ext: JSON.stringify({
          nationality: 'China',
          merit: 'Hello, world！'
        })
}
WebIM.conn.updateUserInfo(options).then((res) => {
    console.log(res)
})      
```

The following sample code uses nickname as an example to show how to set the specified user attribute:

```javascript
WebIM.conn.updateUserInfo('nickname', 'Your nickname').then((res) => {
    console.log(res)
})
```

Keys listed in the following table are used by default when user attributes are set on the client side, including the nickname, avatar URL, contact information, email address, gender, signature, birthday and extension fields. When you call the [RESTful API to set](../restful-api/user-attributes-management#setting-user-attributes) or [delete](../restful-api/user-attributes-management#deleting-user-attributes) these user attributes, you must pass in the following keys to make sure that the client can obtain the settings from the server:

| Field        | Type   | Description                                                         |
| :---------- | :----- | :----------------------------------------------------------- |
| `nickname`  | String | The user nickname, which can contain at most 64 characters.    |
| `avatarurl` | String | The user avatar URL, which can contain at most 256 characters.     |
| `phone`     | String | The user's phone number, which can contain at most 32 characters.  |
| `mail`      | String | The user's email address, which can contain at most 64 characters. |
| `gender`    | Number | The user gender: <ul><li>`1`：Male; </li><li>`2`：Female;</li><li>(Default) `0`: Unknown;</li><li>Other values are invalid.</li></ul> |
| `sign`      | String | The user's signature, which can contain at most 256 characters.  |
| `birth`     | String | The user's birthday, which can contain at most 256 characters.  |
| `ext`       | String | The extension fields.

### Retrieve user attributes

You can use `fetchUserInfoById` to retrieve the user attributes of the specified users. For each method call, you can retrieve the user attributes of a maximum of 100 users.

Refer to the following code example to retrieve all the attributes of the specified user:

```javascript
/**
 * @param {String|Array} users - The user ID. You can set it as one user ID, or multiple user IDs in the format of array.
 */
let users = 'user1' || ['user1', 'user2']
WebIM.conn.fetchUserInfoById(users).then((res) => {
    console.log(res)
})
```

The following sample code shows how to retrieve the specified attributes of the user.

```javascript
/**
 * @param {String|Array} users - The user ID. You can set it as one user ID, or multiple user IDs in the format of array.
 * @param {String|Array} properties - The specified attribute.
 */
WebIM.conn.fetchUserInfoById('userId', 'nickname').then((res) => {
    console.log(res)
})

// Retrieves the specified attributes of the specified users.
WebIM.conn.fetchUserInfoById(['user1', 'user2'], ['nickname', 'avatarurl']).then((res) => {
    console.log(res)
})
```

</PlatformWrapper>
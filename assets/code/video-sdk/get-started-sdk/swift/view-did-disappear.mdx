<PlatformWrapper platform="macos">
```swift
    override func viewDidDisappear()
    {
        super.viewDidDisappear()
        leaveChannel()
        DispatchQueue.global(qos: .userInitiated).async {AgoraRtcEngineKit.destroy()}
    }
```
</PlatformWrapper>
<PlatformWrapper platform="ios">
```swift
    override func viewDidDisappear(_ animated: Bool) {
        super.viewDidDisappear(animated)
        leaveChannel()
        DispatchQueue.global(qos: .userInitiated).async {AgoraRtcEngineKit.destroy()}
    }
```
</PlatformWrapper>
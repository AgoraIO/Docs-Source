<PlatformWrapper platform="ios, macos">

### Integrate CallAPI

<Vg k="Agora" /> `CallAPI` is a use-case-based solution designed for one-on-one calls that open in seconds. The API provides efficient call connection and image transmission functions that help you quickly set up video calls and transmit images during calls.

This section guides you through integrating the `CallAPI` source code into your project and configuring the necessary project settings.

#### Prerequisites

Make sure you have:

- [CocoaPods](https://guides.cocoapods.org/using/getting-started.html#getting-started)
- [Xcode](https://developer.apple.com/xcode/) 12.0 or higher
- A valid [Apple developer](https://developer.apple.com/) account

#### Integration

Take the following steps to integrate `CallAPI` into your project:

1. **Set up you project**

    If you don't have a <Vpl k="NAME" /> project, [create a new Xcode project](https://help.apple.com/xcode/mac/current/#/dev07db0e578). 
    
    In your project:
        1. [Set up automatic signing](https://help.apple.com/xcode/mac/current/#/dev23aab79b4)
        1. [Set the target devices](https://help.apple.com/xcode/mac/current/#/deve69552ee5) for deploying your app 
        1. Open the file `info.plist` in the project navigator and edit the [property list](https://help.apple.com/xcode/mac/current/#/dev3f399a2a6) to add the recording and camera permissions required for the one-on-one private room:

            | Key   | Type   | Value   |
            |-------|--------|---------|
            | Privacy - Microphone Usage Description | String | for one-on-one communication |
            | Privacy - Camera Usage Description    | String | for one-on-one communication |

1. **Add dependencies**

    To add `CallAPI` to your project:

    1. Download or clone the [CallAPI source code repository](https://github.com/AgoraIO-Community/CallAPI/tree/main/iOS).

    1. Copy the `Call API` folder and the `CallAPI.podspec` file under `ios` into your project folder at the same level as `Podfile`.

    1. Include the following line in the `Podfile` to add a `CallAPI` dependency:

        ```ruby
        pod 'CallAPI', :path => 'CallAPI.podspec'
        ```

    1. Open a terminal and execute the following command to integrate the `CallAPI` code into your project:

        ```ruby
        pod install
        ```

1. **Check the SDK version** 

    If your project integrates <Vg k="COMPANY" /> <Vg k="VSDK" /> or <Vg k="MESS_SDK" />, ensure that the integrated SDK version is compatible with `CallAPI`:

    - <Vg k="VSDK" />: `4.1.1.26` or higher
    - <Vg k="MESS_SDK" />: `2.2.0` or higher
    
    If your current version is not compatible with `CallAPI`, modify the corresponding SDK version number in the `CallAPI.podspec` file.

    ```swift
    s.dependency 'AgoraRtcEngine_Special_iOS', '4.1.1.26'
    s.dependency 'AgoraRtm_iOS', '2.2.0'
    ```

</PlatformWrapper>
<PlatformWrapper platform="android">

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

To send message to a user channel, call the `publish` method with the `channelType` parameter set to `RtmChannelType.USER` and the `channelName` parameter set to the target user's `userId`. This method enables you to send a message to one user at a time. To send messages to multiple users, call this method for each user. While <Vg k="SIG" /> does not limit the number of users you can send messages to or receive messages from, it does [limit](../reference/limitations#message-channel) the frequency at which you can send messages to users.

Refer to the following sample code for sending messages:

- String message

    <Tabs groupId="language">
    <TabItem value="java" label="Java">
    <CodeBlock language="java" showLineNumbers>
    {`// Send string message
    PublishOptions options = new PublishOptions();
    options.setChannelType(RtmChannelType.USER);
    options.setCustomType("PlainText");
    rtmClient.publish("Tony", "Hello world", options, new ResultCallback<Void>() {
        @Override
        public void onSuccess(Void responseInfo) {
            log(CALLBACK, "Send message success");
        }
    
        @Override
        public void onFailure(ErrorInfo errorInfo) {
            log(ERROR, errorInfo.toString());
        }
    });`}
    </CodeBlock>
    </TabItem>

    <TabItem value="kotlin" label="Kotlin" default>
    <CodeBlock language="kotlin" showLineNumbers>
    {`// Send string message
    val options = PublishOptions()
    options.channelType = RtmChannelType.USER
    options.customType = "PlainText"
    rtmClient.publish("Tony", "Hello world", options, object : ResultCallback<Void> {
        override fun onSuccess(responseInfo: Void?) {
            log(CALLBACK, "Send message success")
        }
    
        override fun onFailure(errorInfo: ErrorInfo) {
            log(ERROR, errorInfo.toString())
        }
    })`}
    </CodeBlock>
    </TabItem>
    </Tabs>

- Binary message

    <Tabs groupId="language">
    <TabItem value="java" label="Java">
    <CodeBlock language="java" showLineNumbers>
    {`// Send binary message
    byte[] message = new byte[] {1, 2, 3, 4};
    PublishOptions options = new PublishOptions();
    options.setChannelType(RtmChannelType.USER);
    options.setCustomType("ByteArray");
    rtmClient.publish("Tony", message, options, new ResultCallback<Void>() {
        @Override
        public void onSuccess(Void responseInfo) {
            log(CALLBACK, "Send message success");
        }
    
        @Override
        public void onFailure(ErrorInfo errorInfo) {
            log(ERROR, errorInfo.toString());
        }
    });`}
    </CodeBlock>
    </TabItem>

    <TabItem value="kotlin" label="Kotlin" default>
    <CodeBlock language="kotlin" showLineNumbers>
    {`// Send binary message
    val message = byteArrayOf(1, 2, 3, 4)
    val options = PublishOptions()
    options.channelType = RtmChannelType.USER
    options.customType = "ByteArray"
    rtmClient.publish("Tony", message, options, object : ResultCallback<Void> {
        override fun onSuccess(responseInfo: Void?) {
            log(CALLBACK, "Send message success")
        }
    
        override fun onFailure(errorInfo: ErrorInfo) {
            log(ERROR, errorInfo.toString())
        }
    })`}
    </CodeBlock>
    </TabItem>
    </Tabs>

</PlatformWrapper>

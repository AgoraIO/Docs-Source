<ProductWrapper product="video-calling">

<PlatformWrapper platform="ios">

``` swift
open func leaveChannel(
    leaveChannelBlock: ((AgoraChannelStats) -> Void)? = nil,
    destroyInstance: Bool = true
) -> Int32 {
    let leaveErr = self.agoraEngine.leaveChannel(leaveChannelBlock)
    self.agoraEngine.stopPreview()
    defer { if destroyInstance { AgoraRtcEngineKit.destroy() } }
    self.allUsers.removeAll()
    return leaveErr
}
```

</PlatformWrapper>

<PlatformWrapper platform="macos">

``` swift
open func leaveChannel(
    leaveChannelBlock: ((AgoraChannelStats) -> Void)? = nil
) -> Int32 {
    let leaveErr = self.agoraEngine.leaveChannel(leaveChannelBlock)
    self.agoraEngine.stopPreview()
    defer { AgoraRtcEngineKit.destroy() }
    self.allUsers.removeAll()
    return leaveErr
}
```

</PlatformWrapper>

</ProductWrapper>

<ProductWrapper product={["interactive-live-streaming", "broadcast-streaming"]}>

<PlatformWrapper platform="ios">

``` swift
open func leaveChannel(
    leaveChannelBlock: ((AgoraChannelStats) -> Void)? = nil,
    destroyInstance: Bool = true
) -> Int32 {
    let leaveErr = self.agoraEngine.leaveChannel(leaveChannelBlock)
    self.agoraEngine.stopPreview()
    defer { if destroyInstance { AgoraRtcEngineKit.destroy() } }
    self.allUsers.removeAll()
    return leaveErr
}
```

</PlatformWrapper>

<PlatformWrapper platform="macos">

``` swift
open func leaveChannel(
    leaveChannelBlock: ((AgoraChannelStats) -> Void)? = nil
) -> Int32 {
    let leaveErr = self.agoraEngine.leaveChannel(leaveChannelBlock)
    self.agoraEngine.stopPreview()
    defer { AgoraRtcEngineKit.destroy() }
    self.allUsers.removeAll()
    return leaveErr
}
```

</PlatformWrapper>

</ProductWrapper>
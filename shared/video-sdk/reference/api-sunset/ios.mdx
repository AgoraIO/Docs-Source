<PlatformWrapper platform="ios">
{ /* 
Notes:
- Refer to the CN guide for updates https://doc.shengwang.cn/api-ref/rtc/ios/API/rtc_api_sunset
- Note that this guide is for obj-c
- Search for the corresponding swift API in the EN Swift API ref
- Use <wbr/> to wrap long API names
- To find the deleted Swift API names, find the full obj-c API definition by switching to an older version of the API ref and then use AI to convert it to swift format.
*/}

## Deprecated APIs

A deprecated API is expected to be officially removed in about one year from deprecation. Agora recommends using the alternate API as soon as possible to avoid impacting your online business.

| Deprecated API | Description | Alternate API| Deprecating version |
|:----|:------------|:-------------|:------|
| [`setDirectCdnStreamingAudioConfiguration(_:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setdirectcdnstreamingaudioconfiguration(_:)) | Sets the audio profile of the audio streams directly pushed to the CDN by the host. | Use [Media Push](/media-push/overview/product-overview) instead.   | v4.6.0 |
| [`setDirectCdnStreamingVideoConfiguration(_:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setdirectcdnstreamingvideoconfiguration(_:)) | Sets the video profile of the media streams directly pushed to the CDN by the host. | Use [Media Push](/media-push/overview/product-overview) instead.                 | v4.6.0 |
| [`startDirectCdnStreaming(_:publishUrl:mediaOptions:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/startdirectcdnstreaming(_:publishurl:mediaoptions:))   | Starts pushing media streams to the CDN directly.    | Use [Media Push](/media-push/overview/product-overview) instead. | v4.6.0 |
| [`stopDirectCdnStreaming()`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/stopdirectcdnstreaming())    | Stops pushing media streams to the CDN directly.  | Use [Media Push](/media-push/overview/product-overview) instead.                 | v4.6.0 |
| [`onDirectCdnStreamingStateChanged(_:reason:message:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoradirectcdnstreamingeventdelegate/ondirectcdnstreamingstatechanged(_:reason:message:))     | CDN streaming state changed callback.   | Use [Media Push](/media-push/overview/product-overview) instead.                 | v4.6.0 |
| [`AgoraDirectCdnStreamingMediaOptions`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoradirectcdnstreamingmediaoptions)   | The media setting options for the host.  | Use [Media Push](/media-push/overview/product-overview) instead.                 | v4.6.0 |
| [`AgoraDirectCdnStreamingStats`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoradirectcdnstreamingstats)      | The statistics of the current CDN streaming. | Use [Media Push](/media-push/overview/product-overview) instead.                 | v4.6.0 |
| [`AgoraDirectCdnStreamingState`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoradirectcdnstreamingstate) |  The current CDN streaming state. | Use [Media Push](/media-push/overview/product-overview) instead.                 | v4.6.0 |
| [`AgoraDirectCdnStreamingReason`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoradirectcdnstreamingreason) | Reasons for the changes in CDN streaming status. | Use [Media Push](/media-push/overview/product-overview) instead. | v4.6.0 |
| [`startRhythmPlayer(_:sound2:config:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/startrhythmplayer(_:sound2:config:)) | Enables the virtual metronome | - | v4.6.0 |
| [`configRhythmPlayer(_:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/configrhythmplayer(_:)) | Configures the virtual metronome. | - |  v4.6.0 |
| [`rtcEngine(_:didRhythmPlayerStateChanged:reason:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginedelegate/rtcengine(_:didrhythmplayerstatechanged:reason:)) | Occurs when the state of virtual metronome changes. |  - |  v4.6.0 |
| [`addVideoWatermark(_:options:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/addvideowatermark(_:options:)) | Adds a watermark image to the local video. | Use `addVideoWatermarkWithImageUrl:options:` instead. |  v4.6.0 |
| [`addVideoWatermarkEx(_:options:connection:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/addvideowatermarkex(_:options:connection:)) | Adds a watermark image to the local video. | Use `addVideoWatermarkWithImageUrlEx:options:connection:` instead. |  v4.6.0 |
| [`pushExternalAudioFrameSampleBuffer(_:)`](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/pushexternalaudioframesamplebuffer(_:)) | Push external CMSampleBuffer audio frames. | [<code>pushExternalAudioFrameSampleBuffer<wbr/>(_:sampleRate:channels:trackId:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/pushexternalaudioframesamplebuffer(_:samplerate:channels:trackid:)) | v4.3.1 |
| [<code>enableDualStreamMode(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/enabledualstreammode(_:)) | Sets the dual-stream mode on the sender side. | [<code>setDualStreamMode(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setdualstreammode(_:)) | v4.2.0 |
| [<code>enableDualStreamMode(_:streamConfig:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/enabledualstreammode(_:streamconfig:)) | Sets dual-stream mode configuration on the sender side. | [<code>setDualStreamMode<wbr/>(_:streamConfig:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setdualstreammode(_:streamconfig:)) | v4.2.0 |
| [<code>enableDualStreamModeEx<wbr/>(_:streamConfig:connection:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/enabledualstreammodeex(_:streamconfig:connection:)) | Sets the dual-stream mode on the sender side. | [<code>setDualStreamModeEx<wbr/>(_:streamConfig:connection:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setdualstreammodeex(_:streamconfig:connection:)) | v4.2.0 |
| [<code>enableWebSdkInteroperability(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/enablewebsdkinteroperability(_:)) | Enables interoperability with the Agora Web SDK (applicable only in the live streaming use-cases). | - | v4.0.0 |
| [<code>setLogFileSize(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setlogfilesize(_:)) | Set the size of the log file output by the SDK. | Use the `logConfig` parameter in [<code>sharedEngine(with:delegate:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/sharedengine(with:delegate:)) | v4.0.0 |
| [<code>setExternalAudioSource<wbr/>(_:sampleRate:channels:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setexternalaudiosource(_:samplerate:channels:)) | Set external audio acquisition parameters. | [<code>createCustomAudioTrack<wbr/>(_:config:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/createcustomaudiotrack(_:config:)) | v4.0.0 |
| [<code>setExternalAudioSource<wbr/>(_:sampleRate:channels:localPlayback:<wbr/>publish:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setexternalaudiosource(_:samplerate:channels:localplayback:publish:)) | Set external audio acquisition parameters. | [<code>createCustomAudioTrack<wbr/>(_:config:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/createcustomaudiotrack(_:config:)) |  v4.0.0 |
| [<code>createDataStreamEx<wbr/>(_:reliable:ordered:connection:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/createdatastreamex(_:reliable:ordered:connection:)) | Create a data flow | [<code>createDataStreamEx<wbr/>(_:config:connection:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/createdatastreamex(_:config:connection:)) |  v4.0.0 |
| [<code>setLocalVideoMirrorMode(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setlocalvideomirrormode(_:)) | Set up local video mirroring. | [<code>setupLocalVideo(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setuplocalvideo(_:)) or [<code>setLocalRenderMode<wbr/>(_:<wbr/>mirror:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setlocalrendermode(_:mirror:)) |  v4.0.0 |
| [<code>setLogFile(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setlogfile(_:)) | Setting up log files. | Use the `logConfig` parameter in [<code>sharedEngine(with:delegate:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/sharedengine(with:delegate:)) | v4.0.0 |
| [<code>setAudioProfile(_:scenario:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setaudioprofile(_:scenario:)) | Set audio encoding properties and audio scene. | [<code>setAudioProfile(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setaudioprofile(_:)) or [<code>setAudioScenario(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setaudioscenario(_:)) |  v4.0.0 |
| [<code>preload(songCode:jsonOption:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoramusiccontentcenter/preload(songcode:jsonoption:)) | Preload music resources. | [<code>preload(songCode:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoramusiccontentcenter/preload(songcode:)) |  v4.0.0 |
| [<code>addVideoWatermark(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/addvideowatermark(_:)) | Add local video watermark. | [<code>addVideoWatermark(_:options:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/addvideowatermark(_:options:)) |  v4.0.0 |



## Removed APIs

The following APIs have been removed from the SDK. Please use the recommended alternative to implement related functions.

| Removed API | Description | Alternate API | Deleting version|
|:----|:------------|:--------------|:----------------|
| `setLocalPublishFallbackOption(_:)` | Sets the fallback option for the published video stream based on the network conditions. |  | v4.6.0 |
| `rtcEngine(_:didLocalPublishFallbackToAudioOnly:)` | Occurs when the published media stream falls back to an audio-only stream. |  | v4.6.0 |
| `rtcEngine(_:downlinkNetworkInfoUpdate:)` | 	Occurs when the downlink network information changes. |  | v4.6.0 |
| `wlAccStats` | Wi-Fi acceleration stats |  | v4.6.0 |
| `AgoraWlAccReason` |  |  | v4.6.0 |
| `AgoraWlAccAction` |  |  | v4.6.0 |
| `rtcEngine(_:wlAccStats:averageStats:)` |  |  | v4.6.0 |
| `rtcEngine(_:wlAccMessage:action:wlAccMsg:)` |  |  | v4.6.0 |
| `enableWirelessAccelerate` | 	Enables or disable Wi-Fi acceleration. |  | v4.6.0 |
| `receivedFrameRate` (removed from `AgoraRtcRemoteVideoStats`) |  |  | v4.6.0 |
| <code>setVideoProfile<wbr/>(_:swapWidthAndHeight:)</code> | Set the video encoding configuration. |  [<code>setVideoEncoderConfiguration(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setvideoencoderconfiguration(_:)) | v4.4.0 |
| <code>setRemoteRenderMode<wbr/>(_:mode:)</code> | Set the remote view display mode. | [<code>setRemoteRenderMode<wbr/>(_:mode:mirror:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/setremoterendermode(_:mode:mirror:)) | v4.4.0 |
| <code>openWithCustomSource<wbr/>(atStartPos:withPlayerOnReadData:<wbr/>andPlayerOnSeek:)</code> | Open the custom media resource file. | [<code>open(with:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcmediaplayerprotocol/open(with:)) | v4.4.0 |
| <code>setVideoQualityParameters<wbr/>(_:preferFrameRateOverImageQuality:)</code> | Set video optimization options (only available for live streaming). | Use the <code>degradationPreference</code> parameter in the [<code>AgoraVideoEncoderConfiguration</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoravideoencoderconfiguration) class| v4.4.0 |
| <code>startEchoTest(_:)</code> | Start the voice call loop test. | [<code>startEchoTest(withConfig:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/startechotest(withconfig:)) | v4.4.0 |
| <code>startEchoTestWithInterval<wbr/>(_:successBlock:)</code> | Start the voice call loop test. | [<code>startEchoTest(withConfig:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/startechotest(withconfig:)) | v4.4.0 |
| <code>setEncryptionMode(_:)</code> | Enable the built-in encryption scheme. | [<code>enableEncryption<wbr/>(_:encryptionConfig:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/enableencryption(_:encryptionconfig:)) | v4.4.0 |
| <code>setEncryptionSecret(_:)</code> | 	Enable built-in encryption, and set a data encryption password. | [<code>enableEncryption<wbr/>(_:encryptionConfig:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agorartcenginekit/enableencryption(_:encryptionconfig:)) | v4.4.0 |
| <code>onEvent(provider:extension:key:value:)</code> | Plugin event callback. | [<code>onEventWithContext(_:<wbr/>key:value:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoramediafiltereventdelegate/oneventwithcontext(_:key:value:)) | v4.4.0 |
| <code>onExtensionStarted(provider:extension:)</code> | Plugin enable callback. | [<code>onExtensionStartedWithContext(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoramediafiltereventdelegate/onextensionstartedwithcontext(_:)) | v4.4.0 |
| <code>onExtensionStopped(provider:extension:)</code> | Plugin disable callback. | [<code>onExtensionStoppedWithContext(_:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoramediafiltereventdelegate/onextensionstoppedwithcontext(_:)) | v4.4.0 |
| <code>onExtensionError<wbr/>(provider:extension:error:message:)</code> | Plugin error callback. | [<code>onExtensionErrorWithContext<wbr/>(_:error:message:)</code>](https://api-ref.agora.io/en/video-sdk/ios/4.x/documentation/agorartckit/agoramediafiltereventdelegate/onextensionerrorwithcontext(_:error:message:)) | v4.4.0 |

</PlatformWrapper>
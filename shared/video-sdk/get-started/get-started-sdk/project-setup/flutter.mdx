import CodeBlock from '@theme/CodeBlock';

<PlatformWrapper platform = "flutter">

### Create a project

Create your sample Flutter app by following the [steps for your IDE](https://docs.flutter.dev/get-started/test-drive?tab=vscode#create-app). To create a new project named `agora_project` from Terminal, run the following command:

```bash
flutter create agora_project
```

### Integrate the SDK

To integrate Agora <Vpd k="SDK" /> in your Flutter project, add the following under `dependencies`:

* `agora_rtc_engine`: Get the latest `agora_rtc_engine` version from [pub.dev](https://pub.dev/packages/agora_rtc_engine).
* `permission_handler`: To install the permission processing plugin.

1. Open the `pubspec.yaml` file and update the contents as follows:

    ```yaml
    environment:
    sdk: ">=2.12.0 <3.0.0"
    # Dependencies
    dependencies:
    flutter:
        sdk: flutter
    # The following adds the Cupertino Icons font to your application.
    # Use with the CupertinoIcons class for iOS style icons.
    cupertino_icons: ^1.0.8
    # Agora Flutter SDK, please use the latest version 
    agora_rtc_engine: ^6.0.0
    # Permissions handler 
    permission_handler: ^11.3.1
    ```

1. To obtain and install the dependencies, open Terminal and execute the following command in the project path:

    ```bash
    flutter pub get
    ```

### Create a user interface

Use the following code sample to build a basic user interface:

<details>
<summary>Sample code to create the user interface</summary>
<ProductWrapper notAllowed="voice-calling">

<CodeBlock language="dart" showLineNumbers>
{`// Build UI to display local view and remote view
@override
Widget build(BuildContext context) {
  return Scaffold(
    appBar: AppBar(title: const Text('Agora Video Call')),
    body: Stack(
      children: [
        Center(child: _remoteVideo()),
        Align(
          alignment: Alignment.topLeft,
          child: SizedBox(
            width: 100,
            height: 150,
            child: Center(
              child: _localUserJoined
                  ? _localVideo()
                  : const CircularProgressIndicator(),
            ),
          ),
        ),
      ],
    ),
  );
}`}
</CodeBlock>
</ProductWrapper>
<ProductWrapper product="voice-calling">

<CodeBlock language="dart" showLineNumbers>
{`// Build UI
@override
Widget build(BuildContext context) {
  return MaterialApp(
    title: 'Agora Voice Call',
    home: Scaffold(
      appBar: AppBar(
        title: const Text('Agora Voice Call'),
      ),
      body: Center(
        child: Text(
          _remoteUid != null
              ? "Remote user $_remoteUid joined"
              : "No remote user in the channel", // Show appropriate message
          style: const TextStyle(fontSize: 18),
        ),
      ),
    ),
  );
}`}
</CodeBlock>
</ProductWrapper>
</details>
</PlatformWrapper>
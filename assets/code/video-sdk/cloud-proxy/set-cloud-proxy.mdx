<PlatformWrapper platform="android">
    ```kotlin
    override fun joinChannel(channelName: String, token: String?): Int {
        // Check if a proxy connection is required
        if (directConnectionFailed) {
            // Start cloud proxy service and set automatic UDP mode.
            val proxyStatus = agoraEngine!!.setCloudProxy(TRANSPORT_TYPE_UDP_PROXY)
            if (proxyStatus == 0) {
                sendMessage("Proxy service setup successful")
            } else {
                sendMessage("Proxy service setup failed with error :$proxyStatus")
            }
        }
        return super.joinChannel(channelName, token)
    }
    ```
    - <Link to="{{Global.API_REF_ANDROID_ROOT}}/class_irtcengine.html#api_irtcengine_setcloudproxy">setCloudProxy</Link>
</PlatformWrapper>
<PlatformWrapper platform={["ios","macos"]}>
    ```swift
    func setCloudProxy(to proxyType: AgoraCloudProxyType) {
        self.agoraEngine.setCloudProxy(proxyType)
    }
    ```
    <PlatformWrapper platform="ios">
    - <Link to="{{Global.API_REF_IOS_ROOT_RTC_ENGINE_KIT}}/setcloudproxy(_:)">setCloudProxy(_:)</Link>
    </PlatformWrapper>
    <PlatformWrapper platform="macos">
    - <Link to="{{Global.API_REF_MACOS_ROOT_RTC_ENGINE_KIT}}/setcloudproxy(_:)">setCloudProxy(_:)</Link>
    </PlatformWrapper>
</PlatformWrapper>
<PlatformWrapper platform="unity">
    ```csharp
    agoraEngine.SetCloudProxy(proxyType);
    ```
    - <Link to="{{Global.API_REF_UNITY_ROOT}}/class_irtcengine.html#api_irtcengine_setcloudproxy">SetCloudProxy</Link>
    - <Link to="{{Global.API_REF_UNITY_ROOT}}/rtc_api_data_type.html#enum_cloudproxytype">CLOUD_PROXY_TYPE</Link>
</PlatformWrapper>
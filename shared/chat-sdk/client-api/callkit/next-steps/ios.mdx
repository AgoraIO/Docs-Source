<PlatformWrapper platform="ios">

### Call exceptions

If exceptions or errors occur during a call, the SDK triggers the `callDidOccurError` callback, which reports the detailed information of the exception in `AgoraChatCallError`. 

```objective-c
- (void)callDidOccurError:(AgoraChatCallError *_Nonnull)aError
{
}
```

### Update the user avator or nickname

After a user joins the call, you can call `setUser` to modify the avatar and nickname of the current user and the other users in the channel. 

```objective-c
AgoraChatCallUser *user = [AgoraChatCallUser userWithNickName:info.nickname image:[NSURL URLWithString:info.avatarUrl]];
[[AgoraChatCallManager.sharedManager getAgoraChatCallConfig] setUser:userId info:user];
```

### Authenticate users with the RTC token

To enhance communication security, Agora recommends that you authenticate app users with the RTC token before they join a call. To do this, you need to make sure that the [Primary Certificate of your project is enabled](https://docs.agora.io/en/All/faq/appid_to_token), and `enableRTCTokenValidate` in the AgoraChatCallKit is set to `YES`.

```objective-c
config.enableRTCTokenValidate = YES;  
[AgoraChatCallManager.sharedManager initWithConfig:config delegate:self];
```

Once you enable token authentication, ensure that you listen for the `callDidRequestRTCTokenForAppId` callback. When `callDidRequestRTCTokenForAppId` is triggered, you need to retrieve the token and call `setRTCToken` to pass the token to the CallKit. Tokens are generated on your app server using the token generator provided by Agora. For how to generate a token on the server and retrieve and renew the token on the client, see [Authenticate Your Users with Tokens](https://docs.agora.io/en/Video/token_server?platform=iOS).


```Objecitve-C
- (void)callDidRequestRTCTokenForAppId:(NSString *)aAppId channelName:(NSString *)aChannelName account:(NSString *)aUserAccount uid:(NSInteger)aAgoraUid
{
    [AgoraChatCallManager.sharedManager setRTCToken:rtcToken channelName:aChannelName uid: The Agora UID];
}
```

</PlatformWrapper>
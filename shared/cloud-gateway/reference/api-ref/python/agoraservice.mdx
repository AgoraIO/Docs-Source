---

title: AgoraService Class
---

<span className="index-group-agoraservice" style={{display: 'none'}}>AgoraService</span>
<span className="index-desc-agoraservice">The `AgoraService` class serves as the entry point for the SDK, allowing you to create media tracks and connections.</span>

<h2 className="anchor index-group-item-agoraservice index-api-initialize" id="initialize">initialize</h2>

```python
def initialize(self, config: AgoraServiceConfig)
```

<span className="index-desc-initialize">Initializes the `AgoraService` object.</span>

#### Parameters

| Parameter | Description                                                              |
|-----------|--------------------------------------------------------------------------|
| `config`  | Initialization configuration. See [`AgoraServiceConfig`](./apidatatype#agoraserviceconfig). |

#### Returns

- `0`: Success.
- < `0`: Failure.

<h2 className="anchor index-group-item-agoraservice index-api-release" id="release">release</h2>

```python
def release(self)
```

<span className="index-desc-release">Releases the `AgoraService` object.</span>

<h2 className="anchor index-group-item-agoraservice index-api-creatertcconnection" id="creatertcconnection">create_rtc_connection</h2>

```python
def create_rtc_connection(self, con_config: RTCConnConfig)
```

<span className="index-desc-creatertcconnection">Creates an RTC connection object.</span>

<Admonition type="caution" title="Caution">
To create multiple connections, Agora recommends using multiple processes to avoid memory leaks and other issues.
</Admonition>

#### Parameters

| Parameter    | Description                                                              |
|--------------|--------------------------------------------------------------------------|
| `con_config` | RTC connection configuration. See [`RTCConnConfig`](./rtcconnection#rtcconnconfig). |

#### Returns

- `RTCConnection` object, if the method call succeeds.
- `None`, if the method call fails.

<h2 className="anchor index-group-item-agoraservice index-api-createcustomaudiotrackpcm" id="createcustomaudiotrackpcm">create_custom_audio_track_pcm</h2>

```python
def create_custom_audio_track_pcm(self, audio_pcm_data_sender: AudioPcmDataSender)
```

<span className="index-desc-createcustomaudiotrackpcm">Creates a local audio track object with an audio source that sends PCM audio data. This track object can be used to send audio data in PCM format.</span>

#### Parameters

| Parameter             | Description                                                              |
|-----------------------|--------------------------------------------------------------------------|
| `audio_pcm_data_sender` | PCM format audio data source. See [`AudioPcmDataSender`](./audiopcmdatasender#audiopcmdatasender). |

#### Returns

- `LocalAudioTrack` object, if the method call succeeds.
- `None`, if the method call fails.

<h2 className="anchor index-group-item-agoraservice index-api-createcustomaudiotrackencoded" id="createcustomaudiotrackencoded">create_custom_audio_track_encoded</h2>

```python
def create_custom_audio_track_encoded(self, audio_encoded_frame_sender: AudioEncodedFrameSender, mix_mode: int)
```

<span className="index-desc-createcustomaudiotrackencoded">Creates a local audio track object with an audio source that sends encoded audio data. This track object can be used to send encoded audio data, such as Opus format encoded data.</span>

#### Parameters

export const TableHeaderamvpypn9q5 = [
  {
    label: 'Parameter'
  },
  {
    label: 'Description'
  }
];

<Table header={TableHeaderamvpypn9q5}>
  <Tr>
    <Td>`audio_encoded_frame_sender`</Td>
    <Td>Audio source that sends encoded audio data. See [`AudioEncodedFrameSender`](./audioencodedframesender#audioencodedframesender).</Td>
  </Tr>
  <Tr>
    <Td>`mix_mode`</Td>
    <Td>
    Mix mode for the encoded audio in the channel.
    - `0`: Mix all audio tracks in the channel.
    - `1`: Do not mix audio.
    </Td>
  </Tr>
</Table>

#### Returns

- `LocalAudioTrack` object, if the method call succeeds.
- `None`, if the method call fails.

<h2 className="anchor index-group-item-agoraservice index-api-createmedianodefactory" id="createmedianodefactory">create_media_node_factory</h2>

```python
def create_media_node_factory(self)
```

<span className="index-desc-createmedianodefactory">Creates a media node factory object.</span>

#### Returns

- `MediaNodeFactory` object, if the method call succeeds.
- `None`, if the method call fails.

<h2 className="anchor index-group-item-agoraservice index-api-createcustomvideotrackframe" id="createcustomvideotrackframe">create_custom_video_track_frame</h2>

```python
def create_custom_video_track_frame(self, video_frame_sender: VideoFrameSender)
```

<span className="index-desc-createcustomvideotrackframe">Creates a local video track object with a video source that sends YUV format video data. This track object can be used to send video data in YUV format.</span>

#### Parameters

| Parameter            | Description                                                              |
|----------------------|--------------------------------------------------------------------------|
| `video_frame_sender` | YUV format video source object. See [`VideoFrameSender`](./videoframesender#videoframesender). |

#### Returns

- `LocalVideoTrack` object, if the method call succeeds.
- `None`, if the method call fails.

<h2 className="anchor index-group-item-agoraservice index-api-createcustomvideotrackencoded" id="createcustomvideotrackencoded">create_custom_video_track_encoded</h2>

```python
def create_custom_video_track_encoded(self, video_encoded_frame_sender: VideoEncodedImageSender, options: SenderOptions)
```

<span className="index-desc-createcustomvideotrackencoded">Creates a local video track object with a video source that sends encoded video data. This track object can be used to send encoded video data, such as H.264 or VP8 format encoded data.</span>

#### Parameters

| Parameter                     | Description                                                              |
|-------------------------------|--------------------------------------------------------------------------|
| `video_encoded_frame_sender`  | Video source that sends encoded video data. See [`VideoEncodedImageSender`](./videoencodedimagesender). |
| `options`                     | Video track settings. See [`SenderOptions`](./apidatatype#senderoptions). |

#### Returns

- `LocalVideoTrack` object, if the method call succeeds.
- `None`, if the method call fails.

<h2 className="anchor index-group-item-agoraservice index-api-setlogfile" id="setlogfile">set_log_file</h2>

```python
def set_log_file(self, log_path: str, log_size: int = 512 * 1024)
```

<span className="index-desc-setlogfile">Sets the path and size of the SDK log file.</span>

The SDK generates 5 SDK log files and 5 API call log files by default, following these rules:

- The SDK log files are named: `agorasdk.log`, `agorasdk.1.log`, `agorasdk.2.log`, `agorasdk.3.log`, `agorasdk.4.log`.
- The API call log files are named: `agoraapi.log`, `agoraapi.1.log`, `agoraapi.2.log`, `agoraapi.3.log`, `agoraapi.4.log`.
- Each SDK log file has a default size of 1,024 KB; each API call log file has a default size of 2,048 KB. All log files are UTF-8 encoded.
- The latest logs are always written to `agorasdk.log` and `agoraapi.log`.

When `agorasdk.log` is full, the SDK handles the log files as follows:

- Deletes the `agorasdk.4.log` file (if it exists).
- Renames `agorasdk.3.log` to `agorasdk.4.log`.
- Renames `agorasdk.2.log` to `agorasdk.3.log`.
- Renames `agorasdk.1.log` to `agorasdk.2.log`.
- Creates a new `agorasdk.log` file.

The `agoraapi.log` file follows the same rotation rules as `agorasdk.log`.

#### Parameters

| Parameter | Description                                                                                      |
|-----------|--------------------------------------------------------------------------------------------------|
| `log_path` | Full path of the log file. The log file is UTF-8 encoded.                                        |
| `log_size` | Size of a single `agorasdk.log` log file in KB, with a range of [128, 20480]. Default is 1,024 KB. If you set `file_size` to less than 128 KB, the SDK automatically adjusts it to 128 KB; if you set `file_size` to more than 20,480 KB, the SDK automatically adjusts it to 20,480 KB. |

#### Returns

- `0`: Success.
- < `0`: Failure.

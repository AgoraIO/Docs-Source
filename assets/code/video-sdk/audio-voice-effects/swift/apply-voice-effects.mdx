<PlatformWrapper platform="macos">
```swift
@objc func applyVoiceEffectBtnClicked() {
    voiceEffectIndex += 1
    // Turn off any previous effects
    agoraEngine.setVoiceBeautifierPreset(AgoraVoiceBeautifierPreset.presetOff)
    agoraEngine.setAudioEffectPreset(AgoraAudioEffectPreset.off)
    agoraEngine.setVoiceConversionPreset(AgoraVoiceConversionPreset.off)
    agoraEngine.setLocalVoiceFormant(0.0)

    if (voiceEffectIndex == 1) {
        agoraEngine.setVoiceBeautifierPreset(AgoraVoiceBeautifierPreset.presetChatBeautifierMagnetic)
        applyVoiceEffectBtn.title = "Chat Beautifier"
    } else if (voiceEffectIndex == 2) {
        agoraEngine.setVoiceBeautifierPreset(AgoraVoiceBeautifierPreset.presetSingingBeautifier)
        applyVoiceEffectBtn.title = "Singing Beautifier"
    } else if (voiceEffectIndex == 3) {
        // Modify the timbre using the formantRatio
        // Range is [-1.0, 1.0], [giant, child] default value is 0.
        agoraEngine.setLocalVoiceFormant(0.6)
        applyVoiceEffectBtn.title = "Voice effect: Adjust Formant"
    } else if (voiceEffectIndex == 4) {
        agoraEngine.setAudioEffectPreset(AgoraAudioEffectPreset.voiceChangerEffectHulk)
        applyVoiceEffectBtn.title = "Hulk"
    } else if (voiceEffectIndex == 5) {
        agoraEngine.setVoiceConversionPreset(AgoraVoiceConversionPreset.changerBass)
        applyVoiceEffectBtn.title = "Voice Changer"
    } else if (voiceEffectIndex == 6) {
        // Sets the local voice equalization.
        // The first parameter sets the band frequency. The value ranges between 0 and 9.
        // Each value represents the center frequency of the band:
        // 31, 62, 125, 250, 500, 1k, 2k, 4k, 8k, and 16k Hz.
        // The second parameter sets the gain of each band between -15 and 15 dB.
        // The default value is 0.
        agoraEngine.setLocalVoiceEqualizationOf(AgoraAudioEqualizationBandFrequency.band500, withGain: 3)
        agoraEngine.setLocalVoicePitch(0.5)
        applyVoiceEffectBtn.title = "Voice Equalization"
    } else if (voiceEffectIndex > 6) { // Remove all effects
        voiceEffectIndex = 0
        agoraEngine.setLocalVoicePitch(1.0)
        agoraEngine.setLocalVoiceEqualizationOf(AgoraAudioEqualizationBandFrequency.band500, withGain: 0)
        applyVoiceEffectBtn.title = "Voice effect"
    }
}
```
</PlatformWrapper>
<PlatformWrapper platform="ios">
```swift
@objc func applyVoiceEffectBtnClicked() {
    voiceEffectIndex += 1
    // Turn off any previous effects
    agoraEngine.setVoiceBeautifierPreset(AgoraVoiceBeautifierPreset.presetOff)
    agoraEngine.setAudioEffectPreset(AgoraAudioEffectPreset.off)
    agoraEngine.setVoiceConversionPreset(AgoraVoiceConversionPreset.off)

    if (voiceEffectIndex == 1) {
        agoraEngine.setVoiceBeautifierPreset(AgoraVoiceBeautifierPreset.presetChatBeautifierMagnetic)
        applyVoiceEffectBtn.setTitle("Voice effect: Chat Beautifier", for: .normal)
    } else if (voiceEffectIndex == 2) {
        agoraEngine.setVoiceBeautifierPreset(AgoraVoiceBeautifierPreset.presetSingingBeautifier)
        applyVoiceEffectBtn.setTitle("Voice effect: Singing Beautifier", for: .normal)
    } else if (voiceEffectIndex == 3) {
        agoraEngine.setAudioEffectPreset(AgoraAudioEffectPreset.voiceChangerEffectHulk)
        applyVoiceEffectBtn.setTitle("Audio effect: Hulk", for: .normal)
    } else if (voiceEffectIndex == 4) {
        agoraEngine.setVoiceConversionPreset(AgoraVoiceConversionPreset.changerBass)
        applyVoiceEffectBtn.setTitle("Audio effect: Voice Changer", for: .normal)
    } else if (voiceEffectIndex == 5) {
        // Sets the local voice equalization.
        // The first parameter sets the band frequency. The value ranges between 0 and 9.
        // Each value represents the center frequency of the band:
        // 31, 62, 125, 250, 500, 1k, 2k, 4k, 8k, and 16k Hz.
        // The second parameter sets the gain of each band between -15 and 15 dB.
        // The default value is 0.
        agoraEngine.setLocalVoiceEqualizationOf(AgoraAudioEqualizationBandFrequency.band500, withGain: 3)
        agoraEngine.setLocalVoicePitch(0.5)
        applyVoiceEffectBtn.setTitle("Audio effect: Voice Equalization", for: .normal)
    } else if (voiceEffectIndex > 5) { // Remove all effects
        voiceEffectIndex = 0
        agoraEngine.setLocalVoicePitch(1.0)
        agoraEngine.setLocalVoiceEqualizationOf(AgoraAudioEqualizationBandFrequency.band500, withGain: 0)
        applyVoiceEffectBtn.setTitle("Apply voice effect", for: .normal)
    }
}
```
</PlatformWrapper>
## IAgoraService

| API | Description |
|---|---|
|[`createAgoraService`](#createagoraservice) | Creates an [`IAgoraService`](#iagoraservice) object and returns a pointer. |
|[`initialize`](#initialize) | Initializes the [`IAgoraService`](#iagoraservice) object. |
|[`release`](#release) | Releases the [`IAgoraService`](#iagoraservice) object. |
|[`setLogFile`](#setlogfile) | Sets the path and size of the SDK log file. |
|[`setLogFilter`](#setlogfilter) | Sets the SDK log output filter. |
|[`getAgoraParameter`](#getagoraparameter) | Gets the `IAgoraParameter` object. |

### createAgoraService

```cpp
AGORA_API agora::base::IAgoraService* AGORA_CALL createAgoraService();
```

Creates an [`IAgoraService`](#iagoraservice) object and returns a pointer.

#### Return value

- Returns a pointer to an [`IAgoraService`](#iagoraservice) object if the method call succeeds.  
- Returns a null pointer if the method call fails.


### initialize

```cpp
virtual int initialize(const AgoraServiceConfiguration& config) = 0;
```

Initializes the [`IAgoraService`](#iagoraservice) object.

#### Parameters

| Parameter | Data Type | Description |
|-----------|-----------|-------------|
| `config`  | `const AgoraServiceConfiguration&` | Initialization configuration. See [`AgoraServiceConfiguration`](#agoraserviceconfiguration). |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.



### release

```cpp
virtual int release() = 0;
```

Releases the [`IAgoraService`](#iagoraservice) object.

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.



### setLogFile

```cpp
virtual int setLogFile(const char* filePath, unsigned int fileSize, aosl_ref_t ares = AOSL_REF_INVALID) = 0;
```

Sets the path and size of the SDK log file.

During runtime, the SDK writes all log data to two log files, each with a default size of 512 KB. If you set `fileSize` to 1024 KB, the total size of the log files will be 2 MB. When the total size exceeds the set limit, new logs overwrite old ones.

<Admonition type="caution" title="Note">
To ensure complete log output, call this method immediately after calling [`initialize`](#initialize).
</Admonition>

#### Parameters

| Parameter | Data Type | Description |
|-----------|-----------|-------------|
| `filePath` | `const char*` | Pointer to the log file path. Make sure the directory exists and is writable. |
| `fileSize` | `unsigned int` | Size of each log file in bytes. |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.



### setLogFilter

```cpp
virtual int setLogFilter(unsigned int filters, aosl_ref_t ares = AOSL_REF_INVALID) = 0;
```

Sets the SDK log output filter.

Log levels are ordered as follows: `OFF`, `CRITICAL`, `ERROR`, `WARNING`, `INFO`, and `DEBUG`. The SDK outputs logs of the set level and higher.

#### Parameters

| Parameter | Data Type | Description |
|-----------|-----------|-------------|
| `filters` | `unsigned int` | Log output filter:  
- `LOG_LEVEL_NONE (0x0000)`: Do not output any log files.  
- `LOG_LEVEL_INFO (0x0001)`: (Recommended) Output logs at the `INFO` level.  
- `LOG_LEVEL_WARN (0x0002)`: Output logs at the `WARN` level.  
- `LOG_LEVEL_ERROR (0x0004)`: Output logs at the `ERROR` level.  
- `LOG_LEVEL_FATAL (0x0008)`: Output logs at the `FATAL` level. |

#### Return value

- 0: The method call succeeds.  
- < 0: The method call fails.


### getAgoraParameter

```cpp
virtual agora_refptr<base::IAgoraParameter> getAgoraParameter() = 0;
```

Gets the `IAgoraParameter` object.

#### Return value

- Returns the `IAgoraParameter` object if the method call succeeds.  
- Returns a null pointer if the method call fails.
